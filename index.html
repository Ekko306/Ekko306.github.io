<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'å¤åˆ¶',
      copy_success: 'å¤åˆ¶æˆåŠŸ',
      copy_failure: 'å¤åˆ¶å¤±è´¥'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="You are my JavaSript in my HTML.">
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="You are my JavaSript in my HTML.">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="You are my JavaSript in my HTML.">
  <link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Hexo</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            
  <div id="posts" class="posts-expand">
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/22/dive-into-deep-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2020/01/22/dive-into-deep-learning/" class="post-title-link" itemprop="url">dive into deep learning</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-01-22 15:02:08" itemprop="dateCreated datePublished" datetime="2020-01-22T15:02:08+08:00">2020-01-22</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-01-23 21:44:57" itemprop="dateModified" datetime="2020-01-23T21:44:57+08:00">2020-01-23</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ "><a href="#åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ " class="headerlink" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ "></a>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </h1><h2 id="ç¬¬2ç« -é¢„å¤‡çŸ¥è¯†"><a href="#ç¬¬2ç« -é¢„å¤‡çŸ¥è¯†" class="headerlink" title="ç¬¬2ç«  é¢„å¤‡çŸ¥è¯†"></a>ç¬¬2ç«  é¢„å¤‡çŸ¥è¯†</h2><h3 id="2-2-æ•°æ®æ“ä½œ"><a href="#2-2-æ•°æ®æ“ä½œ" class="headerlink" title="2.2 æ•°æ®æ“ä½œ"></a>2.2 æ•°æ®æ“ä½œ</h3><p>ä¸»è¦å­¦ä¹ ç”¨MXNetåŒ…ï¼Œå¥½åƒå’ŒNumpyæœ‰ç›¸ä¼¼çš„åœ°æ–¹ï¼Œä½†å¥½åƒåˆæœ‰åŒºåˆ«ï¼Œä¹‹åæ€»ç»“ã€‚<br>å¾ˆåŸºç¡€</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> nd</span><br><span class="line">x=nd.arrange(<span class="number">12</span>)</span><br><span class="line">x.shape</span><br><span class="line">x.size  <span class="comment">#ä¸shapeä¸åŒ sizeå¾—åˆ°å®ä¾‹ä¸­å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">x.reshape((<span class="number">3</span>, <span class="number">4</span>)) <span class="comment">#x.reshape((-1, 4)è‡ªåŠ¨</span></span><br><span class="line">nd.zeros((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">nd.ones(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment">#é€šè¿‡pythonçš„åˆ—è¡¨ç½®é¡¶éœ€è¦åˆ›å»ºçš„NDArrayä¸­æ¯ä¸ªå…ƒç´ çš„å€¼</span></span><br><span class="line">Y = nd.array([[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br><span class="line">nd.random.normal(<span class="number">0</span>, <span class="number">1</span>, shape=(<span class="number">3</span>, <span class="number">4</span>)) <span class="comment">#æ­£æ€åˆ†å¸ƒ</span></span><br><span class="line">X + Y</span><br><span class="line">X * Y</span><br><span class="line">X / Y</span><br><span class="line">Y.exp()</span><br><span class="line">nd.dot(X, Y.T)  <span class="comment">#Y.TçŸ©é˜µè½¬ç½®</span></span><br><span class="line"><span class="comment">#å°†å¤šä¸ªçŸ©é˜µè”ç»“ </span></span><br><span class="line">nd.concat(X, Y, dim=<span class="number">0</span>) <span class="comment">#ç»´åº¦0 åœ¨è¡Œä¸Šè¿ç»“</span></span><br><span class="line">nd.concat(X, Y, dim=<span class="number">1</span>) <span class="comment">#ç»´åº¦1 åœ¨åˆ—ä¸Šè¿ç»“</span></span><br><span class="line">x==y <span class="comment">#åˆ¤æ–­å…ƒç´ ä¸­ç›¸åŒçš„éƒ¨åˆ†</span></span><br><span class="line">X.sum()</span><br><span class="line">X.norm().asscalar() <span class="comment">#å°†ç»“æœè½¬æ¢æˆPythonä¸­çš„æ ‡é‡ã€‚.norm()è®¡ç®—çŸ©é˜µèŒƒæ•°</span></span><br><span class="line">Y.exp()=nd.exp(Y)</span><br></pre></td></tr></table></figure>

<p><strong>å¹¿æ’­æœºåˆ¶</strong><br>å‰é¢æ˜¯å½¢çŠ¶ç›¸åŒçš„NDArrayåšæŒ‰å…ƒç´ è¿ç®—ã€‚å½“å¯¹ä¸¤ä¸ªå½¢çŠ¶ä¸åŒçš„NDArrayæŒ‰å…ƒç´ è¿ç®—æ—¶ï¼Œå¯èƒ½å‡ºå‘å¹¿æ’­æœºåˆ¶ï¼šçº¿é€‚å½“å¤åˆ¶å…ƒç´ ä½¿è¿™ä¸¤ä¸ªNDArrayå½¢çŠ¶ç›¸åŒåå†æŒ‰å…ƒç´ è¿ç®—</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A = nd.arange(<span class="number">3</span>).reshape((<span class="number">3</span>, <span class="number">1</span>))</span><br><span class="line">B = nd.arange(<span class="number">2</span>).reshape((<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">A + B</span><br></pre></td></tr></table></figure>

<p><strong>ç´¢å¼•</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">x[<span class="number">1</span>, <span class="number">2</span>] = <span class="number">9</span></span><br><span class="line">X[<span class="number">1</span>:<span class="number">2</span>, :] = <span class="number">12</span> <span class="comment">#æˆªå–ä¸€éƒ¨åˆ†é‡æ–°èµ‹å€¼</span></span><br><span class="line"><span class="comment">#[[ 0.  1.  2.  3.]</span></span><br><span class="line"><span class="comment">#[12. 12. 12. 12.]</span></span><br><span class="line"><span class="comment">#[ 8.  9. 10. 11.]]</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿ç®—çš„å†…å­˜å¼€é”€</strong><br>è¿™ä¸ªå¾ˆé…·ï¼Œå¯¹æ•ˆç‡æœ‰å…³<br>å‰é¢çš„ä¾‹å­é‡Œæˆ‘ä»¬å¯¹æ¯ä¸ªæ“ä½œæ–°å¼€å†…å­˜æ¥å­˜å‚¨è¿ç®—ç»“æœã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåƒ<code>Y=X+Y</code>è¿™æ ·çš„è¿ç®—ä¹Ÿä¼šæ–°å¼€å†…å­˜ï¼Œç„¶åå°†YæŒ‡å‘æ–°å†…å­˜ã€‚å¯ä»¥ç”¨pythonè‡ªå¸¦idå‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">before = id(Y)</span><br><span class="line">Y = Y + X</span><br><span class="line">before, id(Y)</span><br><span class="line"><span class="comment">#(112511066600, 112511066400)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‡å®šç‰¹å®šå†…å­˜ï¼Œå¯ä»¥ç”¨å‰é¢çš„ç´¢å¼•</span></span><br><span class="line">Z = Y.zeros_like() </span><br><span class="line">before = id(Z)</span><br><span class="line">Z[:] = X + Y</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®é™…ä¸Šä¸Šé¢æˆ‘ä»¬ä¸ºäº†è®¡ç®—X+Yè¿˜æ˜¯å¼€äº†ä¸´æ—¶å†…å­˜æ¥å­˜å‚¨è®¡ç®—ç»“æœï¼Œå†å¤åˆ¶åˆ°zå¯¹åº”çš„å†…å­˜ã€‚ä¸ºäº†é¿å…è¿™ä¸ªä¸´æ—¶å†…å­˜å¼€é”€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿ç®—ç¬¦å…¨åå‡½æ•°æ±‡æ€»çš„outå‚æ•°</span></span><br><span class="line">nd.elemwise_add(X, Y, out=Z)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœXçš„å€¼åœ¨ä¹‹åçš„ç¨‹åºä¸­ä¸ä¼šå¤ç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨X[:] = X + Yæˆ–è€… X+=Yæ¥å‡å°‘è¿ç®—çš„å†…å­˜å¼€é”€</span></span><br><span class="line">before = id(X)</span><br><span class="line">X += Y</span><br><span class="line">id(X) == before <span class="comment">#True</span></span><br></pre></td></tr></table></figure>

<p><strong>NDArrayå’ŒNumPyç›¸äº’å˜æ¢</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">P = np.ones((<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">D = nd.array(P)  <span class="comment">#numpyè½¬æ¢æˆNDArray</span></span><br><span class="line"></span><br><span class="line">D.asnumpy()  <span class="comment">#NDArrayè½¬æ¢æˆnumpy</span></span><br></pre></td></tr></table></figure>

<p><strong>so easyï¼ å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘çš„å­¦ä¹ ï¼</strong></p>
<h2 id="2-3-è‡ªåŠ¨æ±‚æ¢¯åº¦"><a href="#2-3-è‡ªåŠ¨æ±‚æ¢¯åº¦" class="headerlink" title="2.3 è‡ªåŠ¨æ±‚æ¢¯åº¦"></a>2.3 è‡ªåŠ¨æ±‚æ¢¯åº¦</h2><p>æ·±åº¦å­¦ä¹ ä¸­æˆ‘ä»¬ç»å¸¸æ±‚æ¢¯åº¦ã€‚æœ¬èŠ‚ä»‹ç»å¦‚ä½•ä½¿ç”¨MXNetæä¾›çš„autogradæ¨¡å—è‡ªåŠ¨æ±‚æ¢¯åº¦</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> autograd, nd <span class="comment">#è‡ªåŠ¨æ±‚æ¢¯åº¦çš„åŒ…  </span></span><br><span class="line">x = nd.arange(<span class="number">4</span>).reshape((<span class="number">4</span>, <span class="number">1</span>))</span><br><span class="line">x.attach_grad() <span class="comment">#ç»‘å®šæ±‚xå€¼</span></span><br><span class="line"><span class="keyword">with</span> autograd.record():</span><br><span class="line">    y = <span class="number">2</span> * nd.dot(x.T, x)</span><br><span class="line">y.backward()</span><br><span class="line"><span class="keyword">assert</span> (x.grad - <span class="number">4</span> * x).norm().asscalar() == <span class="number">0</span></span><br><span class="line">x.grad</span><br></pre></td></tr></table></figure>

<p>ç”¨äº†autogradå°†é¢„æµ‹æ¨¡å¼è½¬æ¢ä¸ºè®­ç»ƒæ¨¡å¼ï¼ˆé¢„æµ‹æ¨¡å¼ä¸éœ€è¦è®°å½•æ¢¯åº¦ï¼Ÿï¼‰æŸäº›æƒ…å†µä¸‹ï¼ŒåŒä¸€ä¸ªæ¨¡å‹åœ¨è®­ç»ƒæ¨¡å¼å’Œé¢„æµ‹æ¨¡å¼ä¸‹çš„è¡Œä¸ºå¹¶ä¸ç›¸åŒã€‚æˆ‘ä»¬åœ¨åé¢çš„ç« èŠ‚è¯¦ç»†ä»‹ç»åŒºåˆ«ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(autograd.is_training()) <span class="comment"># False</span></span><br><span class="line"><span class="keyword">with</span> autograd.record():</span><br><span class="line">    print(autograd.is_training()) <span class="comment">#True</span></span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰é¬¼ä¸œè¥¿ï¼Œå¯¹pythonæ§åˆ¶æµæ±‚æ¢¯åº¦<br>å³ä½¿å‡½æ•°çš„è®¡ç®—å›¾åŒ…å«äº†Pythonçš„æ§åˆ¶æµï¼ˆå¦‚æ¡ä»¶å’Œå¾ªç¯æ§åˆ¶ï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½å¯¹å˜é‡æ±‚æ¢¯åº¦ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(a)</span>:</span></span><br><span class="line">    b = a * <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> b.norm().asscalar() &lt; <span class="number">1000</span>:</span><br><span class="line">        b = b * <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> b.sum().asscalar() &gt; <span class="number">0</span>:</span><br><span class="line">        c = b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        c = <span class="number">100</span> * b</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">a = nd.random.normal(shape=<span class="number">1</span>)</span><br><span class="line">a.attach_grad()</span><br><span class="line"><span class="keyword">with</span> autograd.record():</span><br><span class="line">    c = f(a)</span><br><span class="line">c.backward()</span><br><span class="line"></span><br><span class="line">a.grad == c / a</span><br></pre></td></tr></table></figure>

<p>easy!å°±æ˜¯è¯´æ˜äº†å•¥pythonæµçš„æƒ…å†µä¹Ÿé€‚ç”¨</p>
<h2 id="ç¬¬3ç« -æ·±åº¦å­¦ä¹ åŸºç¡€"><a href="#ç¬¬3ç« -æ·±åº¦å­¦ä¹ åŸºç¡€" class="headerlink" title="ç¬¬3ç«  æ·±åº¦å­¦ä¹ åŸºç¡€"></a>ç¬¬3ç«  æ·±åº¦å­¦ä¹ åŸºç¡€</h2><h3 id="3-1-çº¿æ€§å›å½’-ï¼ˆå…¨æ¦‚å¿µï¼‰"><a href="#3-1-çº¿æ€§å›å½’-ï¼ˆå…¨æ¦‚å¿µï¼‰" class="headerlink" title="3.1 çº¿æ€§å›å½’ ï¼ˆå…¨æ¦‚å¿µï¼‰"></a>3.1 çº¿æ€§å›å½’ ï¼ˆå…¨æ¦‚å¿µï¼‰</h3><p>åŒºåˆ†å›å½’ä¸åˆ†ç±»</p>
<h4 id="3-1-1-çº¿æ€§å›å½’çš„åŸºæœ¬è¦ç´ "><a href="#3-1-1-çº¿æ€§å›å½’çš„åŸºæœ¬è¦ç´ " class="headerlink" title="3.1.1 çº¿æ€§å›å½’çš„åŸºæœ¬è¦ç´ "></a>3.1.1 çº¿æ€§å›å½’çš„åŸºæœ¬è¦ç´ </h4><ul>
<li>1.æ¨¡å‹</li>
<li>2.æ¨¡å‹è®­ç»ƒ<ul>
<li>1.è®­ç»ƒæ•°æ®<br>è®­ç»ƒé›†(training set)<br>æ ·æœ¬(sample)<br>æ ‡ç­¾(label)<br>ç‰¹å¾(feature)</li>
<li>2.æŸå¤±å‡½æ•°</li>
<li>3.ä¼˜åŒ–ç®—æ³•</li>
</ul>
</li>
<li>3.æ¨¡å‹é¢„æµ‹<h4 id="3-1-2-çº¿æ€§å›å½’çš„è¡¨ç¤ºæ–¹æ³•"><a href="#3-1-2-çº¿æ€§å›å½’çš„è¡¨ç¤ºæ–¹æ³•" class="headerlink" title="3.1.2 çº¿æ€§å›å½’çš„è¡¨ç¤ºæ–¹æ³•"></a>3.1.2 çº¿æ€§å›å½’çš„è¡¨ç¤ºæ–¹æ³•</h4></li>
</ul>
<p><strong>1.ç¥ç»ç½‘ç»œå›¾</strong><br>æ·±åº¦å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¥ç»ç½‘ç»œå›¾ç›´è§‚åœ°è¡¨ç°æ¨¡å‹ç»“æ„ã€‚<br>çº¿æ€§å›å½’æ˜¯ä¸€ä¸ªå•å±‚çš„ç¥ç»ç½‘ç»œã€‚<br>è¾“å…¥å±‚<br>è¾“å‡ºå±‚ï¼šå…¨è¿æ¥å±‚æˆ–ç¨ å¯†å±‚<br><strong>2.çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼</strong><br>è¯´äº†åŠå¤©å°±æ˜¯ç”¨çŸ¢é‡æ•ˆç‡é«˜ï¼Œè¿ç”¨å¹¿æ’­æœºåˆ¶åŠ ä¸Šbã€‚<br>çŸ¢é‡é‡å†™æŸå¤±å‡½æ•°</p>
<h3 id="3-2-çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°"><a href="#3-2-çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°" class="headerlink" title="3.2 çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°"></a>3.2 çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°</h3><p>å°½ç®¡å¼ºå¤§çš„æ·±åº¦å­¦ä¹ æ¡†æ¶å¯ä»¥å‡å°‘å¤§é‡é‡å¤æ€§å·¥ä½œï¼Œä½†è‹¥è¿‡äºä¾èµ–å®ƒæä¾›çš„ä¾¿åˆ©ï¼Œä¼šå¯¼è‡´æˆ‘ä»¬å¾ˆéš¾æ·±å…¥ç†è§£æ·±åº¦å­¦ä¹ æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å› æ­¤ï¼Œæœ¬èŠ‚å°†ä»‹ç»å¦‚ä½•åªåˆ©ç”¨NDArrayå’Œautogradæ¥å®ç°ä¸€ä¸ªçº¿æ€§å›å½’çš„è®­ç»ƒã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">from</span> IPython <span class="keyword">import</span> display</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> autograd, nd</span><br><span class="line"><span class="keyword">import</span> random</span><br></pre></td></tr></table></figure>

<h4 id="3-2-1-ç”Ÿæˆæ•°æ®é›†"><a href="#3-2-1-ç”Ÿæˆæ•°æ®é›†" class="headerlink" title="3.2.1 ç”Ÿæˆæ•°æ®é›†"></a>3.2.1 ç”Ÿæˆæ•°æ®é›†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">num_inputs = <span class="number">2</span></span><br><span class="line">num_examples = <span class="number">1000</span></span><br><span class="line">true_w = [<span class="number">2</span>, <span class="number">-3.4</span>]</span><br><span class="line">true_b = <span class="number">4.2</span></span><br><span class="line">features = nd.random.normal(scale=<span class="number">1</span>, shape=(num_examples, num_inputs))</span><br><span class="line">labels = true_w[<span class="number">0</span>] * features[:, <span class="number">0</span>] + true_w[<span class="number">1</span>] * features[:, <span class="number">1</span>] + true_b</span><br><span class="line">labels += nd.random.normal(scale=<span class="number">0.01</span>, shape=labels.shape) <span class="comment">#åŠ ä¸Šéšæœºå™ªå£°</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-2-è¯»å–æ•°æ®é›†"><a href="#3-2-2-è¯»å–æ•°æ®é›†" class="headerlink" title="3.2.2 è¯»å–æ•°æ®é›†"></a>3.2.2 è¯»å–æ•°æ®é›†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬å‡½æ•°å·²ä¿å­˜åœ¨d2lzhåŒ…ä¸­æ–¹ä¾¿ä»¥åä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">data_iter</span><span class="params">(batch_size, features, labels)</span>:</span></span><br><span class="line">    num_examples = len(features)</span><br><span class="line">    indices = list(range(num_examples))</span><br><span class="line">    random.shuffle(indices)  <span class="comment"># æ ·æœ¬çš„è¯»å–é¡ºåºæ˜¯éšæœºçš„</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, num_examples, batch_size):</span><br><span class="line">        j = nd.array(indices[i: min(i + batch_size, num_examples)])</span><br><span class="line">        <span class="keyword">yield</span> features.take(j), labels.take(j)  <span class="comment"># takeå‡½æ•°æ ¹æ®ç´¢å¼•è¿”å›å¯¹åº”å…ƒç´ </span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-3-åˆå§‹åŒ–æ¨¡å‹å‚æ•°"><a href="#3-2-3-åˆå§‹åŒ–æ¨¡å‹å‚æ•°" class="headerlink" title="3.2.3 åˆå§‹åŒ–æ¨¡å‹å‚æ•°"></a>3.2.3 åˆå§‹åŒ–æ¨¡å‹å‚æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">w = nd.random.normal(scale=<span class="number">0.01</span>, shape=(num_inputs, <span class="number">1</span>))</span><br><span class="line">b = nd.zeros(shape=(<span class="number">1</span>,))</span><br><span class="line">w.attach_grad() <span class="comment">#ç»‘å®šè¦è‡ªåŠ¨æ±‚å¯¼çš„å˜é‡</span></span><br><span class="line">b.attach_grad() <span class="comment">#ç»‘å®šè¦è‡ªåŠ¨æ±‚å¯¼çš„å˜é‡</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-4-å®šä¹‰æ¨¡å‹"><a href="#3-2-4-å®šä¹‰æ¨¡å‹" class="headerlink" title="3.2.4 å®šä¹‰æ¨¡å‹"></a>3.2.4 å®šä¹‰æ¨¡å‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">linreg</span><span class="params">(X, w, b)</span>:</span>  <span class="comment"># æœ¬å‡½æ•°å·²ä¿å­˜åœ¨d2lzhåŒ…ä¸­æ–¹ä¾¿ä»¥åä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">return</span> nd.dot(X, w) + b</span><br></pre></td></tr></table></figure>

<h4 id="3-2-5-å®šä¹‰æŸå¤±å‡½æ•°"><a href="#3-2-5-å®šä¹‰æŸå¤±å‡½æ•°" class="headerlink" title="3.2.5 å®šä¹‰æŸå¤±å‡½æ•°"></a>3.2.5 å®šä¹‰æŸå¤±å‡½æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">squared_loss</span><span class="params">(y_hat, y)</span>:</span>  <span class="comment"># æœ¬å‡½æ•°å·²ä¿å­˜åœ¨d2lzhåŒ…ä¸­æ–¹ä¾¿ä»¥åä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">return</span> (y_hat - y.reshape(y_hat.shape)) ** <span class="number">2</span> / <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-6-å®šä¹‰ä¼˜åŒ–ç®—æ³•"><a href="#3-2-6-å®šä¹‰ä¼˜åŒ–ç®—æ³•" class="headerlink" title="3.2.6 å®šä¹‰ä¼˜åŒ–ç®—æ³•"></a>3.2.6 å®šä¹‰ä¼˜åŒ–ç®—æ³•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sgd</span><span class="params">(params, lr, batch_size)</span>:</span>  <span class="comment"># æœ¬å‡½æ•°å·²ä¿å­˜åœ¨d2lzhåŒ…ä¸­æ–¹ä¾¿ä»¥åä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">for</span> param <span class="keyword">in</span> params:</span><br><span class="line">        param[:] = param - lr * param.grad / batch_size   <span class="comment">#çœ‹è§æ²¡æœ‰ è¿™é‡Œparam.gradå°±æ˜¯åˆ©ç”¨æ¢¯åº¦åšä¼˜åŒ–</span></span><br></pre></td></tr></table></figure>

<h4 id="3-2-7-è®­ç»ƒæ¨¡å‹"><a href="#3-2-7-è®­ç»ƒæ¨¡å‹" class="headerlink" title="3.2.7 è®­ç»ƒæ¨¡å‹"></a>3.2.7 è®­ç»ƒæ¨¡å‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">lr = <span class="number">0.03</span></span><br><span class="line">num_epochs = <span class="number">3</span></span><br><span class="line">net = linreg</span><br><span class="line">loss = squared_loss</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(num_epochs):  <span class="comment"># è®­ç»ƒæ¨¡å‹ä¸€å…±éœ€è¦num_epochsä¸ªè¿­ä»£å‘¨æœŸ</span></span><br><span class="line">    <span class="comment"># åœ¨æ¯ä¸€ä¸ªè¿­ä»£å‘¨æœŸä¸­ï¼Œä¼šä½¿ç”¨è®­ç»ƒæ•°æ®é›†ä¸­æ‰€æœ‰æ ·æœ¬ä¸€æ¬¡ï¼ˆå‡è®¾æ ·æœ¬æ•°èƒ½å¤Ÿè¢«æ‰¹é‡å¤§å°æ•´é™¤ï¼‰ã€‚X</span></span><br><span class="line">    <span class="comment"># å’Œyåˆ†åˆ«æ˜¯å°æ‰¹é‡æ ·æœ¬çš„ç‰¹å¾å’Œæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">for</span> X, y <span class="keyword">in</span> data_iter(batch_size, features, labels):</span><br><span class="line">        <span class="keyword">with</span> autograd.record():</span><br><span class="line">            l = loss(net(X, w, b), y)  <span class="comment"># læ˜¯æœ‰å…³å°æ‰¹é‡Xå’Œyçš„æŸå¤±</span></span><br><span class="line">        l.backward()  <span class="comment"># å°æ‰¹é‡çš„æŸå¤±å¯¹æ¨¡å‹å‚æ•°æ±‚æ¢¯åº¦</span></span><br><span class="line">        sgd([w, b], lr, batch_size)  <span class="comment"># ä½¿ç”¨å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™è¿­ä»£æ¨¡å‹å‚æ•°</span></span><br><span class="line">    train_l = loss(net(features, w, b), labels)</span><br><span class="line">    print(<span class="string">'epoch %d, loss %f'</span> % (epoch + <span class="number">1</span>, train_l.mean().asnumpy()))</span><br></pre></td></tr></table></figure>

<p><strong><em>æ„Ÿè§‰è´¼é…·ï¼</em></strong></p>
<h3 id="3-3-çº¿æ€§å›å½’çš„ç®€æ´å®ç°"><a href="#3-3-çº¿æ€§å›å½’çš„ç®€æ´å®ç°" class="headerlink" title="3.3 çº¿æ€§å›å½’çš„ç®€æ´å®ç°"></a>3.3 çº¿æ€§å›å½’çš„ç®€æ´å®ç°</h3><p>æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨MXNetæä¾›çš„Gluonæ¥å£æ›´æ–¹ä¾¿åœ°å®ç°çº¿æ€§å›å½’çš„è®­ç»ƒ</p>
<h4 id="3-3-1-ç”Ÿæˆæ•°æ®é›†"><a href="#3-3-1-ç”Ÿæˆæ•°æ®é›†" class="headerlink" title="3.3.1 ç”Ÿæˆæ•°æ®é›†"></a>3.3.1 ç”Ÿæˆæ•°æ®é›†</h4><p>å’Œå‰é¢ä¸€æ ·</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> autograd, nd</span><br><span class="line"></span><br><span class="line">num_inputs = <span class="number">2</span></span><br><span class="line">num_examples = <span class="number">1000</span></span><br><span class="line">true_w = [<span class="number">2</span>, <span class="number">-3.4</span>]</span><br><span class="line">true_b = <span class="number">4.2</span></span><br><span class="line">features = nd.random.normal(scale=<span class="number">1</span>, shape=(num_examples, num_inputs))</span><br><span class="line">labels = true_w[<span class="number">0</span>] * features[:, <span class="number">0</span>] + true_w[<span class="number">1</span>] * features[:, <span class="number">1</span>] + true_b</span><br><span class="line">labels += nd.random.normal(scale=<span class="number">0.01</span>, shape=labels.shape)</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-è¯»å–æ•°æ®é›†"><a href="#3-3-2-è¯»å–æ•°æ®é›†" class="headerlink" title="3.3.2 è¯»å–æ•°æ®é›†"></a>3.3.2 è¯»å–æ•°æ®é›†</h4><p>Gluonæä¾›äº†dataåŒ…æ¥è¯»å–æ•°æ®ã€‚ç”±äºdataå¸¸ä½œä¸ºå˜é‡åï¼Œå°†å€’å…¥çš„dataæ¨¡å—ç”¨æ·»åŠ äº†Gluoné¦–å­—æ¯çš„å‡ågdataä»£æ›¿ã€‚åœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å°†éšæœºè¯»å–åŒ…å«10ä¸ªæ•°æ®æ ·æœ¬çš„å°æ‰¹é‡</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet.gluon <span class="keyword">import</span> data <span class="keyword">as</span> gdata</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">10</span></span><br><span class="line"><span class="comment"># å°†è®­ç»ƒæ•°æ®çš„ç‰¹å¾å’Œæ ‡ç­¾ç»„åˆ</span></span><br><span class="line">dataset = gdata.ArrayDataset(features, labels)</span><br><span class="line"><span class="comment"># éšæœºè¯»å–å°æ‰¹é‡</span></span><br><span class="line">data_iter = gdata.DataLoader(dataset, batch_size, shuffle=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h4 id="3-3-3-å®šä¹‰æ¨¡å‹"><a href="#3-3-3-å®šä¹‰æ¨¡å‹" class="headerlink" title="3.3.3 å®šä¹‰æ¨¡å‹"></a>3.3.3 å®šä¹‰æ¨¡å‹</h4><p>å¯ä»¥æ–¹ä¾¿åœ°ç”¨nnçš„åŒ…æ¥å®ç°ï¼Œä¹Ÿæœ‰é›†æˆçš„sequentialæ–¹æ³•ï¼Œç°åœ¨æ¨¡å‹æ˜¯ç®€å•çš„å…¨è¿æ¥å±‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet.gluon <span class="keyword">import</span> nn</span><br><span class="line">net = nn.Sequential()</span><br><span class="line"></span><br><span class="line">net.add(nn.Dense(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<p>å€¼å¾—ä¸€æï¼Œåœ¨Gluonä¸­æˆ‘ä»¬æ— é¡»æŒ‡å®šæ¯ä¸€å±‚çš„è¾“å…¥å½¢çŠ¶ï¼Œä¾‹å¦‚çº¿æ€§å›å½’çš„è¾“å…¥ä¸ªæ•°ï¼Œå½“æ¨¡å‹å¾—åˆ°æ•°æ®æ—¶ï¼Œä¾‹å¦‚åé¢æ‰§è¡Œnet(X)æ—¶ï¼Œæ¨¡å‹å°†è‡ªåŠ¨æ¨æ–­æ¯ä¸€å±‚çš„è¾“å…¥ä¸ªæ•°ã€‚ä¸ºå¼€å‘æä¾›ä¾¿åˆ©ã€‚</p>
<h4 id="3-3-4-åˆå§‹åŒ–æ¨¡å‹å‚æ•°"><a href="#3-3-4-åˆå§‹åŒ–æ¨¡å‹å‚æ•°" class="headerlink" title="3.3.4 åˆå§‹åŒ–æ¨¡å‹å‚æ•°"></a>3.3.4 åˆå§‹åŒ–æ¨¡å‹å‚æ•°</h4><p>ä½¿ç”¨netå‰åˆå§‹åŒ–æ¨¡å‹å‚æ•°ï¼Œå¦‚çº¿æ€§å›å½’æ¨¡å‹ä¸­çš„æƒé‡å’Œåå·®ã€‚æˆ‘ä»¬åœ¨MXNetå¯¼å…¥initæ¨¡å—ã€‚è¯¥æ¨¡å—æä¾›äº†æ¨¡å‹å‚æ•°åˆå§‹åŒ–çš„å„ç§æ–¹æ³•ã€‚é€šè¿‡init.Normal(sigma=0.01)æŒ‡å®šæƒé‡å‚æ•°æ¯ä¸ªå…ƒç´ å°†åœ¨åˆå§‹åŒ–æ—¶éšæœºé‡‡æ ·äºå‡å€¼ä¸º0ã€æ ‡å‡†å·®ä¸º0.01çš„æ­£æ€åˆ†å¸ƒã€‚åå·®å‚æ•°é»˜è®¤ä¼šåˆå§‹åŒ–ä¸ºé›¶ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> init</span><br><span class="line">net.initialize(init.Normal(sigma=<span class="number">0.01</span>))</span><br></pre></td></tr></table></figure>

<p>so coolï½ï¼</p>
<h4 id="3-3-5-å®šä¹‰æŸå¤±å‡½æ•°"><a href="#3-3-5-å®šä¹‰æŸå¤±å‡½æ•°" class="headerlink" title="3.3.5 å®šä¹‰æŸå¤±å‡½æ•°"></a>3.3.5 å®šä¹‰æŸå¤±å‡½æ•°</h4><p>åœ¨Gluonä¸­ï¼Œlossæ¨¡å—å®šä¹‰äº†å„ç§æŸå¤±å‡½æ•°ã€‚æˆ‘ä»¬ç”¨å‡åglossä»£æ›¿lossæ¨¡å—ï¼Œå¹¶ä½¿ç”¨å®ƒæä¾›çš„å¹³æ–¹æŸå¤±ä¸ºæ¨¡å‹çš„æŸå¤±å‚æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet.gluon <span class="keyword">import</span> loss <span class="keyword">as</span> gloss</span><br><span class="line">loss = gloss.L2Loss()  <span class="comment">#å¹³æ–¹æŸå¤±åˆç§°ä¸ºL2èŒƒæ•°æŸå¤±</span></span><br></pre></td></tr></table></figure>

<h4 id="3-3-6-å®šä¹‰ä¼˜åŒ–ç®—æ³•"><a href="#3-3-6-å®šä¹‰ä¼˜åŒ–ç®—æ³•" class="headerlink" title="3.3.6 å®šä¹‰ä¼˜åŒ–ç®—æ³•"></a>3.3.6 å®šä¹‰ä¼˜åŒ–ç®—æ³•</h4><p>å¯¼å…¥Gluonåï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªTrainerå®ä¾‹ï¼Œå¹¶æŒ‡å®šå­¦ä¹ ç‡ä¸º0.03çš„å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™sgdä¸ºä¼˜åŒ–ç®—æ³•ï¼ˆä¸ç”¨è‡ªå·±å†™ï¼‰ã€‚è¯¥ç®—æ³•å°†ç”¨æ¥è¿­ä»£netå®ä¾‹æ‰€æœ‰é€šè¿‡addå‡½æ•°åµŒå¥—çš„å±‚åŒ…å«çš„å…¨éƒ¨å‚æ•°ã€‚è¿™äº›å‚æ•°å¯ä»¥é€šè¿‡collect_paramså‡½æ•°æ¥è·å–</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> gluon</span><br><span class="line">trainer = gluon.Trainer(net.collect_params(), <span class="string">'sgd'</span>, &#123;<span class="string">'learning_rate'</span>: <span class="number">0.03</span>&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="3-3-7-è®­ç»ƒæ¨¡å‹"><a href="#3-3-7-è®­ç»ƒæ¨¡å‹" class="headerlink" title="3.3.7 è®­ç»ƒæ¨¡å‹"></a>3.3.7 è®­ç»ƒæ¨¡å‹</h4><p>åœ¨ä½¿ç”¨Gluonè®­ç»ƒæ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨Trainerå®ä¾‹æ¥çš„stepå‡½æ•°æ¥è¿­ä»£æ¨¡å‹å‚æ•°ã€‚3.2èŠ‚æˆ‘ä»¬æåˆ°ï¼Œç”±äºå˜é‡læ˜¯é•¿åº¦ä¸ºbatch_sizeçš„ä¸€ç»´NDArrayï¼Œæ‰§è¡Œl.backward()ç­‰ä»·äºæ‰§è¡Œl.sum().backward()ã€‚æŒ‰ç…§å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™æ³•çš„å®šä¹‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num_epochs = <span class="number">3</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">1</span>, num_epochs + <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> X, y <span class="keyword">in</span> data_iter:</span><br><span class="line">        <span class="keyword">with</span> autograd.record():</span><br><span class="line">            l = loss(net(X), y)</span><br><span class="line">        l.backward()</span><br><span class="line">        trainer.step(batch_size)</span><br><span class="line">    l = loss(net(features), labels)</span><br><span class="line">    print(<span class="string">'epoch %d, loss: %f'</span> % (epoch, l.mean().asnumpy()))</span><br></pre></td></tr></table></figure>

<p><strong><em>è¦æ˜ç™½éšæœºæ¢¯åº¦ä¸‹é™æ³•æ˜¯å¯¹æŸå¤±å‡½æ•°è¿›è¡Œï¼Œè¦éšæœºè®©æŸå¤±å‡½æ•°å˜å°çš„åŒæ—¶å­¦ä¹ æ”¹å˜æ¨¡å‹å‚æ•°</em></strong><br>æœ€åæŸ¥çœ‹å­¦ä¹ åˆ°çš„å‚æ•°ï¼ŒåŒå‡»666ï¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dense = net[<span class="number">0</span>]   <span class="comment">#æ³¨æ„æŒ‡å®šç¬¬ä¸€å±‚çš„æƒé‡</span></span><br><span class="line">true_w, dense.weight.data()</span><br><span class="line">true_b, dense.bias.data()</span><br></pre></td></tr></table></figure>

<h3 id="3-4-softmaxå›å½’"><a href="#3-4-softmaxå›å½’" class="headerlink" title="3.4 softmaxå›å½’"></a>3.4 softmaxå›å½’</h3><p>å‰å‡ èŠ‚çš„çº¿æ€§å›å½’æ¨¡å‹é€‚ç”¨äºè¾“å‡ºè¿ç»­å€¼çš„æƒ…æ™¯ã€‚åœ¨å¦ä¸€ç±»æƒ…æ™¯ä¸­ï¼Œæ¨¡å‹è¾“å‡ºå¯ä»¥æ˜¯æƒ³ä¸€ä¸ªå›¾åƒç±»åˆ«çš„ç¦»æ•£åˆ†ç±»é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¸å¦‚softmaxå›å½’åœ¨å†…çš„åˆ†ç±»æ¨¡å‹ï¼Œå’Œçº¿æ€§å›å½’ä¸åŒsofrmaxå›å½’çš„<strong>è¾“å‡ºå•å…ƒ</strong>ä»ä¸€ä¸ªå˜æˆäº†å¤šä¸ªï¼Œä¸”å¼•å…¥äº†softmaxè¿ç®—ä½¿è¾“å‡ºæ›´é€‚åˆç¦»æ•£å€¼çš„é¢„æµ‹å’Œè®­ç»ƒã€‚æœ¬èŠ‚ä»¥softmaxå›å½’æ¨¡å‹ä¸ºä¾‹ï¼Œä»‹ç»ç¥ç»ç½‘ç»œä¸­çš„åˆ†ç±»æ¨¡å‹ã€‚</p>
<h4 id="3-4-1-åˆ†ç±»é—®é¢˜"><a href="#3-4-1-åˆ†ç±»é—®é¢˜" class="headerlink" title="3.4.1 åˆ†ç±»é—®é¢˜"></a>3.4.1 åˆ†ç±»é—®é¢˜</h4><p>ä¹‹å‰ä¹Ÿæ™“å¾—ï¼Œåˆ†ç±»é—®é¢˜å¯ä»¥ç”¨å›å½’æ–¹æ³•è§£å†³ä½†æ˜¯ä¼šå½±å“åˆ°å›å½’è´¨é‡ï¼Œä¸€èˆ¬ä½¿ç”¨æ›´åŠ é€‚åˆç¦»æ•£å€¼è¾“å‡ºçš„æ¨¡å‹æ¥è§£å†³åˆ†ç±»é—®é¢˜ï¼ˆsoftmaxå‡½æ•°ï¼‰ã€‚</p>
<h4 id="3-4-2-softmaxå›å½’æ¨¡å‹"><a href="#3-4-2-softmaxå›å½’æ¨¡å‹" class="headerlink" title="3.4.2 softmaxå›å½’æ¨¡å‹"></a>3.4.2 softmaxå›å½’æ¨¡å‹</h4><p>o1 = x1w11 + x2w21 + x3w31 + x4w41 + b1<br>o2 = x1w12 + x2w22 + x3w32 + x4w42 + b2<br>o3 = x1w13 + x2w23 + x3w33 + x4w43 + b3<br>softmaxå›å½’æ˜¯ä¸€ä¸ªå•å±‚ç¥ç»ç½‘ç»œ<br><strong>softmaxè¿ç®—</strong><br>å°†å€¼çš„å¤§å°å˜æˆæ¦‚ç‡ so cool</p>
<h4 id="3-4-3-å•æ ·æœ¬æ ·æœ¬åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼"><a href="#3-4-3-å•æ ·æœ¬æ ·æœ¬åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼" class="headerlink" title="3.4.3 å•æ ·æœ¬æ ·æœ¬åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼"></a>3.4.3 å•æ ·æœ¬æ ·æœ¬åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼</h4><p>ä¸ºäº†æé«˜è®¡ç®—æ•ˆç‡ï¼Œæˆ‘ä»¬å°†å•æ ·æœ¬åˆ†ç±»é€šè¿‡çŸ¢é‡è®¡ç®—æ¥è¡¨è¾¾ã€‚</p>
<h4 id="3-4-4-å°æ‰¹é‡åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼"><a href="#3-4-4-å°æ‰¹é‡åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼" class="headerlink" title="3.4.4 å°æ‰¹é‡åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼"></a>3.4.4 å°æ‰¹é‡åˆ†ç±»çš„çŸ¢é‡è®¡ç®—è¡¨è¾¾å¼</h4><p>é€šå¸¸æˆ‘ä»¬å¯¹å°æ‰¹é‡æ•°æ®åšçŸ¢é‡è®¡ç®—ã€‚å¹¿ä¹‰ä¸Šæ¥è®²ï¼Œç»™å®šä¸€ä¸ªå°æ‰¹é‡æ ·æœ¬ï¼Œå…¶æ‰¹é‡æ ·æœ¬å¤§å°ä¸ºn,è¾“å…¥ä¸ªæ•°ä¸ºdï¼Œè¾“å‡ºä¸ªæ•°ä¸ºqã€‚å°±æ˜¯æ¯ä¸ªå‘é‡çš„å¤§å°å˜å¤§äº†<br>Onxq=XnxdWdxq + blxq<br>Yhatnxq = softmax(Onxq)o</p>
<h4 id="3-4-5-äº¤å‰ç†µæŸå¤±å‡½æ•°"><a href="#3-4-5-äº¤å‰ç†µæŸå¤±å‡½æ•°" class="headerlink" title="3.4.5 äº¤å‰ç†µæŸå¤±å‡½æ•°"></a>3.4.5 äº¤å‰ç†µæŸå¤±å‡½æ•°</h4><p>æ›´ç§‘å­¦çš„æŸå¤±å‡½æ•°ï¼Œæœ€å°åŒ–äº¤å‰ç†µæŸå¤±å‡½æ•°ç­‰ä»·äºæœ€å¤§åŒ–æ•°æ®é›†æ‰€æœ‰æ ‡ç­¾ç±»åˆ«çš„è”åˆé¢„æµ‹æ¦‚ç‡ã€‚</p>
<h4 id="3-4-6-æ¨¡å‹é¢„æµ‹åŠè¯„ä»·"><a href="#3-4-6-æ¨¡å‹é¢„æµ‹åŠè¯„ä»·" class="headerlink" title="3.4.6 æ¨¡å‹é¢„æµ‹åŠè¯„ä»·"></a>3.4.6 æ¨¡å‹é¢„æµ‹åŠè¯„ä»·</h4><p>å‡†ç¡®ç‡ å•¥å•¥ç‡ æœ‰å¥½å¤šç§ä¸åŒ</p>
<h3 id="3-5-å›¾åƒåˆ†ç±»æ•°æ®é›†ï¼ˆFashion-MNISTï¼‰"><a href="#3-5-å›¾åƒåˆ†ç±»æ•°æ®é›†ï¼ˆFashion-MNISTï¼‰" class="headerlink" title="3.5 å›¾åƒåˆ†ç±»æ•°æ®é›†ï¼ˆFashion-MNISTï¼‰"></a>3.5 å›¾åƒåˆ†ç±»æ•°æ®é›†ï¼ˆFashion-MNISTï¼‰</h3><p>ä¸€ä¸ªæ¯”MNISTæ›´å¤æ‚çš„å›¾åƒåˆ†ç±»æ•°æ®é›†</p>
<h4 id="3-5-1-è·å–æ•°æ®é›†"><a href="#3-5-1-è·å–æ•°æ®é›†" class="headerlink" title="3.5.1 è·å–æ•°æ®é›†"></a>3.5.1 è·å–æ•°æ®é›†</h4><p>easy è¿˜æœ‰è®¸å¤šè¯»å–å•¥çš„å‡½æ•°æ–¹æ³•</p>
<h4 id="3-5-2-è·å–å°æ‰¹é‡"><a href="#3-5-2-è·å–å°æ‰¹é‡" class="headerlink" title="3.5.2 è·å–å°æ‰¹é‡"></a>3.5.2 è·å–å°æ‰¹é‡</h4><ul>
<li>å¯ä»¥è‡ªå·±å®šä¹‰æ¥ç”¨yieldï¼Œè¿™é‡Œç”¨DataLoaderå®ä¾‹ã€‚æ¯æ¬¡è¯»å–ä¸€ä¸ªæ ·æœ¬æ•°ä¸ºbatch_sizeçš„å°æ‰¹é‡æ•°æ®ã€‚è¿™é‡Œçš„pillageå¤§å°batch_szeæ˜¯ä¸€ä¸ªè¶…å‚æ•°</li>
<li>DataLoaderå¯ä»¥ç”¨num_workersæ€§èƒ½åŠ é€Ÿ</li>
<li>ToTensorå®ä¾‹å°†å›¾åƒæ•°æ®ä»uint8æ ¼å¼å˜æ¢æˆ32æµ®ç‚¹æ•°å¹¶é™¤ä»¥255ä½¿å¾—æ‰€æœ‰åƒç´ çš„æ•°å€¼å‡åœ¨0åˆ°1ä¹‹é—´ã€‚ToTensorå®ä¾‹è¿˜å°†å›¾åƒé€šé“ä»æœ€åä¸€ç»´ç§»åˆ°æœ€å‰ä¸€ç»´æ–¹ä¾¿ä¹‹åä»‹ç»çš„å·ç§¯ç¥ç»ç½‘ç»œã€‚é€šè¿‡æ•°æ®é›†çš„transform_firstå‡½æ•°ï¼Œæˆ‘ä»¬å°†ToTensorçš„å˜æ¢åº”ç”¨åœ¨æ¯ä¸ªæ•°æ®æ ·æœ¬ï¼ˆå›¾åƒå’Œæ ‡ç­¾ï¼‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³å›¾åƒä¹‹ä¸Šã€‚<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">batch_size = <span class="number">256</span></span><br><span class="line">transformer = gdata.vision.transforms.ToTensor()</span><br><span class="line"><span class="keyword">if</span> sys.platform.startswith(<span class="string">'win'</span>):</span><br><span class="line">    num_workers = <span class="number">0</span>  <span class="comment"># 0è¡¨ç¤ºä¸ç”¨é¢å¤–çš„è¿›ç¨‹æ¥åŠ é€Ÿè¯»å–æ•°æ®</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    num_workers = <span class="number">4</span>  <span class="comment"># ä¼šæ¯”è¾ƒå¿«</span></span><br><span class="line"></span><br><span class="line">train_iter = gdata.DataLoader(mnist_train.transform_first(transformer),</span><br><span class="line">                              batch_size, shuffle=<span class="literal">True</span>,</span><br><span class="line">                              num_workers=num_workers)</span><br><span class="line">test_iter = gdata.DataLoader(mnist_test.transform_first(transformer),</span><br><span class="line">                             batch_size, shuffle=<span class="literal">False</span>,</span><br><span class="line">                             num_workers=num_workers)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-6-softmaxå›å½’çš„ä»é›¶å¼€å§‹å®ç°"><a href="#3-6-softmaxå›å½’çš„ä»é›¶å¼€å§‹å®ç°" class="headerlink" title="3.6 softmaxå›å½’çš„ä»é›¶å¼€å§‹å®ç°"></a>3.6 softmaxå›å½’çš„ä»é›¶å¼€å§‹å®ç°</h3><p>3.6.1 è¯»å–æ•°æ®é›†<br>3.6.2 åˆå§‹åŒ–æ¨¡å‹å‚æ•°<br>3.6.3 å®ç°softmaxè¿ç®—<br>å…ˆè§£å†³å¤šç»´åº¦NDArrayæŒ‰ç»´åº¦æ“ä½œçš„é—®é¢˜ï¼Œä¹‹åå®šä¹‰softè¿ç®—ï¼ˆä¸ç”¨åŒ…çº¯æ‰‹å·¥ï¼‰</p>
<p>3.6.4 å®šä¹‰æ¨¡å‹<br>æˆ‘ä»¬çš„æ¨¡å‹å°±æ˜¯çº¯çš„softmaxå‡½æ•°</p>
<p>3.6.5 å®šä¹‰æŸå¤±å‡½æ•°<br>äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œå…ˆå­¦ä¼špickå‡½æ•°</p>
<p>3.6.6 è®¡ç®—åˆ†ç±»å‡†ç¡®ç‡<br>å…ˆæ˜ç™½å‡†ç¡®ç‡çš„åŸç†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">accuracy</span><span class="params">(y_hat, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (y_hat.argmax(axis=<span class="number">1</span>) == y.astype(<span class="string">'float32'</span>)).mean().asscalar()</span><br></pre></td></tr></table></figure>

<p>å†é¢„æµ‹çœŸä¸ªnetåœ¨æ•°æ®é›†åˆä¸Šçš„å‡†ç¡®ç‡</p>
<p>3.6.7 è®­ç»ƒæ¨¡å‹<br>å’Œä¹‹å‰çº¿æ€§å›å½’å·®ä¸å¤š å¤šäº†å‡†ç¡®ç‡çš„è®¡ç®— ç†Ÿç»ƒæŒæ¡å°±å¥½</p>
<p>3.6.8 é¢„æµ‹<br>å­¦ä¼šæ€ä¹ˆè¿™ä¹ˆä¼˜ç¾åœ°æŠŠé¢„æµ‹ çœŸå® å›¾ç‰‡æ‘†æ”¾åœ¨ä¸€èµ· ä¸­é—´ä¸‰è¡Œæ˜¯å±•ç¤ºå°è£…å‡½æ•°é€»è¾‘çš„ æ³¨é‡Šä¹Ÿèƒ½è¿è¡Œ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> test_iter:   <span class="comment">#æ³¨æ„è¿™é‡Œè¿­ä»£ æµ‹è¯•é›† åªæœ‰255ä¸ª</span></span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">true_labels = d2l.get_fashion_mnist_labels(y.asnumpy())</span><br><span class="line">pred_labels = d2l.get_fashion_mnist_labels(net(X).argmax(axis=<span class="number">1</span>).asnumpy())</span><br><span class="line">titles = [true + <span class="string">'\n'</span> + pred <span class="keyword">for</span> true, pred <span class="keyword">in</span> zip(true_labels, pred_labels)]  <span class="comment">#æœ‰äº›é€»è¾‘ è‡ªå·±å†™ä¸ä¸€å®šèƒ½å†™å‡ºæ¥</span></span><br><span class="line"></span><br><span class="line">d2l.show_fashion_mnist(X[<span class="number">0</span>:<span class="number">9</span>], titles[<span class="number">0</span>:<span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<h3 id="3-7-softmaxå›å½’çš„ç®€æ´å®ç°"><a href="#3-7-softmaxå›å½’çš„ç®€æ´å®ç°" class="headerlink" title="3.7 softmaxå›å½’çš„ç®€æ´å®ç°"></a>3.7 softmaxå›å½’çš„ç®€æ´å®ç°</h3><p>è´¼ç®€æ´ æ˜ç™½åŸç†ç›´æ¥è°ƒç”¨åŒ…å°±ok</p>
<h3 id="3-8-å¤šå±‚æ„ŸçŸ¥æœº"><a href="#3-8-å¤šå±‚æ„ŸçŸ¥æœº" class="headerlink" title="3.8 å¤šå±‚æ„ŸçŸ¥æœº"></a>3.8 å¤šå±‚æ„ŸçŸ¥æœº</h3><p>å·²ç»å­¦ä¼šäº†çº¿æ€§å›å½’å’Œsoftmaxå›å½’åœ¨å†…çš„å•å±‚ç¥ç»ç½‘ç»œğŸ˜ã€‚ä½†æ˜¯æ·±åº¦å­¦ä¹ æ›´å¤šå…³æ³¨å¤šå±‚æ¨¡å‹ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥å¤šå±‚æ„ŸçŸ¥æœºï¼ˆmultilayer perceptron, MLPï¼‰ä¸ºä¾‹ï¼Œä»‹ç»å¤šå±‚ç¥ç»ç½‘ç»œçš„ç‰¹ç‚¹ã€‚</p>
<h4 id="3-8-1-éšè—å±‚"><a href="#3-8-1-éšè—å±‚" class="headerlink" title="3.8.1 éšè—å±‚"></a>3.8.1 éšè—å±‚</h4><p>å¤šå±‚æ„ŸçŸ¥æœºåœ¨å•å±‚ç¥ç»ç½‘ç»œçš„åŸºç¡€ä¸Šå¼•å…¥äº†ä¸€åˆ°å¤šä¸ªéšè—å±‚ï¼ˆhidden layerï¼‰ã€‚éšè—å±‚ä½äºè¾“å…¥å±‚å’Œè¾“å‡ºå±‚ä¹‹é—´ã€‚</p>
<h4 id="3-8-2-æ¿€æ´»å‡½æ•°"><a href="#3-8-2-æ¿€æ´»å‡½æ•°" class="headerlink" title="3.8.2 æ¿€æ´»å‡½æ•°"></a>3.8.2 æ¿€æ´»å‡½æ•°</h4><p>é˜²æ­¢ä»¿å°„å˜æ¢ï¼Œå¼•å…¥éçº¿æ€§å˜æ¢ï¼ˆåŠ å…¥å¤šå°‘éšè—å±‚éƒ½æ˜¯ä»¿å°„å˜æ¢ï¼‰<br>1.ReLUå‡½æ•°<br>ç®€å•çš„çº¿æ€§å˜æ¢</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y = x.relu() <span class="comment">#å†…ç½®å‡½æ•°</span></span><br></pre></td></tr></table></figure>

<p>2.sigmoidå‡½æ•°</p>
<ul>
<li>å°†å…ƒç´ çš„å€¼å˜æ¢åˆ°0å’Œ1ä¹‹é—´ï¼Œsigmoidå‡½æ•°åœ¨æ—©æœŸçš„ç¥ç»ç½‘ç»œä¸­è¾ƒä¸ºæ™®éï¼Œä½†å®ƒç›®å‰é€æ¸è¢«ç®€å•çš„ReLUå‡½æ•°å–ä»£ã€‚æ§åˆ¶ä¿¡æ¯åœ¨ç¥ç»ç½‘ç»œä¸­çš„æµåŠ¨ã€‚</li>
<li>sigmoidçš„å¯¼æ•°ï¼šå½“è¾“å…¥ä¸º0æ—¶ï¼Œsigmoidå‡½æ•°çš„å¯¼æ•°è¾¾åˆ°æœ€å¤§å€¼0.25ï¼Œå½“è¾“å…¥åç¦»0æ—¶ï¼Œsigmoidå‡½æ•°çš„å¯¼æ•°è¶Šæ¥è¿‘0ã€‚</li>
</ul>
<p>3.tanhå‡½æ•°</p>
<ul>
<li>tanhå‡½æ•°å¯ä»¥å°†å…ƒç´ çš„å€¼å˜æ¢åˆ°-1åˆ°1ä¹‹é—´ã€‚è™½ç„¶è¯¥å‡½æ•°çš„å½¢çŠ¶å’Œsigmoidå‡½æ•°çš„å½¢çŠ¶å¾ˆåƒï¼Œä½†tanhå‡½æ•°åœ¨åæ ‡ç³»çš„åŸç‚¹ä¸Šå¯¹ç§°ã€‚</li>
<li>å¯¼æ•°ï¼šå½“è¾“å…¥ä¸º0æ—¶ï¼Œè¾¾åˆ°æœ€å¤§å€¼1ï¼Œå½“è¾“å…¥è¶Šåç¦»0æ—¶ï¼Œtanhå‡½æ•°çš„å¯¼æ•°è¶Šæ¥è¿‘0ã€‚<h4 id="3-8-3-å¤šå±‚æ„ŸçŸ¥æœº"><a href="#3-8-3-å¤šå±‚æ„ŸçŸ¥æœº" class="headerlink" title="3.8.3 å¤šå±‚æ„ŸçŸ¥æœº"></a>3.8.3 å¤šå±‚æ„ŸçŸ¥æœº</h4>å¤šå±‚æ„ŸçŸ¥æœºå°±æ˜¯å«æœ‰<strong>è‡³å°‘ä¸€ä¸ªéšè—å±‚</strong>çš„å…¨è¿æ¥å±‚ç»„æˆçš„ç¥ç»ç½‘ç»œï¼Œä¸”<strong>æ¯ä¸ªéšè—å±‚çš„è¾“å‡ºé€šè¿‡æ¿€æ´»å‡½æ•°</strong>è¿›è¡Œå˜æ¢ã€‚å¤šå±‚æ„ŸçŸ¥æœºçš„å±‚æ•°å’Œå„éšè—å±‚ä¸­éšè—å•å…ƒä¸ªæ•°éƒ½æ˜¯è¶…å‚æ•°ã€‚ä»¥å•éšè—å±‚ä¸ºä¾‹å¹¶æ²¿ç”¨æœ¬èŠ‚ä¹‹å‰å®šä¹‰çš„ç¬¦å·<br>$$<br>\begin{aligned}<br>\boldsymbol{H} &amp;= \phi(\boldsymbol{X} \boldsymbol{W}_h + \boldsymbol{b}_h),\<br>\boldsymbol{O} &amp;= \boldsymbol{H} \boldsymbol{W}_o + \boldsymbol{b}_o,<br>\end{aligned}<br>$$<br>å…¶ä¸­$\phi$è¡¨ç¤ºæ¿€æ´»å‡½æ•°ã€‚</li>
<li>åˆ†ç±»é—®é¢˜ä¸­ï¼šæˆ‘ä»¬å¯ä»¥å¯¹è¾“å‡ºOåšsoftmaxè¿ç®—ï¼Œå¹¶ä½¿ç”¨softmaxå›å½’ä¸­çš„äº¤å‰ç†µæŸå¤±å‡½æ•°ã€‚ï¼ˆä¹Ÿå°±æ˜¯ä»¥å‰ç›´æ¥è¾“å‡ºï¼Œç°åœ¨åœ¨æ˜¯ç»è¿‡ä¸€ä¸ªéšè—å±‚æ¥ç€æ¿€æ´»ä¹‹åç»™è¾“å‡ºï¼‰</li>
<li>å›å½’é—®é¢˜ä¸­ï¼šæˆ‘ä»¬å°†è¾“å‡ºå±‚çš„è¾“å‡ºä¸ªæ•°è®¾ä¸º1ï¼Œå¹¶å°†è¾“å‡ºoç›´æ¥æä¾›ç»™çº¿æ€§å›å½’ä¸­ä½¿ç”¨çš„å¹³æ–¹æŸå¤±å‡½æ•°ã€‚</li>
</ul>
<p>666 è™½ç„¶æœ‰ç‚¹è¿·è¿·ç³Šç³Šçš„</p>
<h3 id="3-9-å¤šå±‚æ„ŸçŸ¥æœºçš„ä»é›¶å¼€å§‹å®ç°"><a href="#3-9-å¤šå±‚æ„ŸçŸ¥æœºçš„ä»é›¶å¼€å§‹å®ç°" class="headerlink" title="3.9 å¤šå±‚æ„ŸçŸ¥æœºçš„ä»é›¶å¼€å§‹å®ç°"></a>3.9 å¤šå±‚æ„ŸçŸ¥æœºçš„ä»é›¶å¼€å§‹å®ç°</h3><p>3.9.1 è¯»å–æ•°æ®é›†<br>3.9.2 å®šä¹‰æ¨¡å‹å‚æ•°<br>å¤šäº†ä¸€å±‚éšè—å±‚çš„å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">num_inputs, num_outputs, num_hiddens = <span class="number">784</span>, <span class="number">10</span>, <span class="number">256</span></span><br><span class="line"></span><br><span class="line">W1 = nd.random.normal(scale=<span class="number">0.01</span>, shape=(num_inputs, num_hiddens))</span><br><span class="line">b1 = nd.zeros(num_hiddens)</span><br><span class="line">W2 = nd.random.normal(scale=<span class="number">0.01</span>, shape=(num_hiddens, num_outputs))</span><br><span class="line">b2 = nd.zeros(num_outputs)</span><br><span class="line">params = [W1, b1, W2, b2]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> params:</span><br><span class="line">    param.attach_grad()</span><br></pre></td></tr></table></figure>

<p>3.9.3 å®šä¹‰æ¿€æ´»å‡½æ•°<br>ä¸ä½¿ç”¨åŒ…ï¼Œè‡ªå·±å®šä¹‰</p>
<p>3.9.4 å®šä¹‰æ¨¡å‹è¿™é‡Œæœ‰ä¸åŒçš„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">net</span><span class="params">(X)</span>:</span></span><br><span class="line">    X = X.reshape((<span class="number">-1</span>, num_inputs))</span><br><span class="line">    H = relu(nd.dot(X, W1) + b1)   <span class="comment"># è¿™é‡Œå¤šäº†ä¸€å±‚ï¼ï¼éšè—å±‚ï¼ï¼</span></span><br><span class="line">    <span class="keyword">return</span> nd.dot(H, W2) + b2</span><br></pre></td></tr></table></figure>

<p><strong><em>æˆ‘å»æ²¡æœ‰å®šä¹‰ä¼˜åŒ–ç®—æ³• åº”è¯¥å°è£…åœ¨æœ€åè®­ç»ƒå‡½æ•°é‡Œäº†</em></strong><br>3.9.5 å®šä¹‰æŸå¤±å‡½æ•°<br>ä¸ºäº†ç¨³å®šæ€§ä½¿ç”¨gluonçš„åŒ…</p>
<p>3.9.6 è®­ç»ƒæ¨¡å‹<br>easy</p>
<h3 id="3-10-å¤šå±‚æ„ŸçŸ¥æœºçš„ç®€æ´å®ç°"><a href="#3-10-å¤šå±‚æ„ŸçŸ¥æœºçš„ç®€æ´å®ç°" class="headerlink" title="3.10 å¤šå±‚æ„ŸçŸ¥æœºçš„ç®€æ´å®ç°"></a>3.10 å¤šå±‚æ„ŸçŸ¥æœºçš„ç®€æ´å®ç°</h3><p>so ç®€æ´ï¼ï¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥åŒ…</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path.append(<span class="string">".."</span>)</span><br><span class="line"><span class="keyword">import</span> d2lzh <span class="keyword">as</span> d2l</span><br><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> gluon, init</span><br><span class="line"><span class="keyword">from</span> mxnet.gluon <span class="keyword">import</span> loss <span class="keyword">as</span> gloss, nn</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰æ¨¡å‹</span></span><br><span class="line">net = nn.Sequential()</span><br><span class="line">net.add(nn.Dense(<span class="number">256</span>, activation=<span class="string">'relu'</span>),</span><br><span class="line">        nn.Dense(<span class="number">10</span>))</span><br><span class="line">net.initialize(init.Normal(sigma=<span class="number">0.01</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–æ•°æ®ä¸è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">batch_size = <span class="number">256</span></span><br><span class="line">train_iter, test_iter = d2l.load_data_fashion_mnist(batch_size)</span><br><span class="line"></span><br><span class="line">loss = gloss.SoftmaxCrossEntropyLoss()</span><br><span class="line">trainer = gluon.Trainer(net.collect_params(), <span class="string">'sgd'</span>, &#123;<span class="string">'learning_rate'</span>: <span class="number">0.5</span>&#125;)</span><br><span class="line">num_epochs = <span class="number">5</span></span><br><span class="line">d2l.train_ch3(net, train_iter, test_iter, loss, num_epochs, batch_size, <span class="literal">None</span>,</span><br><span class="line">              <span class="literal">None</span>, trainer)</span><br></pre></td></tr></table></figure>

<h3 id="3-11-æ¨¡å‹é€‰æ‹©ã€æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ"><a href="#3-11-æ¨¡å‹é€‰æ‹©ã€æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ" class="headerlink" title="3.11 æ¨¡å‹é€‰æ‹©ã€æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ"></a>3.11 æ¨¡å‹é€‰æ‹©ã€æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ</h3><blockquote>
<p>æå‡ºé—®é¢˜ï¼šä¸ºå•¥æ¨¡å‹åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šæ›´å‡†ç¡®æ—¶ï¼Œå®ƒåœ¨æµ‹è¯•æ•°æ®é›†ä¸Šå´ä¸ä¸€å®šå‡†ç¡®</p>
</blockquote>
<h4 id="3-11-1-è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®"><a href="#3-11-1-è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®" class="headerlink" title="3.11.1 è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®"></a>3.11.1 è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®</h4><ul>
<li>è®­ç»ƒè¯¯å·®ï¼šæ¨¡å‹åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šè¡¨ç°çš„è¯¯å·®</li>
<li>æ³›åŒ–è¯¯å·®ï¼šæ¨¡å‹åœ¨ä»»æ„ä¸€ä¸ªæµ‹è¯•æ•°æ®æ ·æœ¬ä¸Šè¡¨ç°å‡ºçš„è¯¯å·®çš„æœŸæœ›ï¼Œï¼Ÿï¼Ÿå¹¶å¸¸å¸¸é€šè¿‡æµ‹è¯•æ•°æ®é›†ä¸Šçš„è¯¯å·®æ¥è¿‘ä¼¼ï¼Ÿï¼Ÿ</li>
</ul>
<p>è®¡ç®—è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®å¯ä»¥ä½¿ç”¨ä¹‹å‰ä»‹ç»è¿‡çš„æŸå¤±å‡½æ•°ï¼Œä¾‹å¦‚çº¿æ€§å›å½’ç”¨åˆ°çš„å¹³æ–¹æŸå¤±å‡½æ•°å’Œsoftmaxå›å½’ç”¨åˆ°çš„äº¤å‰ç†µæŸå¤±å‡½æ•°<br>æœºå™¨å­¦ä¹ æ¨¡å‹åº”å…³æ³¨é™ä½æ³›åŒ–è¯¯å·®</p>
<h4 id="3-11-2-æ¨¡å‹é€‰æ‹©"><a href="#3-11-2-æ¨¡å‹é€‰æ‹©" class="headerlink" title="3.11.2 æ¨¡å‹é€‰æ‹©"></a>3.11.2 æ¨¡å‹é€‰æ‹©</h4><p>æœºå™¨å­¦ä¹ ä¸­ï¼Œé€šå¸¸éœ€è¦è¯„ä¼°è‹¥å¹²å€™é€‰æ¨¡å‹çš„è¡¨ç°å¹¶ä»ä¸­é€‰æ‹©æ¨¡å‹ã€‚<br>å¯ä¾›é€‰æ‹©çš„å€™é€‰æ¨¡å‹å¯ä»¥æ˜¯æœ‰ä¸åŒè¶…å‚æ•°çš„åŒç±»æ¨¡å‹ã€‚<br>å¯¹å¤šå±‚æ„ŸçŸ¥æœºï¼šå¯ä»¥é€‰æ‹©éšè—å±‚çš„ä¸ªæ•°ï¼Œä»¥åŠæ¯ä¸ªéšè—å±‚ä¸­éšè—å•å…ƒä¸ªæ•°å’Œæ¿€æ´»å‡½æ•°ã€‚<br>é€šå¸¸è¦åœ¨æ¨¡å‹é€‰æ‹©ä¸Šä¸‹ä¸€ç•ªåŠŸå¤«ã€‚ç»å¸¸ä½¿ç”¨éªŒè¯æ•°æ®é›†ã€‚<br><strong>1.éªŒè¯æ•°æ®é›†</strong><br>æµ‹è¯•é›†ï¼šåªèƒ½åœ¨è¶…å‚æ•°å’Œæ¨¡å‹å‚æ•°é€‰å®šåä½¿ç”¨ä¸€æ¬¡ï¼ˆåªèƒ½ç”¨æ¥æµ‹è¯•ï¼‰ï¼Œä¸èƒ½ç”¨æ¥è°ƒå‚å’Œé€‰æ‹©æ¨¡å‹<br>è®­ç»ƒé›†ï¼šæ— æ³•ä»è®­ç»ƒè¯¯å·®é¡¾åŠæ³›åŒ–è¯¯å·®ï¼Œä¸èƒ½ä¾èµ–è®­ç»ƒé›†é€‰æ‹©æ¨¡å‹ã€‚<br>é‰´äºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é¢„ç•™ä¸€éƒ¨åˆ†åœ¨è®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ä»¥å¤–çš„æ•°æ®æ¥è¿›è¡Œæ¨¡å‹é€‰æ‹©ã€‚<br>ç§°ä¸ºéªŒè¯æ•°æ®é›†ï¼Œç®€ç§°éªŒè¯é›†ã€‚ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥ä»ç»™å®šçš„è®­ç»ƒé›†ä¸­éšæœºé€‰å–ä¸€å°éƒ¨åˆ†ä½œä¸ºéªŒè¯é›†ï¼Œè€Œå°†å‰©ä½™éƒ¨åˆ†ä½œä¸ºçœŸæ­£çš„è®­ç»ƒé›†ã€‚<br>å®é™…åº”ç”¨ä¸­ï¼Œç”±äºæ•°æ®ä¸å®¹æ˜“è·å–ï¼Œæµ‹è¯•æ•°æ®æå°‘ä½¿ç”¨ä¸€æ¬¡å°±ä¸¢å¼ƒã€‚å› æ­¤éªŒè¯æ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ç•Œé™æ¯”è¾ƒæ¨¡ç³Šã€‚<br><strong>2.kæŠ˜äº¤å‰éªŒè¯</strong><br>ç”±äºéªŒè¯æ•°æ®é›†ä¸å‚ä¸æ¨¡å‹è®­ç»ƒï¼Œæ‰€ä»¥å½“è®­ç»ƒæ•°æ®ä¸å¤Ÿç”¨æ—¶ï¼Œé¢„ç•™å¤§é‡éªŒè¯æ•°æ®é›†æœ‰ç‚¹å¥¢ä¾ˆã€‚æ‰€ä»¥ç”¨kæŠ˜äº¤å‰éªŒè¯ã€‚</p>
<blockquote>
<p>å³å°†è®­ç»ƒæ•°æ®é›†åˆ†æˆkä¸ªä¸é‡åˆçš„å­æ•°æ®é›†ï¼Œç„¶åæˆ‘ä»¬åškæ¬¡æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯ï¼Œæ¯ä¸€æ¬¡ç”¨ä¸€ä¸ªå­æ•°æ®é›†éªŒè¯ï¼Œå…¶ä»–k-1ä¸ªå­æ•°æ®é›†æ¥åšè®­ç»ƒæ¨¡å‹ã€‚æ¯æ¬¡ç”¨åˆ°çš„å­æ•°æ®é›†ä¸åŒã€‚æœ€åç”¨kæ¬¡è®­ç»ƒè¯¯å·®å’ŒéªŒè¯è¯¯å·®å–å¹³å‡/</p>
</blockquote>
<h4 id="3-11-3-æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ"><a href="#3-11-3-æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ" class="headerlink" title="3.11.3 æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ"></a>3.11.3 æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ</h4><p>è¦åŒæ—¶é¿å…æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆï¼Œè™½ç„¶å› ç´ å¾ˆå¤šï¼Œé‡ç‚¹è®¨è®ºæ¨¡å‹å¤æ‚åº¦å’Œè®­ç»ƒæ•°æ®é›†å¤§å°ã€‚<br><strong>1.æ¨¡å‹å¤æ‚åº¦</strong><br>å¤šé¡¹å¼æ¨¡å‹å¤æ‚åº¦æ›´é«˜ï¼Œæ›´å®¹æ˜“å‡å°è®­ç»ƒè¯¯å·®ï¼Œä½†å®¹æ˜“é€ æˆè¿‡æ‹Ÿåˆï¼Œå¤ªç®€å•æ¬ æ‹Ÿåˆã€‚<br><strong>2.è®­ç»ƒæ•°æ®é›†å¤§å°</strong><br>æ ·æœ¬æ•°æ®é›†è¿‡å°‘ï¼Œç‰¹åˆ«æ˜¯æ¯”æ¨¡å‹å‚æ•°æ•°é‡ï¼ˆæŒ‰å…ƒç´ è®¡ï¼‰æ›´å°‘æ—¶ï¼Œè¿‡æ‹Ÿåˆæ›´å®¹æ˜“å‘ç”Ÿã€‚æ­¤å¤–ï¼Œæ³›åŒ–è¯¯å·®ä¸ä¼šéšè®­ç»ƒæ•°æ®é›†é‡Œæ ·æœ¬æ•°é‡å¢åŠ è€Œå¢å¤§ã€‚å› æ­¤å¸Œæœ›æ•°æ®é›†æ›´å¤§</p>
<h4 id="3-11-4-å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆå®éªŒ"><a href="#3-11-4-å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆå®éªŒ" class="headerlink" title="3.11.4 å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆå®éªŒ"></a>3.11.4 å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆå®éªŒ</h4><p>æˆ‘å»è¿™ä¸ªè´¼6 è‡ªå·±çœ‹ä¸æ‡‚ï¼<br><strong>1.ç”Ÿæˆæ•°æ®é›†</strong><br><strong>2.å®šä¹‰ã€è®­ç»ƒå’Œæµ‹è¯•æ¨¡å‹</strong><br><strong><em>æˆ‘å»ç‰›çš®ï¼ï¼</em></strong><br>åœ¨Gluonä¸­æˆ‘ä»¬æ— é¡»æŒ‡å®šæ¯ä¸€å±‚è¾“å…¥çš„å½¢çŠ¶ï¼Œä¾‹å¦‚çº¿æ€§å›å½’çš„è¾“å…¥ä¸ªæ•°ï¼Œå½“æ¨¡å‹å¾—åˆ°æ•°æ®æ—¶ï¼Œä¾‹å¦‚åé¢æ‰§è¡Œnet(x)æ—¶ï¼Œæ¨¡å‹å°†è‡ªåŠ¨æ¨æ–­å‡ºæ¯ä¸€å±‚çš„è¾“å…¥ä¸ªæ•°ï¼Œæˆ‘ä»¬æˆ‘ä»¬å°†åœ¨ç¬¬4ç« ä»‹ç»è¿™ç§æœºåˆ¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net = nn.Sequential()</span><br><span class="line">net.add(nn.Dense(<span class="number">1</span>))    <span class="comment">#å¦ˆçš„åªéœ€è¦è¿™æ · 1 æ˜¯è¾“å‡ºä¸ªæ•°çš„æ„æ€</span></span><br><span class="line">net.initialize()</span><br></pre></td></tr></table></figure>

<p><strong>3.ä¸‰é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆï¼ˆæ­£å¸¸ï¼‰</strong><br><strong>4.çº¿æ€§å‡½æ•°æ‹Ÿåˆï¼ˆæ¬ æ‹Ÿåˆï¼‰</strong><br><strong>5.è®­ç»ƒæ ·æœ¬ä¸è¶³ï¼ˆè¿‡æ‹Ÿåˆï¼‰</strong></p>
<h3 id="3-12-æƒé‡è¡°å‡"><a href="#3-12-æƒé‡è¡°å‡" class="headerlink" title="3.12 æƒé‡è¡°å‡"></a>3.12 æƒé‡è¡°å‡</h3><h4 id="3-12-1-æ–¹æ³•"><a href="#3-12-1-æ–¹æ³•" class="headerlink" title="3.12.1 æ–¹æ³•"></a>3.12.1 æ–¹æ³•</h4><p>å¼•å…¥æƒé‡è¡°å‡ï¼ˆç­‰ä»·äºL2èŒƒæ•°æ­£åˆ™åŒ–ï¼‰ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ<br>æŸå¤±å‡½æ•°æ”¹å˜ï¼šå¢åŠ $$\ell(w_1, w_2, b) + \frac{\lambda}{2n} |\boldsymbol{w}|^2,$$<br>è¿­ä»£æ–¹å¼æ”¹å˜ï¼š$$<br>\begin{aligned}<br>w_1 &amp;\leftarrow \left(1- \frac{\eta\lambda}{|\mathcal{B}|} \right)w_1 -   \frac{\eta}{|\mathcal{B}|} \sum_{i \in \mathcal{B}}x_1^{(i)} \left(x_1^{(i)} w_1 + x_2^{(i)} w_2 + b - y^{(i)}\right),\<br>w_2 &amp;\leftarrow \left(1- \frac{\eta\lambda}{|\mathcal{B}|} \right)w_2 -   \frac{\eta}{|\mathcal{B}|} \sum_{i \in \mathcal{B}}x_2^{(i)} \left(x_1^{(i)} w_1 + x_2^{(i)} w_2 + b - y^{(i)}\right).<br>\end{aligned}<br>$$</p>
<h4 id="3-12-2-é«˜ç»´çº¿æ€§å›å½’å®éªŒ"><a href="#3-12-2-é«˜ç»´çº¿æ€§å›å½’å®éªŒ" class="headerlink" title="3.12.2 é«˜ç»´çº¿æ€§å›å½’å®éªŒ"></a>3.12.2 é«˜ç»´çº¿æ€§å›å½’å®éªŒ</h4><p>é€šè¿‡é«˜ç»´çº¿æ€§å›å½’ä¸ºä¾‹å¼•å…¥ä¸€ä¸ªè¿‡æ‹Ÿåˆé—®é¢˜ï¼Œå¹¶ä½¿ç”¨æƒé‡è¡°å‡è§£å†³</p>
<h4 id="3-12-3-ä»é›¶å¼€å§‹å®ç°"><a href="#3-12-3-ä»é›¶å¼€å§‹å®ç°" class="headerlink" title="3.12.3 ä»é›¶å¼€å§‹å®ç°"></a>3.12.3 ä»é›¶å¼€å§‹å®ç°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> autograd.record():</span><br><span class="line">                <span class="comment"># æ·»åŠ äº†L2èŒƒæ•°æƒ©ç½šé¡¹</span></span><br><span class="line">                l = loss(net(X, w, b), y) + lambd * l2_penalty(w)</span><br></pre></td></tr></table></figure>

<p>åªæ˜¯åœ¨æŸå¤±å‡½æ•°æ·»åŠ æƒ©ç½š<br>æ²¡æœ‰åœ¨è¿­ä»£å¢åŠ </p>
<h4 id="3-12-4-ç®€æ´å®ç°"><a href="#3-12-4-ç®€æ´å®ç°" class="headerlink" title="3.12.4 ç®€æ´å®ç°"></a>3.12.4 ç®€æ´å®ç°</h4><p>å¯ä»¥åˆ†åˆ«å¯¹wå’Œbéƒ½è¿›è¡Œæƒé‡è¡°å‡ï¼ˆé»˜è®¤å¯¹ä¸¤ä¸ªéƒ½ä¼šè€è´±ï¼‰<br>ä½†å¯ä»¥è‡ªå·±è®¾ç½®åªå¯¹wè¿›è¡Œè¡°å‡ï¼Œæƒé‡è¡°å‡å¯ä»¥é€šè¿‡Gluonçš„wdè¶…å‚æ•°æ¥æŒ‡å®šã€‚</p>
<h3 id="3-13-ä¸¢å¼ƒæ³•"><a href="#3-13-ä¸¢å¼ƒæ³•" class="headerlink" title="3.13 ä¸¢å¼ƒæ³•"></a>3.13 ä¸¢å¼ƒæ³•</h3><p>3.13.1 æ–¹æ³•<br>é™¤äº†æƒé‡æ‹Ÿåˆï¼Œè¿˜å¯ä»¥ç”¨ä¸¢å¼ƒæ³•è§£å†³è¿‡æ‹Ÿåˆçš„é—®é¢˜<br>éšè—å•å…ƒçš„è®¡ç®—è¡¨è¾¾å¼ï¼Œå¯¹éšè—å±‚ä½¿ç”¨ä¸¢å¼ƒæ³•æ—¶ï¼Œè¯¥å±‚çš„éšè—å•å…ƒå°†æœ‰ä¸€å®šæ¦‚ç‡è¢«ä¸¢å¼ƒæ‰ã€‚æœ‰pçš„æ¦‚ç‡è¢«æ¸…é›¶ï¼Œæœ‰1-pçš„æ¦‚ç‡ä¼šè¢«é™¤ä»¥1-påšæ‹‰ä¼¸ã€‚ä¸¢å¼ƒæ¦‚ç‡æ˜¯ä¸¢å¼ƒæ³•çš„è¶…å‚æ•°<br>ç”±äºè®­ç»ƒä¸­éšè—å±‚ç¥ç»å…ƒçš„ä¸¢å¼ƒæ˜¯éšæœºçš„ï¼Œå³h1~h5éƒ½æœ‰å¯èƒ½è¢«æ¸…é›¶ï¼Œè¾“å‡ºå±‚çš„è®¡ç®—æ— æ³•è¿‡åº¦ä¾èµ–h1ï½h5ä¸­çš„ä»»ä¸€ä¸ªï¼Œä»è€Œåœ¨è®­ç»ƒæ¨¡å‹æ—¶èµ·åˆ°æ­£åˆ™åŒ–çš„ä½œç”¨ã€‚<br>3.13.2 ä»é›¶å¼€å§‹å®ç°<br>å…ˆå­¦dropoutå‡½æ•°:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dropout</span><span class="params">(X, drop_prob)</span>:</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="number">0</span> &lt;= drop_prob &lt;= <span class="number">1</span></span><br><span class="line">    keep_prob = <span class="number">1</span> - drop_prob</span><br><span class="line">    <span class="comment"># è¿™ç§æƒ…å†µä¸‹æŠŠå…¨éƒ¨å…ƒç´ éƒ½ä¸¢å¼ƒ</span></span><br><span class="line">    <span class="keyword">if</span> keep_prob == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> X.zeros_like()</span><br><span class="line">    mask = nd.random.uniform(<span class="number">0</span>, <span class="number">1</span>, X.shape) &lt; keep_prob   <span class="comment">#uniform ä¸çŸ¥é“å¹²å•¥çš„</span></span><br><span class="line">    <span class="keyword">return</span> mask * X / keep_prob</span><br></pre></td></tr></table></figure>

<p>1ã€å®šä¹‰æ¨¡å‹å‚æ•°<br>2ã€å®šä¹‰æ¨¡å‹<br>3ã€è®­ç»ƒå’Œæµ‹è¯•æ¨¡å‹<br>3.13.3 ç®€æ´å®ç°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">net = nn.Sequential()</span><br><span class="line">net.add(nn.Dense(<span class="number">256</span>, activation=<span class="string">"relu"</span>),</span><br><span class="line">        nn.Dropout(drop_prob1),  <span class="comment"># åœ¨ç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚åæ·»åŠ ä¸¢å¼ƒå±‚</span></span><br><span class="line">        nn.Dense(<span class="number">256</span>, activation=<span class="string">"relu"</span>),</span><br><span class="line">        nn.Dropout(drop_prob2),  <span class="comment"># åœ¨ç¬¬äºŒä¸ªå…¨è¿æ¥å±‚åæ·»åŠ ä¸¢å¼ƒå±‚</span></span><br><span class="line">        nn.Dense(<span class="number">10</span>))</span><br><span class="line">net.initialize(init.Normal(sigma=<span class="number">0.01</span>))</span><br></pre></td></tr></table></figure>

<h3 id="3-14-æ­£å‘ä¼ æ’­ã€åå‘ä¼ æ’­å’Œè®¡ç®—å›¾"><a href="#3-14-æ­£å‘ä¼ æ’­ã€åå‘ä¼ æ’­å’Œè®¡ç®—å›¾" class="headerlink" title="3.14 æ­£å‘ä¼ æ’­ã€åå‘ä¼ æ’­å’Œè®¡ç®—å›¾"></a>3.14 æ­£å‘ä¼ æ’­ã€åå‘ä¼ æ’­å’Œè®¡ç®—å›¾</h3><p>ä¹‹å‰æˆ‘ä»¬æ˜¯ä½¿ç”¨å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™çš„ä¼˜åŒ–ç®—æ³•æ¥è®­ç»ƒæ¨¡å‹ã€‚é»˜è®¤ä½¿ç”¨äº†åå‘ä¼ æ’­ï¼Œæœ¬èŠ‚ä½¿ç”¨æ•°å­¦æ¥æè¿°æ­£å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å°†ä»¥å¸¦L2èŒƒæ•°æ­£åˆ™åŒ–çš„å«å•éšè—å±‚çš„å¤šå±‚æ„ŸçŸ¥æœºä¸ºæ ·ä¾‹æ¨¡å‹è§£é‡Šæ­£å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ã€‚<br>å·´æ‹‰å·´æ‹‰ä¸€å †æ•°å­¦çœ‹ä¸æ‡‚ ä½†åŸç†åº”è¯¥äº†è§£ä¸€äº› å°±æ˜¯ä»åå‘å‰æ±‚å–æ¢¯åº¦ï¼Œå´æ©è¾¾çš„è¯¾å¥½åƒä¹Ÿè®²è¿‡<br>è¿˜æœ‰æ­£å‘ä¼ æ’­ä¾èµ–åå‘ä¼ æ’­ï¼Œåå‘ä¼ æ’­ä¾èµ–æ­£å‘ä¼ æ’­ã€‚</p>
<h3 id="3-15-æ•°å€¼ç¨³å®šæ€§å’Œæ¨¡å‹åˆå§‹åŒ–"><a href="#3-15-æ•°å€¼ç¨³å®šæ€§å’Œæ¨¡å‹åˆå§‹åŒ–" class="headerlink" title="3.15 æ•°å€¼ç¨³å®šæ€§å’Œæ¨¡å‹åˆå§‹åŒ–"></a>3.15 æ•°å€¼ç¨³å®šæ€§å’Œæ¨¡å‹åˆå§‹åŒ–</h3><p>3.15.1 è¡°å‡å’Œçˆ†ç‚¸<br>å½“ç¥ç»ç½‘ç»œå±‚æ•°è¾ƒå¤šï¼Œæ¨¡å‹çš„æ•°å€¼ç¨³å®šæ€§å®¹æ˜“å˜å·®ã€‚å®¹æ˜“å¾ˆå¤šå±‚ä¼šå¾ˆå°æˆ–è€…å¾ˆå¤§<br>3.15.2 éšæœºåˆå§‹åŒ–æ¨¡å‹å‚æ•°<br>1.MXNetçš„é»˜è®¤éšæœºåˆå§‹åŒ–<br>2.Xavieréšæœºåˆå§‹åŒ–</p>
<h3 id="3-16-å®æˆ˜Kaggleæ¯”èµ›ï¼šæˆ¿ä»·é¢„æµ‹"><a href="#3-16-å®æˆ˜Kaggleæ¯”èµ›ï¼šæˆ¿ä»·é¢„æµ‹" class="headerlink" title="3.16 å®æˆ˜Kaggleæ¯”èµ›ï¼šæˆ¿ä»·é¢„æµ‹"></a>3.16 å®æˆ˜Kaggleæ¯”èµ›ï¼šæˆ¿ä»·é¢„æµ‹</h3><p>ç»ˆäºæœ‰å®é™…ä»£ç äº†ï¼Œç†è®ºå¥½å¤æ‚ã€‚<br>æœ¬èŠ‚å°†æä¾›æœªç»è°ƒä¼˜çš„æ•°æ®çš„é¢„å¤„ç†ã€æ¨¡å‹çš„è®¾è®¡å’Œè¶…å‚æ•°çš„é€‰æ‹©ã€‚<br>å¾ˆå¤š æœ‰ç‚¹å¤æ‚ è‡ªå·±çœ‹ä¹¦ å†ç†è§£ä¼šæ¯”è¾ƒå¥½</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/06/å‰ç«¯å¼€å‘æ€»ç»“/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/12/06/å‰ç«¯å¼€å‘æ€»ç»“/" class="post-title-link" itemprop="url">å‰ç«¯å¼€å‘æ€»ç»“</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-12-06 20:34:28" itemprop="dateCreated datePublished" datetime="2019-12-06T20:34:28+08:00">2019-12-06</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-07 01:38:32" itemprop="dateModified" datetime="2019-12-07T01:38:32+08:00">2019-12-07</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å„ç§å‰ç«¯å„ç§å°å¿ƒå¾—"><a href="#å„ç§å‰ç«¯å„ç§å°å¿ƒå¾—" class="headerlink" title="å„ç§å‰ç«¯å„ç§å°å¿ƒå¾—"></a>å„ç§å‰ç«¯å„ç§å°å¿ƒå¾—</h1><blockquote>
<p>è¿™å­¦æœŸç®—æ˜¯æ–°æ‰‹æ¥å¼€å‘ä¸€ä¸ªå¤§é¡¹ç›®ï¼ŒæœŸé—´é‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè™½ç„¶å¾ˆå¤šé—®é¢˜å¤§å®¶ä¼šçœ‹æ¥æ˜¯å°é—®é¢˜ï¼Œä½†å¯¹æˆ‘èŠ±è´¹æŒºå¤šæ—¶é—´è§£å†³çš„ï¼Œè¿™é‡Œæ€»ç»“å¦‚ä¸‹ï¼Œèƒ½ä¸ºä¹‹åå¤§å®¶å¼€å‘æä¾›å¸®åŠ©ä¹Ÿèƒ½è®°å½•è‡ªå·±çš„é—®é¢˜ã€‚</p>
</blockquote>
<h2 id="this-setStateæ›´æ–°æ˜¯å¼‚æ­¥çš„"><a href="#this-setStateæ›´æ–°æ˜¯å¼‚æ­¥çš„" class="headerlink" title="this.setStateæ›´æ–°æ˜¯å¼‚æ­¥çš„"></a>this.setStateæ›´æ–°æ˜¯å¼‚æ­¥çš„</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">onPullDownRefresh() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      comments: [],</span><br><span class="line">      sum: <span class="number">0</span>,</span><br><span class="line">      lastId: <span class="number">0</span></span><br><span class="line">    &#125;,()=&gt;&#123;</span><br><span class="line">      Taro.showNavigationBarLoading()</span><br><span class="line">      <span class="keyword">this</span>.getComments()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;<span class="comment">//ä¸‹æ‹‰äº‹ä»¶</span></span><br></pre></td></tr></table></figure>

<p>åœ¨åšä¸Šæ‹‰åˆ·æ–°çš„æ—¶å€™ï¼Œéœ€è¦å°†æ‰€æœ‰æ•°æ®æ¸…ç©ºï¼Œä½†æ˜¯å¦‚æœä¸ä½¿ç”¨ä¸Šè¿°è°ƒç”¨setstateå›è°ƒå‡½æ•°çš„æ–¹æ³•this.setStateä¼šå¤±æ•ˆï¼Œç”¨ä¸Šé¢æ–¹æ³•åœ¨æ›´æ–°stateåèƒ½å®Œç¾åˆ·æ–°æ•°æ®ã€‚å½“æ—¶å¡äº†å¾ˆä¹…ï¼Œåˆ°ç½‘ä¸Šæœäº†å¾ˆå¤šthis.setStateå¤±æ•ˆåŸå› æ‰çŸ¥é“ã€‚</p>
<h2 id="ä¸Šæ‹‰åˆ·æ–°ï¼Œä¸‹æ‹‰åŠ è½½"><a href="#ä¸Šæ‹‰åˆ·æ–°ï¼Œä¸‹æ‹‰åŠ è½½" class="headerlink" title="ä¸Šæ‹‰åˆ·æ–°ï¼Œä¸‹æ‹‰åŠ è½½"></a>ä¸Šæ‹‰åˆ·æ–°ï¼Œä¸‹æ‹‰åŠ è½½</h2><p>æˆ‘ä¹‹å‰æ²¡æœ‰åšè¿‡minprojectï¼Œæ‰€ä»¥èŠ±äº†å¾ˆå¤šæ—¶é—´å¼„æ‡‚æ€ä¹ˆä¸Šæ‹‰åˆ·æ–°ä¸‹æ‹‰åŠ è½½ï¼Œä½†è¿™æ¬¡çš„ä¸Šæ‹‰åˆ·æ–°ç”±äºå›ºå®šäº†ä¸ªç»„ä»¶ï¼Œæäº†åŠå¤©ï¼ŒåŸæœ¬ä»¥ä¸ºtaroçš„æ–¹æ³•è‡ªå¸¦ä¸‹æ‹‰åˆ·æ–°å…¼å®¹æ€§ä¸æ˜“æ›´æ”¹ï¼Œå’Œå¼ æ–‡é”¦è¯´äº†åŠå¤©ã€‚å…¶å®æŒºç®€å•ï¼Œè¿™é‡Œæ€»ç»“ä¸‹æ¥ï¼Œé¿å…å¤§å®¶å†åƒæˆ‘ä¸€æ ·å‚»ä¹ä¹èµ°å¼¯è·¯ã€‚è€Œä¸”ç½‘ä¸Šå…³äºtaroçš„æ–¹æ³•æ¯”è¾ƒæ—¶ã€‚</p>
<h3 id="å›ºå®šä¸ä¼šç§»åŠ¨çš„ç»„ä»¶"><a href="#å›ºå®šä¸ä¼šç§»åŠ¨çš„ç»„ä»¶" class="headerlink" title="å›ºå®šä¸ä¼šç§»åŠ¨çš„ç»„ä»¶"></a>å›ºå®šä¸ä¼šç§»åŠ¨çš„ç»„ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;View className=<span class="string">'chooseBox'</span>&gt;</span><br><span class="line">&lt;View className=<span class="string">'chooseInput'</span> onClick=&#123;<span class="keyword">this</span>.ChangeTosearch.bind(<span class="keyword">this</span>)&#125;&gt;</span><br><span class="line">&lt;MxInput&gt;&lt;/MxInput&gt;</span><br><span class="line">&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">&lt;View className='chooseAdd' onClick=&#123;this.ChangeTopost.bind(this)&#125;&gt;</span></span><br><span class="line"><span class="regexp">&lt;MxIcon type='add'  width='40p2' width='40p2'&gt;&lt;/</span>MxIcon&gt;</span><br><span class="line">&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>View&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.chooseBox</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>rpx;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">98</span>rpx;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">750</span>rpx;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(255,255,255,1);</span><br><span class="line">    <span class="attribute">box-shadow</span>:<span class="number">0</span>rpx <span class="number">4</span>rpx <span class="number">7</span>rpx <span class="built_in">rgba</span>(0,0,0,0.16);</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¸€å®šæ³¨æ„è¿™é‡Œtop: 0rpx; position:fixed åªè¦è¿™æ ·è®¾ç½®å°±ä¸ä¼šè¢«taroè‡ªå¸¦çš„åˆ·æ–°åŠ¨ç”»è¦†ç›–å°±ä¼šå›ºå®šå½“åˆèŠ±äº†å¾ˆä¹…æƒ³å’‹å¼„</strong><br>åŒæ—¶è¿˜æœ‰è®¾ç½®pageçš„é¢œè‰²æ¥é€‚é…</p>
<h3 id="è®¾ç½®scroll-view"><a href="#è®¾ç½®scroll-view" class="headerlink" title="è®¾ç½®scroll-view"></a>è®¾ç½®scroll-view</h3><p>å› ä¸ºè®¾ç½®äº†å†…å®¹fixed ä½ çš„scroll-viewå°±éœ€è¦éœ²å‡ºæ¥ä¸€éƒ¨åˆ†ï¼Œè®¾ç½®padding-top<br><img src="/2019/12/06/å‰ç«¯å¼€å‘æ€»ç»“/2.png" alt="img"><br><img src="/2019/12/06/å‰ç«¯å¼€å‘æ€»ç»“/1.png" alt="css"></p>
<h3 id="é¡µé¢è½½å…¥é€»è¾‘"><a href="#é¡µé¢è½½å…¥é€»è¾‘" class="headerlink" title="é¡µé¢è½½å…¥é€»è¾‘"></a>é¡µé¢è½½å…¥é€»è¾‘</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">componentWillMount() &#123;</span><br><span class="line">  <span class="keyword">this</span>.getComments();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è½½å…¥é¡µé¢åˆ·æ–°æ•°æ®</p>
<h3 id="ä¸Šæ‹‰åˆ·æ–°é€»è¾‘"><a href="#ä¸Šæ‹‰åˆ·æ–°é€»è¾‘" class="headerlink" title="ä¸Šæ‹‰åˆ·æ–°é€»è¾‘"></a>ä¸Šæ‹‰åˆ·æ–°é€»è¾‘</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">onPullDownRefresh() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      comments: [],</span><br><span class="line">      sum: <span class="number">0</span>,</span><br><span class="line">      lastId: <span class="number">0</span></span><br><span class="line">    &#125;,()=&gt;&#123;</span><br><span class="line">      Taro.showNavigationBarLoading()</span><br><span class="line">      <span class="keyword">this</span>.getComments()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;<span class="comment">//ä¸‹æ‹‰äº‹ä»¶</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šæ‹‰åˆ·æ–°çš„æ—¶å€™ æ¸…ç©ºæ•°æ®å†åˆ·æ–°ï¼Œæ³¨æ„setState</p>
<h3 id="ä¸‹æ‹‰åŠ è½½é€»è¾‘"><a href="#ä¸‹æ‹‰åŠ è½½é€»è¾‘" class="headerlink" title="ä¸‹æ‹‰åŠ è½½é€»è¾‘"></a>ä¸‹æ‹‰åŠ è½½é€»è¾‘</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">onReachBottom() &#123;</span><br><span class="line">  Taro.showNavigationBarLoading()</span><br><span class="line">  <span class="keyword">this</span>.getComments();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>easyï¼è¦æ³¨æ„æ»‘åˆ°åº•æç¤ºç”¨æˆ·æ²¡æœ‰æ›´å¤šæ•°æ®ã€‚</p>
<p>è¦æ³¨æ„è¿˜æœ‰æ˜¯ç°å®åŠ è½½å›¾æ ‡çš„å…³é—­ï¼Œåœ¨getComments()æ–¹æ³•è°ƒç”¨æˆåŠŸåä½¿ç”¨å…³é—­åŠ è½½å›¾æ¡ˆ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">getComments() &#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> newComments = <span class="keyword">this</span>.state.comments</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.state.lastId!=<span class="number">1</span>)&#123;</span><br><span class="line">    Fetch(</span><br><span class="line">      <span class="string">'api/v1/evaluation'</span>,</span><br><span class="line">      &#123;</span><br><span class="line">      limit: <span class="number">3</span>,</span><br><span class="line">      last_id: <span class="keyword">this</span>.state.lastId</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">'GET'</span></span><br><span class="line">    ).then(<span class="function"><span class="params">data</span> =&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(data)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">        newComments=newComments.concat(data.data.list)</span><br><span class="line">        Taro.stopPullDownRefresh()    <span class="comment">//åœæ­¢åˆ·æ–°</span></span><br><span class="line">        Taro.hideNavigationBarLoading()     <span class="comment">//å…³é—­åŠ è½½å›¾æ¡ˆ</span></span><br><span class="line">        that.setState(&#123;</span><br><span class="line">          comments: newComments,</span><br><span class="line">          sum: data.data.sum,</span><br><span class="line">          lastId: data.data.list[data.data.sum<span class="number">-1</span>].id</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      Taro.showToast(&#123;</span><br><span class="line">        title: <span class="string">'åˆ°åº•å•¦ï¼'</span>,            <span class="comment">//æç¤ºç”¨æˆ·æ²¡æœ‰æ›´å¤šæ•°æ®</span></span><br><span class="line">        duration: <span class="number">2000</span></span><br><span class="line">      &#125;)</span><br><span class="line">      Taro.stopPullDownRefresh()        <span class="comment">//åœæ­¢åˆ·æ–°</span></span><br><span class="line">      Taro.hideNavigationBarLoading()        <span class="comment">//å…³é—­åŠ è½½å›¾æ¡ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶åˆ©ç”¨æ¡ä»¶æ¸²æŸ“ï¼Œåº•éƒ¨å¢åŠ ä¸€æ æç¤ºç”¨æˆ·æ²¡æœ‰æ›´å¤šä¿¡æ¯ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;!bottomFlag &amp;&amp; &lt;View className='bottomBox'&gt;åˆ°åº•å•¦ï¼&lt;/View&gt;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é¡µé¢è¿”å›é€»è¾‘"><a href="#é¡µé¢è¿”å›é€»è¾‘" class="headerlink" title="é¡µé¢è¿”å›é€»è¾‘"></a>é¡µé¢è¿”å›é€»è¾‘</h3><blockquote>
<p>ç”¨æˆ·éœ€è¦ç‚¹å‡»åˆ°åˆ«çš„é¡µé¢ è¿”å›åˆ°è¯„è¯¾é¡µé¢æ—¶å€™åˆ·æ–°ä¸€éï¼Œæ¯”å¦‚è¯„å®Œè¯¾é©¬ä¸Šèƒ½åœ¨ä¸»é¡µçœ‹åˆ°è‡ªå·±è¯„è®ºçš„è¯¾<br>ç½‘ä¸Šæœç´¢çš„çš„æ˜¯å¾®ä¿¡å°ç¨‹åºä¸­onShowçš„é‡æ–°è·å–æ•°æ®ï¼Œåœ¨è¿›å…¥é¡µé¢æ—¶é‡æ–°è·å–åˆ·æ–°ã€‚ç„¶åæ‰¾åˆ°ä¸€ä¸ªè¡¨ï¼Œå¯¹åº”åœ¨taroçš„ä½¿ç”¨ï¼š</p>
</blockquote>
<p><img src="/2019/12/06/å‰ç«¯å¼€å‘æ€»ç»“/3.png" alt="img"></p>
<p>äºæ˜¯åœ¨compoentDidShow()æ–¹æ³•é‡Œè°ƒç”¨ä¾¿å¯å®ç°è¿”å›é¡µé¢åˆ·æ–°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">componentDidShow() &#123;</span><br><span class="line">  <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">    comments: [],</span><br><span class="line">    sum: <span class="number">0</span>,</span><br><span class="line">    lastId: <span class="number">0</span></span><br><span class="line">  &#125;,()=&gt;&#123;</span><br><span class="line">    Taro.showNavigationBarLoading()</span><br><span class="line">    <span class="keyword">this</span>.getComments()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><em>ä»¥ä¸Šå°±æ˜¯æ•´ä¸ªä¸ªè·å–åˆ—è¡¨åˆ·æ–°åˆ—è¡¨çš„é€»è¾‘æ–¹æ³•ï¼ŒæŒºç®€å•çš„ï¼Œä½†ä¹ŸèŠ±äº†å¾ˆå¤šæ—¶é—´ï¼Œè¯»äº†å¾ˆå¤šåšå®¢æ‰ä¼š</em></strong></p>
<h2 id="æ—¶é—´æˆ³"><a href="#æ—¶é—´æˆ³" class="headerlink" title="æ—¶é—´æˆ³"></a>æ—¶é—´æˆ³</h2><p>å°†æ•°æ®åº“ä¸­çš„æ—¶é—´æ•°å­—è½¬æ¢æˆç”¨æˆ·æ˜¾ç¤ºçš„æ—¶é—´æˆ³ï¼Œç”¨jså‡½æ•°å®ç°ï¼š<br>è¿™é‡Œå¾ˆæƒ³æŠŠç»„å‘˜çš„ä»£ç è´´å‡ºæ¥ï¼Œä½†æ²¡è¯¢é—®ï¼Œä¸å¤ªå¥½ã€‚ä¹Ÿæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•æŠ€å·§ï¼Œå¾ˆæ•¬ä½©ï¼Œ</p>
<h2 id="è·¯ç”±è·³è½¬ä¼ å‚"><a href="#è·¯ç”±è·³è½¬ä¼ å‚" class="headerlink" title="è·¯ç”±è·³è½¬ä¼ å‚"></a>è·¯ç”±è·³è½¬ä¼ å‚</h2><blockquote>
<p>ä¸ºäº†å¢å¼ºç”¨æˆ·ä½“éªŒï¼Œä¼šæœ‰ç”¨æˆ·ç‚¹å‡»ä¸€æ¡è¯„è®ºè·³åˆ°è¯„è®ºè¯¦æƒ…çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦è·³è½¬çš„æ—¶å€™ç»™ä¸‹ä¸€ä¸ªé¡µé¢æ¸²æŸ“æä¾›idï¼Œå°±æœ‰è·¯ç”±ä¼ å‚çš„æ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ChangeTosearch() &#123;</span><br><span class="line">   Taro.navigateTo(&#123;</span><br><span class="line">     url: <span class="string">'/pages/search/index?searchInfo='</span> + <span class="keyword">this</span>.state.search</span><br><span class="line">   &#125;);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚åœ¨ç‚¹å‡»äº‹ä»¶ä¸Šä¼ é€’æ•°æ®ï¼Œå°±æŠŠurlå†™æˆç±»ä¼¼ï¼š<br><code>/pages/search/index?id=1&name=yapeng<code><br>çš„å½¢å¼ï¼Œç„¶ååœ¨è·³è½¬è‡³çš„é¡µé¢</code></code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">componentWillMount () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.$router.params)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ ¼å¼ paramså°±ä¼šè·å¾—ä¸Šä¸ªé¡µé¢ä¼ é€’æ¥çš„æ•°æ®ï¼Œç„¶åè¿›è¡Œæ‹‰å–æ•°æ®æ¸²æŸ“ç‰¹å®šé¡µé¢ã€‚<br><img src="/2019/12/06/å‰ç«¯å¼€å‘æ€»ç»“/4.png" alt="img"><br><img src="/2019/12/06/å‰ç«¯å¼€å‘æ€»ç»“/5.png" alt="img"></p>
<p><strong><em>æ€»ç»“å®Œæ¯•ï¼Œè™½ç„¶åœ¨å¤§å®¶çœ¼é‡Œå¯èƒ½è§‰å¾—è¿™éƒ½æ˜¯äº›å¾ˆç®€å•çš„åŸºç¡€ï¼Œä½†æˆ‘å´èŠ±è´¹äº†å¤§é‡ç²¾åŠ›æŸ¥æ‰¾èµ„æ–™ï¼Œå­¦ä¹ æ€»ç»“ï¼Œä¹Ÿæ˜¯ååˆ†å¿…è¦çš„æ€»ç»“ï¼Œå¸Œæœ›æ›´åŠ åŠªåŠ›ã€‚</em></strong></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/28/ç›®æ ‡æ£€æµ‹å­¦ä¹ ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/11/28/ç›®æ ‡æ£€æµ‹å­¦ä¹ ç¬”è®°/" class="post-title-link" itemprop="url">ç›®æ ‡æ£€æµ‹å­¦ä¹ ç¬”è®°</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-28 17:02:44" itemprop="dateCreated datePublished" datetime="2019-11-28T17:02:44+08:00">2019-11-28</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-11-29 00:08:40" itemprop="dateModified" datetime="2019-11-29T00:08:40+08:00">2019-11-29</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="YOLO-å­¦ä¹ ç¬”è®°"><a href="#YOLO-å­¦ä¹ ç¬”è®°" class="headerlink" title="YOLO å­¦ä¹ ç¬”è®°"></a>YOLO å­¦ä¹ ç¬”è®°</h2><h3 id="YOLO-v1æ·±å…¥ç†è§£"><a href="#YOLO-v1æ·±å…¥ç†è§£" class="headerlink" title="YOLO v1æ·±å…¥ç†è§£"></a>YOLO v1æ·±å…¥ç†è§£</h3><p>yolo1 448<em>448</em>3 è¾“å…¥ä¹‹å‰åšresize åˆ†æˆ7<em>7ç½‘æ ¼ å¦‚æœç›®æ ‡ä¸­å¿ƒåœ¨ç½‘æ ¼é‡Œå°±è¿›è¡Œé¢„æµ‹<br>ç½‘æ ¼ç§°å‘¼cell  æ¯ä¸€ä¸ªcell è´Ÿè´£é¢„æµ‹ä¸¤ä¸ª boundingbox é€‰æ‹©å…¶ä¸­ä¸€ä¸ª iouæœ€å¤§çš„è¿›è¡Œé¢„æµ‹<br>è¾“å‡ºæ˜¯7</em>7*10 tensor</p>
<p>æ¯ä¸€ä¸ªç½‘æ ¼äº§ç”Ÿ 30ä¸ªé€šé“çš„ä¿¡æ¯<br>2ä¸ªbounding box  ä¼šæœ‰è¾¹æ¡†ä¿¡æ¯ ï¼ˆä¸­å¿ƒç‚¹åæ ‡å’Œå®½é«˜ï¼‰ ï¼ˆæ¯ä¸€ä¸ªboundingbox çš„ç‰©ä½“æ‰§è¡Œåº¦ï¼‰ å‰10ä¸ª<br>åˆ†ç±»ä¿¡æ¯ yolov1 ä¼šæœ‰20ä¸ªåˆ†ç±»ç›®æ ‡ æ‰€ä»¥æ€»çš„æœ‰30</p>
<p>ç›®æ ‡æ£€æµ‹ï¼š ä½ç½®ä¿¡æ¯ä¸åˆ†ç±»  åŒ…å«å›å½’å’Œåˆ†ç±» </p>
<p>fast rcnn ä¼šæœ‰<br>yolo3 416* 416 608*608</p>
<p>bounding boxçš„ç½®ä¿¡åº¦ = è¯¥boudnig box å†…å­˜åœ¨å¯¹è±¡çš„æ¦‚ç‡* è¯¥boudingboxä¸è¯¥å¯¹è±¡å®é™…boundingboxçš„iouäº¤å¹¶æ¯”</p>
<p>YOLOæ ‡ç­¾ä¸ä»¥å¾€ä¸ä¸€æ ·<br>æ˜¯åœ¨è®­ç»ƒæ‰ä¼šå‡ºç° ç½®ä¿¡åº¦çš„æ ‡ç­¾ ä¾èµ–äºæ ‡ç­¾çš„è£±æ¡† </p>
<p>äº¤é›†é™¤ä»¥å¹¶é›† å€¼è¶Šå¤§ é‡åˆçš„æ¦‚ç‡è¶Šå¤§</p>
<p>7*7çš„ç½‘æ ¼å¯ä»¥è®­ç»ƒ2ä¸ªbounding box<br>v3é‡Œé¢ æ¯ä¸ªgridé‡Œé¢ æœ‰3ä¸ªancorå¤šä¸ª </p>
<p>è®­ç»ƒæ ·æœ¬æ ‡æ³¨ä¹‹å ä¼šæœ‰è¾¹æ¡† </p>
<p>æŸå¤±æ˜¯å»æ‰¾æŸå¤±çš„ä¸­å¿ƒç‚¹<br>ä¸­å¿ƒç‚¹åœ¨é‚£ä¸ªä½ç½® è¿™ä¸ªcellæ¥è´Ÿè´£é¢„æµ‹ç‹—å¯¹è±¡ å¦‚ä½•è´Ÿè´£çœ‹è®¡ç®—<br>20ä¸ªå¯¹è±¡çš„æ¦‚ç‡ </p>
<p>å¯¹ä¸€ä¸ªæ¡† æ˜¯ç‹—çš„æ¡† è‹¥æ˜¯ç‹—åˆ™æ˜¯1 å…¶ä»–çš„éƒ½æ˜¯0 </p>
<p>bounding boxæ€ä¹ˆè¾“å‡º<br>ä¸€ä¸ªcelé‡Œé¢æœ‰cell å’Œ ancor<br>æŒ‘é€‰ä¸€ä¸ªæ¯”è¾ƒç¬¦åˆçš„  </p>
<p>è¿™ä¸ªæ ·æœ¬æ ‡ç­¾ bouding box1å¡«ä»€ä¹ˆæ˜¯ä¾èµ–äº è®­ç»ƒè¿‡ç¨‹ä¸­å¾—åˆ°çš„iou</p>
<p>æŸå¤±ï¼š<br>ä¸­å¿ƒç‚¹çš„æŸå¤±+å®½é«˜çš„æŸå¤± æœ‰ç›®æ ‡åœ¨æ‰æœ‰</p>
<p>é™æ€ç›®æ ‡å’ŒåŠ¨æ€ç›®æ ‡çš„æ•ˆæœä¸ä¸€æ ·<br>ç½®ä¿¡åº¦çš„æŸå¤± æœ‰ç›®æ ‡çš„æŸå¤±å‚è€ƒå€¼æ˜¯ä¸€ æ²¡æœ‰çš„ç›®æ ‡çš„æŸå¤±å‚è€ƒå€¼æ˜¯0</p>
<p>é¢„æµ‹é˜¶æ®µ è¾“å‡ºå°±æ˜¯ç½®ä¿¡åº¦  å¯ä»¥æ ¹æ®ç½®ä¿¡åº¦æ¥åšé¢„æµ‹</p>
<p>éæå¤§å€¼æŠ‘åˆ¶</p>
<p>æ‰¾ç½®ä¿¡åº¦æœ€é«˜çš„ æ ¹æ®é¢„å€¼ è®¡ç®—iou å¤§äºé¢„å€¼ å°±åˆ é™¤ å¾—åˆ°ä¸¤ä¸ªæ¡† ä¸€æ ·çš„æµç¨‹</p>
<h2 id="Faster-RCNN"><a href="#Faster-RCNN" class="headerlink" title="Faster RCNN"></a>Faster RCNN</h2><blockquote>
<p>ç›®æ ‡æ£€æµ‹ å‘å±•è¿…é€Ÿ  yolo anglefree yolo v3å€ŸåŠ© ssdçš„æ€æƒ³ ç»™äº† angleå»ºè®®</p>
</blockquote>
<p>faster rcnn ä¸ rcnnçš„åŒºåˆ«</p>
<p>æ˜¯ Region Proposal Network å’Œ Rol pooling </p>
<p>æ—©æœŸçš„åˆ†ç±»å™¨ æ‰¾åˆ°åŒºåŸŸ å†æŠŠåŒºåŸŸæ‹¿å‡ºå»åšåˆ†ç±»  è®¡ç®—å¤æ‚åº¦å¾ˆé«˜ </p>
<p>faster rcnn æ˜¯æŠŠå¤šæ¬¡çš„ç‰¹å¾æå–åªåšä¸€æ¬¡</p>
<p>å›¾ç‰‡ç»è¿‡å·ç§¯å±‚ ä¼šå¾—åˆ°ç‰¹å¾æ˜ å°„ å¾—åˆ°å»ºè®®çš„åŒºåŸŸ box å†æ ¹æ®åŸæ¥feature maps åšä¸€ä¸ªèåˆ æ‰¾åˆ°<br>proposalsçš„å»ºè®®ç‰¹å¾<br>å†åšä¸€ä¸ª rol pooling<br>classier åœ¨åšåˆ†ç±»ç‰¹å¾ åŒæ—¶åšbounding boxçš„å›å½’</p>
<p>1ã€ç¬¬ä¸€æ­¥ç‰¹å¾æå– å·ç§¯ç¥ç»ç½‘ç»œ<br>2ã€region proposal networks åŒ…å«ä¸¤ä¸ªæ“ä½œ ä¸€ä¸ªæ˜¯åˆ†ç±»å™¨ softmax åˆ¤æ–­å‡å®šçš„ anchorsæ˜¯ å‰æ™¯è¿˜æ˜¯èƒŒæ™¯ è¿‡æ»¤ä¸€äº›ancor rpnç½‘ç»œ ç»™å¾ˆå¤šbox å®é™…ä¸Šåš rlpooling åªæ˜¯ä¸€ä¸ªéƒ¨åˆ†   å¦ä¸€ä¸ª åšbounding å›å½’<br>3ã€åˆ›é€ æ€§çš„ roi pooling  ç»™å®šå»ºè®®åŒºåŸŸ ç”±äºå½¢çŠ¶å¤§å°ä¸ä¸€è‡´ ä½†æ˜¯åˆ†ç±»èµ·è¦æ±‚è¾“å…¥å¤§å°å½¢çŠ¶ç›¸åŒ å¯¹ ä¸åŒå½¢çŠ¶çš„box åšä¸€ä¸ªpooling å‚æ•°ä¸ä¸€æ · ä½†æ˜¯æœ€åpoolingçš„ç»“æœæ˜¯ä¸€æ ·çš„<br>4ã€åˆ†ç±»å±‚ ä¸¤ä¸ªä»»åŠ¡ï¼šç›®æ ‡çš„åˆ†ç±» å’Œ bounding box å›å½’</p>
<p>æ ¸å¿ƒ<br>å…·ä½“ç»†èŠ‚ä¸è®²</p>
<p>é‡ç‚¹çœ‹ anchor</p>
<p><strong>anchor</strong></p>
<p>anchor åªæœ‰å®½åº¦å’Œé«˜ ä½ç½®ç”±ä¸­å¿ƒç‚¹ ç¡®å®š  ä»¥ä¸€ä¸ªç‚¹ç”Ÿæˆ kä¸ª æ¡† ä¸€ä¸ªæ¡†4ä¸ªåæ ‡  å…±4kä¸ªåæ ‡ï¼ˆæ ¹æ®åŸå§‹å›¾ç‰‡çš„bboxåšå›å½’ï¼‰ï¼ˆåˆ°åŸå§‹å›¾ç‰‡ä¸Šï¼‰åšæ£€æµ‹     2k scores softmax äºŒåˆ†ç±» åˆ¤æ–­å‰æ™¯è¿˜æ˜¯èƒŒæ™¯</p>
<p>ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>
<p>anchor ä¸‹é‡‡æ · åšå›å½’å’Œè€Œåˆ†ç±»</p>
<p>è¿˜å¯ä»¥æ”¹å˜ é‡‡æ ·çš„å¤§å° </p>
<p>å›å½’æ“ä½œ æ˜¯é¢„æµ‹å€¼å°½å¯èƒ½æ¥è¿‘å‚è€ƒå€¼ </p>
<p>roi pooling<br>éœ€è¦å°ºå¯¸ä¸€æ ·<br>è¦ä¹ˆåˆ‡å‰² è¦ä¹ˆæ˜¯è½¬å‘ç›¸åŒçš„å°ºå¯¸ </p>
<p>å°±å¯ä»¥ç»™ä¸åŒçš„poolingçš„å‚æ•° </p>
<p>è™½ç„¶ ancorå°ºå¯¸ä¸ä¸€æ · ä½†æ˜¯ç»“æœä¸€æ ·  æ ¹æ®ä¹‹å‰çš„å‚æ•°æ¥åˆ¤æ–­</p>
<p>æœ€åæŠŠ roi poolingç»™ç½‘ç»œ ä¸€ä¸ªåšå›å½’ ä¸€ä¸ªåšç›®æ ‡åˆ†ç±»      </p>
<h2 id="training-yolov3"><a href="#training-yolov3" class="headerlink" title="training yolov3"></a>training yolov3</h2>
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/" class="post-title-link" itemprop="url">OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-03 09:26:20" itemprop="dateCreated datePublished" datetime="2019-11-03T09:26:20+08:00">2019-11-03</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-11-08 16:30:05" itemprop="dateModified" datetime="2019-11-08T16:30:05+08:00">2019-11-08</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ç¬¬2ç« -å¤„ç†æ–‡ä»¶ã€æ‘„åƒå¤´å’Œå›¾å½¢ç”¨æˆ·ç•Œé¢"><a href="#ç¬¬2ç« -å¤„ç†æ–‡ä»¶ã€æ‘„åƒå¤´å’Œå›¾å½¢ç”¨æˆ·ç•Œé¢" class="headerlink" title="ç¬¬2ç«  å¤„ç†æ–‡ä»¶ã€æ‘„åƒå¤´å’Œå›¾å½¢ç”¨æˆ·ç•Œé¢"></a>ç¬¬2ç«  å¤„ç†æ–‡ä»¶ã€æ‘„åƒå¤´å’Œå›¾å½¢ç”¨æˆ·ç•Œé¢</h2><p><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/C2.png" alt="C2"><br>æœ¬ç« é‡ç‚¹ä»‹ç»OpenCVçš„I/OåŠŸèƒ½ï¼Œä¹Ÿä¼šè®¨è®ºé¡¹ç›®çš„æ¦‚å¿µï¼Œåç»­ç« èŠ‚ä¸ºé‡ç‚¹<br>ä»æŸ¥çœ‹I/OåŠŸèƒ½å’Œè®¾è®¡æ¨¡å¼æ¥æ„å»ºé¡¹ç›®ï¼Œè®¡ç®—æœºè§†è§‰åº”ç”¨ä¼šé¢å¯¹çœŸå®ç¯å¢ƒï¼Œæ‰€ä»¥äººä»¬å¸Œæœ›ç”¨ç»Ÿä¸€çš„æ¥å£å°†åç»­ç®—æ³•åº”ç”¨åˆ°çœŸå®ç¯å¢ƒä¸­ã€‚</p>
<h3 id="2-1-åŸºæœ¬I-Oè„šæœ¬"><a href="#2-1-åŸºæœ¬I-Oè„šæœ¬" class="headerlink" title="2.1 åŸºæœ¬I/Oè„šæœ¬"></a>2.1 åŸºæœ¬I/Oè„šæœ¬</h3><p>ä¸åŒçš„CVåº”ç”¨ç¨‹åºæœ‰ä¸åŒçš„è¾“å…¥è¾“å‡º</p>
<ul>
<li>å›¾åƒè¾“å…¥ï¼Œå›¾åƒè¾“å‡º</li>
<li>æ‘„åƒå¤´è¾“å…¥ï¼Œçª—å£æ˜¾ç¤ºè¾“å‡º</li>
<li>å…¶ä»–çš„è¾“å…¥å’Œè¾“å‡ºè¿˜å¯èƒ½æ˜¯å›¾åƒæ–‡ä»¶ã€è§†é¢‘æ–‡ä»¶å’ŒåŸå§‹å­—èŠ‚(raw byte)<h4 id="2-1-1-è¯»-å†™å›¾åƒæ–‡ä»¶"><a href="#2-1-1-è¯»-å†™å›¾åƒæ–‡ä»¶" class="headerlink" title="2.1.1 è¯»/å†™å›¾åƒæ–‡ä»¶"></a>2.1.1 è¯»/å†™å›¾åƒæ–‡ä»¶</h4>ç®€å•çš„è¯»å–å›¾åƒï¼Œè½¬æ¢å›¾åƒï¼Œä¿å­˜å›¾åƒçš„æ“ä½œ<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">img = cv2.cvtColor(img, cv2.COLOR_GRAY2BGR)  <span class="comment">#åˆ©ç”¨cv2.cvtColorå°†å›¾åƒè½¬æ¢æˆBGRæ ¼å¼</span></span><br><span class="line"></span><br><span class="line">grayImage = cv2.imread(<span class="string">'beans.png'</span>, cv2.IMREAD_GRAYSCALE)  <span class="comment">#åŠ è½½pngä¸ºç°åº¦å›¾åƒï¼Œç„¶åä¿å­˜ä¸ºç°åº¦çš„pngå›¾åƒ</span></span><br><span class="line"></span><br><span class="line">cv2.imwrite(<span class="string">'beansGray.png'</span>, grayImage)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>ä¸‹åˆ—é€‰é¡¹ä½œä¸ºimread()çš„å‚æ•°</p>
<ul>
<li>IMREAD_ANYCOLOR = 4</li>
<li>IMREAD_ANYDEPTH = 2</li>
<li>IMREAD_COLOR = 1</li>
<li>IMREAD_GRAYSCALE = 0</li>
<li>IMREAD_LOAD_GDAL = 8</li>
<li>IMREAD_UNCHANGED = -1</li>
</ul>
<p><em>imwrite()è¦æ±‚å›¾åƒä¸ºBGRæˆ–ç°åº¦æ ¼å¼ï¼Œå¹¶ä¸”æ¯ä¸ªé€šé“è¦æœ‰ä¸€å®šçš„ä¸º(bit)ï¼Œè¾“å‡ºæ ¼å¼è¦æ”¯æŒè¿™äº›é€šé“ã€‚ä¾‹å¦‚ï¼Œbmpæ ¼å¼è¦æ±‚æ¯ä¸ªé€šé“æœ‰8ä½ï¼Œè€ŒPNGå…è®¸æ¯ä¸ªé€šé“æœ‰8ä½æˆ–16ä½</em></p>
<h4 id="2-1-2-å›¾åƒä¸åŸå§‹å­—èŠ‚ä¹‹é—´çš„è½¬æ¢"><a href="#2-1-2-å›¾åƒä¸åŸå§‹å­—èŠ‚ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="2.1.2 å›¾åƒä¸åŸå§‹å­—èŠ‚ä¹‹é—´çš„è½¬æ¢"></a>2.1.2 å›¾åƒä¸åŸå§‹å­—èŠ‚ä¹‹é—´çš„è½¬æ¢</h4><ul>
<li>ä¸€ä¸ªOpenCVå›¾åƒæ˜¯.arrayç±»å‹çš„äºŒç»´æˆ–ä¸‰ç»´æ•°ç»„ã€‚</li>
<li>8ä½çš„ç°åº¦å›¾åƒåªæœ‰ä¸€ä¸ªé€šé“ï¼Œ24ä½çš„BGRå›¾åƒæ˜¯ä¸€ä¸ªä¸‰ç»´åº¦æ•°ç»„ã€‚</li>
<li>image[0,0ï¼Œ0]ç¬¬ä¸€ä¸ªå€¼ä»£è¡¨yï¼Œç¬¬äºŒä¸ªå€¼ä»£è¡¨xï¼Œç¬¬ä¸‰ä¸ªå€¼ä»£è¡¨é€šé“æ•°ï¼ˆç°åº¦å›¾åƒåªæœ‰ä¸€ä¸ªé€šé“æ˜¯äºŒç»´æ•°ç»„ï¼Œæ²¡æœ‰ç¬¬ä¸‰ä¸ªå€¼ï¼‰<br><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/2.1.2.png" alt="2.1.2"></li>
</ul>
<p>image[0,0] æˆ– image[0,0]=128å¯è¡¨ç¤ºä¸ºï¼š<br>image.item((0,0))æˆ–image.setitem((0,0),128)ã€è¿™ç§æ›´åˆ©äºæ“ä½œã€‘</p>
<p><strong>å­—èŠ‚ä¸å›¾åƒæ ¼å¼çš„è½¬æ¢ï¼š</strong><br>ä»£ç å¾ˆç®€å•å¾ˆæ¸…æ™°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å›¾åƒè½¬æ¢ä¸ºå­—èŠ‚</span></span><br><span class="line">byteArray = bytearray(image)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å­—èŠ‚è½¬æ¢ä¸ºå›¾åƒï¼Œé€šè¿‡æ˜¾å¼è½¬æ¢å’Œé‡æ„</span></span><br><span class="line">grayImage = numpy.array(grayByteArray).reshape(height, width)</span><br><span class="line">bgrImage = numpy.array(bgrByteArray).reshape(height, width, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h4 id="2-1-3-ä½¿ç”¨numpy-arrayè®¿é—®å›¾åƒæ•°æ®"><a href="#2-1-3-ä½¿ç”¨numpy-arrayè®¿é—®å›¾åƒæ•°æ®" class="headerlink" title="2.1.3 ä½¿ç”¨numpy.arrayè®¿é—®å›¾åƒæ•°æ®"></a>2.1.3 ä½¿ç”¨numpy.arrayè®¿é—®å›¾åƒæ•°æ®</h4><p>ç›´æ¥ç”¨pythonå†…ç½®çš„æ•°ç»„ä¸æ–¹ä¾¿ï¼Œç”¨numpy.arrayä¼šæ–¹ä¾¿å¾ˆå¤š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pythonæ•°ç»„</span></span><br><span class="line">img[<span class="number">0</span>,<span class="number">0</span>] = [<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>]</span><br><span class="line"><span class="comment">#numpy.array</span></span><br><span class="line">img.itemset((<span class="number">150</span>,<span class="number">120</span>,<span class="number">0</span>), <span class="number">255</span>)</span><br></pre></td></tr></table></figure>

<p>ç”¨å¾ªç¯æ¥å¤„ç†ptyhonæ•°ç»„çš„æ•ˆç‡éå¸¸ä½ï¼Œå¯ä»¥ç”¨æ•°ç»„ç´¢å¼•æ¥è§£å†³ï¼Œé«˜æ•ˆä¸”æ–¹ä¾¿ã€‚<br>å¯ä»¥è®¾ç½®roiæ„Ÿå…´è¶£çš„åŒºåŸŸ<br>æ•°ç»„çš„ä¸‰ä¸ªå±æ€§ï¼š</p>
<ul>
<li>Shape: NumPyåŒ…å«å®½åº¦ã€é«˜åº¦å’Œé€šé“æ•°ï¼ˆå¦‚æœå›¾åƒæ˜¯å½©è‰²çš„ï¼‰çš„æ•°ç»„ï¼Œè¿™åœ¨è°ƒè¯•å›¾åƒç±»å‹æ—¶å¾ˆæœ‰ç”¨ï¼›å¦‚æœå›¾åƒæ˜¯å•è‰²æˆ–ç°åº¦çš„ï¼Œå°†ä¸åŒ…å«é€šé“å€¼</li>
<li>Sizeï¼šè¯¥å±æ€§æ˜¯æŒ‡å›¾åƒçš„åƒç´ çš„å¤§å°</li>
<li>Datatypeï¼šè¯¥å±æ€§ä¼šå¾—åˆ°å›¾å½¢çš„æ•°æ®ç±»å‹ï¼ˆé€šå¸¸ä¸ºä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ç±»å‹çš„å˜é‡å’Œè¯¥ç±»å‹å çš„ä½æ•°ï¼Œæ¯”å¦‚uint8ç±»å‹ï¼‰</li>
</ul>
<p>å¼ºçƒˆç®€æ˜“ç†Ÿæ‚‰å¸¸è§„çš„NumPyåº“ï¼Œå¦‚æœç”¨OpenCVè¿˜è¦ç†Ÿæ‚‰numpy.arrayåº“ï¼Œä½œä¸ºnumpy.arrayåº“æ˜¯Pythonå¤„ç†å›¾åƒçš„åŸºç¡€ã€‚</p>
<h4 id="2-1-4-è§†é¢‘æ–‡ä»¶çš„è¯»-å†™"><a href="#2-1-4-è§†é¢‘æ–‡ä»¶çš„è¯»-å†™" class="headerlink" title="2.1.4 è§†é¢‘æ–‡ä»¶çš„è¯»/å†™"></a>2.1.4 è§†é¢‘æ–‡ä»¶çš„è¯»/å†™</h4><p>æä¾›äº†ä¸¤ä¸ªç±»æ¥æ”¯æŒå„ç§æ ¼å¼çš„è§†é¢‘æ–‡ä»¶ï¼š</p>
<ul>
<li>VideoCapture</li>
<li>VideoWriter<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">videoCapture = cv2.VideoCapture(<span class="string">'screencast.avi'</span>)</span><br><span class="line"></span><br><span class="line">videoWriter = cv2.VideoWriter(</span><br><span class="line">    <span class="string">'MyOutputVid.avi'</span>, cv2.VideoWriter_fourcc(<span class="string">'I'</span>,<span class="string">'4'</span>,<span class="string">'2'</span>,<span class="string">'0'</span>),</span><br><span class="line">        fps,size</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong><br>å¿…é¡»è¦ä¸ºVideoWriterç±»çš„æ„é€ å‡½æ•°æŒ‡å®šè§†é¢‘æ–‡ä»¶åï¼ŒåŒæ—¶ä¹Ÿå¿…é¡»æŒ‡å®šè§†é¢‘ç¼–è§£ç å™¨ã€‚ç¼–è§£ç å™¨çš„å¯ç”¨æ€§æ ¹æ®ç³»ç»Ÿä¸åŒè€Œä¸åŒã€‚ä»¥ä¸‹å¸¸ç”¨ï¼š</p>
<ul>
<li>cv2.VideoWriter_fourcc(â€˜Iâ€™,â€™4â€™,â€™2â€™,â€™0â€™)</li>
<li>cv2.VideoWriter_fourcc(â€˜Pâ€™,â€™Iâ€™,â€™Mâ€™,â€™iâ€™)</li>
<li>cv2.VideoWriter_fourcc(â€˜Xâ€™,â€™Vâ€™,â€™Iâ€™,â€™Dâ€™)</li>
<li>cv2.VideoWriter_fourcc(â€˜Tâ€™,â€™Hâ€™,â€™Eâ€™,â€™Oâ€™)</li>
<li>cv2.VideoWriter_fourcc(â€˜Fâ€™,â€™Lâ€™,â€™Vâ€™,â€™Iâ€™)<br>å¸§é€Ÿç‡fpså’Œå¸§å¤§å°sizeçš„å¤§å°ä¹Ÿå¿…é¡»æŒ‡å®šï¼Œå› ä¸ºä»å¦ä¸€ä¸ªè§†é¢‘æ–‡ä»¶å¤åˆ¶è¯¥è§†é¢‘å¸§è¿™äº›å±æ€§å¯ä»¥é€šè¿‡VideoCaptureç±»çš„get()å‡½æ•°å¾—åˆ°</li>
</ul>
<h4 id="2-1-5-æ•è·æ‘„åƒå¤´çš„å¸§"><a href="#2-1-5-æ•è·æ‘„åƒå¤´çš„å¸§" class="headerlink" title="2.1.5 æ•è·æ‘„åƒå¤´çš„å¸§"></a>2.1.5 æ•è·æ‘„åƒå¤´çš„å¸§</h4><p>VideoCaptureç±»å¯ä»¥è·å¾—æ‘„åƒå¤´çš„å¸§æµã€‚æ­¤æ—¶ä¼ é€’çš„å‚æ•°ä¸æ˜¯è§†é¢‘çš„æ–‡ä»¶åè€Œæ˜¯æ‘„åƒå¤´çš„è®¾å¤‡ç´¢å¼•(device index)ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cameraCapture = cv2.VideoCapture(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>å¯¹äºæ‘„åƒå¤´æœ‰è®¸å¤šéœ€è¦æ“ä½œäº†è§£çš„æ¯”å¦‚æ‘„åƒå¤´çš„<strong>å¸§é€Ÿç‡</strong>ï¼Œ<strong>æ‘„åƒå¤´çš„æ•°é‡ä¸é¡ºåº</strong>ï¼Œ<strong>æ‘„åƒå¤´ç»„</strong>ã€‚</p>
<ul>
<li><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fps_device = cv2.VideoCapture(<span class="number">0</span>).get(fps)</span><br></pre></td></tr></table></figure>

<p>VideoCaptureç±»çš„get()æ–¹æ³•ä¸èƒ½è¿”å›æ‘„åƒå¤´å¸§é€Ÿç‡çš„å‡†ç¡®å€¼ï¼ˆç»ˆç«¯ä¸æ”¯æŒï¼Œå¯å¯¹å¸§é€Ÿç‡åšå‡è®¾ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨è®¡æ—¶å™¨æµ‹é‡ï¼‰</p>
</li>
<li><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">success, frame = cameraCapture.read()</span><br></pre></td></tr></table></figure>

<p>æ‘„åƒå¤´çš„æ•°é‡å’Œé¡ºåºç”±ç³»ç»Ÿå†³å®šï¼Œå½“ç”¨æ— æ•ˆçš„ç´¢å¼•åˆ›é€ äº†VideoCaptureç±»ï¼Œå°±ä¸ä¼šå¾—åˆ°å¸§ï¼Œå¯ä»¥ç”¨VideoCapture.isOpenedæ¥åˆ¤æ–­</p>
</li>
<li><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">success0 = cameraCapture0.grab()</span><br><span class="line">success1 = cameraCapture1.grab()</span><br><span class="line"><span class="keyword">if</span> success0 <span class="keyword">and</span> success1:</span><br><span class="line">frame0 = cameraCapture0.retrieve()</span><br><span class="line">frame1 = cameraCapture1.retrieve()</span><br></pre></td></tr></table></figure>

<p>å¯¹æ‘„åƒå¤´ç»„ï¼Œread()å°±ä¸é€‚åˆï¼Œå¯ä»¥ç”¨grab()ï¼Œretrive()æ–¹æ³•æ¥ä»£æ›¿å®ƒã€‚</p>
</li>
</ul>
<h4 id="2-1-6-åœ¨çª—å£æ˜¾ç¤ºå›¾åƒ"><a href="#2-1-6-åœ¨çª—å£æ˜¾ç¤ºå›¾åƒ" class="headerlink" title="2.1.6 åœ¨çª—å£æ˜¾ç¤ºå›¾åƒ"></a>2.1.6 åœ¨çª—å£æ˜¾ç¤ºå›¾åƒ</h4><p>è‡ªç„¶çš„è°ƒç”¨<code>cv2.imshow()</code>ä½†è¦æ³¨æ„æ¶ˆå¤±æ–¹æ³•ï¼Œå³<code>cv2.waitKey()</code>å’Œ<code>cv2.destroyAllWindows()</code>çš„ä½¿ç”¨</p>
<h4 id="2-1-7-åœ¨çª—å£æ˜¾ç¤ºæ‘„åƒå¤´å¸§"><a href="#2-1-7-åœ¨çª—å£æ˜¾ç¤ºæ‘„åƒå¤´å¸§" class="headerlink" title="2.1.7 åœ¨çª—å£æ˜¾ç¤ºæ‘„åƒå¤´å¸§"></a>2.1.7 åœ¨çª—å£æ˜¾ç¤ºæ‘„åƒå¤´å¸§</h4><p>OpenCVçš„namedWindow()ï¼Œimshow()å’ŒDestroyWindow()ï¼Œå‡½æ•°å…è®¸æŒ‡å®šçª—å£åã€åˆ›å»ºã€æ˜¾ç¤ºå’Œé”€æ¯çª—å£ã€‚é…åˆè·å–é”®ç›˜/é¼ æ ‡è¾“å…¥äº¤äº’æ˜¾ç¤ºæ‘„åƒå¤´å¸§ã€‚</p>
<ul>
<li>namedWindow() åˆ›å»º</li>
<li>imshow() æ˜¾ç¤º</li>
<li>DestroyWindow() é”€æ¯</li>
<li>wait() è·å–é”®ç›˜è¾“å…¥</li>
<li>setMouseCallback() è·å–é¼ æ ‡è¾“å…¥</li>
</ul>
<p><strong><em>OpenCVçš„çª—å£å‡½æ•°å’ŒwaitKey()å‡½æ•°ç›¸äº’ä¾èµ–ï¼Œçª—å£å‡½æ•°åªæœ‰è°ƒç”¨waitKey()æ‰ä¼šæ›´æ–°ï¼ŒwaitKey()å‡½æ•°åªæœ‰åœ¨çª—å£æˆä¸ºæ´»åŠ¨çª—å£æ—¶æ‰èƒ½æ•è·è¾“å…¥ä¿¡æ¯</em></strong></p>
<p>setMouseCallback()å‡½æ•°è¯¦è§£ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">onMouse</span><span class="params">(event, x, y, flags, param)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> clicked</span><br><span class="line">    <span class="keyword">if</span> event == cv2.EVENT_LBUTTONDBLCLK:</span><br><span class="line">        clicked = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">cv2.setMouseCallback(<span class="string">'MyWindow'</span>, onMouse)</span><br></pre></td></tr></table></figure>

<p>æœ‰äº”ä¸ªå‚æ•°,paramå¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸º0ï¼Œeventå›è°ƒç”¨å‡½æ•°æœ‰10ç§ï¼Œflagsæ ‡å¿—å‚æ•°æœ‰6ç§å‚æ•°é€‰æ‹©ï¼ˆæŸ¥èµ„æ–™ï¼‰</p>
<p><em>OpenCVä¸æä¾›ä»»ä½•å¤„ç†çª—å£äº‹ä»¶çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå½“å•å‡»çª—å£çš„å…³é—­æŒ‰é’®ä¸èƒ½å…³é—­åº”ç”¨ç¨‹åºï¼Œå› æ­¤å¤šå°†OpenCVé›†æˆåˆ°å…¶ä»–åº”ç”¨ç¨‹åºæ¡†æ¶ä¸­ã€‚åé¢çš„é¡¹ç›®å®ä¾‹è®¾è®¡äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œæœ‰åŠ©äºå°†OpenCVé›†æˆåˆ°ä»»æ„åº”ç”¨ç¨‹åºä¸­ã€‚</em></p>
<h2 id="ç¬¬3ç« -ä½¿ç”¨OpenCV-3å¤„ç†å›¾åƒ"><a href="#ç¬¬3ç« -ä½¿ç”¨OpenCV-3å¤„ç†å›¾åƒ" class="headerlink" title="ç¬¬3ç«  ä½¿ç”¨OpenCV 3å¤„ç†å›¾åƒ"></a>ç¬¬3ç«  ä½¿ç”¨OpenCV 3å¤„ç†å›¾åƒ</h2><p><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/C3.png" alt="C3"></p>
<h3 id="3-1-ä¸åŒè‰²å½©ç©ºé—´çš„è½¬æ¢"><a href="#3-1-ä¸åŒè‰²å½©ç©ºé—´çš„è½¬æ¢" class="headerlink" title="3.1 ä¸åŒè‰²å½©ç©ºé—´çš„è½¬æ¢"></a>3.1 ä¸åŒè‰²å½©ç©ºé—´çš„è½¬æ¢</h3><p>OpenCVæœ‰æ•°ç™¾ç§è‰²å½©ç©ºé—´è½¬æ¢æ–¹æ³•ï¼Œæœ‰ä¸‰ç§å¸¸ç”¨çš„è‰²å½©ç©ºé—´ï¼šç°åº¦ã€BGRä»¥åŠHSV</p>
<ul>
<li>ç°åº¦ï¼šå»é™¤å½©è‰²ä¿¡æ¯è½¬æ¢æˆç°é˜¶ï¼Œå¯¹ä¸­é—´å¤„ç†å¾ˆæœ‰æ•ˆ</li>
<li>BGRï¼šè“-ç»¿-çº¢è‰²å½©ç©ºé—´ï¼Œæ¯ä¸€ä¸ªåƒç´ ç‚¹ç”±ä¸€ä¸ªä¸‰å…ƒæ•°ç»„æ„æˆï¼Œä¸RBGåªæ˜¯é¢œè‰²ä¸Šä¸åŒ</li>
<li>HSVï¼šè‰²è°ƒ+é¥±å’Œåº¦+é»‘æš—çš„ç¨‹åº¦/å…‰è°±å¦ä¸€ç«¯çš„æ˜äº®ç¨‹åº¦<h3 id="3-2-å‚…ç«‹å¶è½¬æ¢"><a href="#3-2-å‚…ç«‹å¶è½¬æ¢" class="headerlink" title="3.2 å‚…ç«‹å¶è½¬æ¢"></a>3.2 å‚…ç«‹å¶è½¬æ¢</h3>OpenCVä¸­ï¼Œå¯¹å›¾åƒå’Œè§†é¢‘å¤§å¤šæ•°å¤„ç†æˆ–å¤šæˆ–å°‘ä¼šæ¶‰åŠåˆ°å‚…ç«‹å¶å˜æ¢ã€‚äººä»¬æ‰€çœ‹åˆ°çš„æ³¢å½¢éƒ½æ˜¯ç”±å…¶ä»–æ³¢å½¢å åŠ å¾—åˆ°çš„ï¼Œè¿™æ ·å¯ä»¥<strong>åŒºåˆ†</strong>å›¾åƒé‡Œ<strong>å“ªäº›åŒºåŸŸçš„ä¿¡å·ï¼ˆæ¯”å¦‚å›¾åƒåƒç´ ï¼‰å˜åŒ–ç‰¹åˆ«å¼ºï¼Œå“ªäº›åŒºåŸŸçš„ä¿¡å·å˜åŒ–ä¸é‚£ä¹ˆå¼º</strong>ï¼Œä»è€Œä»»æ„æ ‡è®°åŒºåŸŸï¼ŒåŸå§‹å›¾åƒç”±è®¸å¤šé¢‘ç‡ç»„æˆï¼Œäººä»¬èƒ½åˆ†ç¦»è¿™äº›é¢‘ç‡æ¥ç†è§£å›¾åƒå’Œæå–æ„Ÿå…´è¶£çš„æ•°æ®ã€‚</li>
<li>å¹…åº¦è°±ï¼šç”±å‚…ç«‹å¶å˜æ¢ï¼Œå¹…åº¦è°±å›¾åƒå‘ˆç°äº†åŸå§‹å›¾åƒåœ¨å˜åŒ–æ–¹é¢çš„ä¸€ç§è¡¨ç¤ºï¼šæŠŠå›¾åƒä¸­æœ€æ˜äº®çš„åƒç´ æ”¾åˆ°ä¸­å¤®ï¼Œé€æ¸å˜æš—ï¼Œè¾¹ç¼˜ä¸Šçš„åƒç´ æœ€æš—ã€‚<h4 id="3-2-1-é«˜é€šæ»¤æ³¢å™¨"><a href="#3-2-1-é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="3.2.1 é«˜é€šæ»¤æ³¢å™¨"></a>3.2.1 é«˜é€šæ»¤æ³¢å™¨</h4>é«˜é€šæ»¤æ³¢å™¨æ£€æµ‹å›¾åƒçš„æŸä¸ªåŒºåŸŸï¼Œç„¶åæ ¹æ®åƒç´ ä¸å‘¨å›´åƒç´ çš„äº®åº¦å·®æ¥æå‡è¯¥åƒç´ çš„æ»¤æ³¢å™¨ï¼Œåœ¨è®¡ç®—ä¸­å¤®åƒç´ çš„äº®åº¦å·®å€¼ä¹‹å’Œä¹‹åï¼Œå¦‚æœä¸€ä¸ªåƒç´ æ¯”å®ƒå‘¨å›´çš„åƒç´ æ›´çªå‡ºï¼Œå°±ä¼šæå‡å®ƒçš„äº®åº¦ã€‚è¾¹ç¼˜æ£€æµ‹å°¤å…¶æœ‰æ•ˆ<h4 id="3-2-2-ä½é€šæ»¤æ³¢å™¨"><a href="#3-2-2-ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="3.2.2 ä½é€šæ»¤æ³¢å™¨"></a>3.2.2 ä½é€šæ»¤æ³¢å™¨</h4>åœ¨åƒç´ ä¸å‘¨å›´åƒç´ çš„äº®åº¦å·®å€¼å°äºä¸€ä¸ªç‰¹å®šå€¼æ—¶ï¼Œå¹³æ»‘è¯¥åƒç´ çš„äº®åº¦ï¼Œä¸»è¦ç”¨äºå»å™ªå’Œæ¨¡ç³ŠåŒ–ã€‚æ¯”å¦‚é«˜æ–¯æ¨¡ç³Šæ˜¯æœ€å¸¸ç”¨çš„æ¨¡ç³Šæ»¤æ³¢å™¨ã€‚</li>
</ul>
<p><strong><em>å¾ˆå¤šæ“ä½œéƒ½æ˜¯ä»¥å‚…ç«‹å¶å˜æ¢å’Œé«˜/ä½é€šæ»¤æ³¢å™¨ä¸ºåŸºç¡€æ¥å®ç°çš„</em></strong></p>
<h3 id="3-3-åˆ›å»ºæ¨¡å—"><a href="#3-3-åˆ›å»ºæ¨¡å—" class="headerlink" title="3.3 åˆ›å»ºæ¨¡å—"></a>3.3 åˆ›å»ºæ¨¡å—</h3><h3 id="3-4-è¾¹ç¼˜æ£€æµ‹"><a href="#3-4-è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="3.4 è¾¹ç¼˜æ£€æµ‹"></a>3.4 è¾¹ç¼˜æ£€æµ‹</h3><h3 id="3-5-ç”¨å®šåˆ¶å†…æ ¸åšå·ç§¯"><a href="#3-5-ç”¨å®šåˆ¶å†…æ ¸åšå·ç§¯" class="headerlink" title="3.5 ç”¨å®šåˆ¶å†…æ ¸åšå·ç§¯"></a>3.5 ç”¨å®šåˆ¶å†…æ ¸åšå·ç§¯</h3><h3 id="3-6-ä¿®æ”¹åº”ç”¨"><a href="#3-6-ä¿®æ”¹åº”ç”¨" class="headerlink" title="3.6 ä¿®æ”¹åº”ç”¨"></a>3.6 ä¿®æ”¹åº”ç”¨</h3><h3 id="3-7-Canny-è¾¹ç¼˜æ£€æµ‹"><a href="#3-7-Canny-è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="3.7 Canny è¾¹ç¼˜æ£€æµ‹"></a>3.7 Canny è¾¹ç¼˜æ£€æµ‹</h3><p>OpenCVæä¾›äº†æ–¹ä¾¿çš„Cannyå‡½æ•°ï¼Œè™½ç„¶ç®—æ³•å¤æ‚ï¼Œå°è£…å¥½åä½¿ç”¨å¾ˆç®€å•ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.imwrite(<span class="string">"canny.jpg"</span>, cv2.Canny(img, <span class="number">200</span>, <span class="number">300</span>))</span><br></pre></td></tr></table></figure>

<p>å®ƒæœ‰äº”ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>ä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨è¿›è¡Œå»å™ª</li>
<li>è®¡ç®—æ¢¯åº¦</li>
<li>åœ¨è¾¹ç¼˜ä¸Šä½¿ç”¨éæœ€å¤§æŠ‘åˆ¶ï¼ˆNMSï¼‰</li>
<li>åœ¨æ£€æµ‹åˆ°çš„è¾¹ç¼˜ä¸Šä½¿ç”¨åŒé˜€å€¼å»é™¤å‡é˜³æ€§</li>
<li>åˆ†ææ‰€æœ‰è¾¹ç¼˜åŠå…¶ä¹‹é—´çš„è¿æ¥<br><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/canny.png" alt="canny"></li>
</ol>
<h3 id="3-8-è½®å»“æ£€æµ‹"><a href="#3-8-è½®å»“æ£€æµ‹" class="headerlink" title="3.8 è½®å»“æ£€æµ‹"></a>3.8 è½®å»“æ£€æµ‹</h3><blockquote>
<p><strong>è¾¹ç¼˜æ£€æµ‹</strong>æ˜¯æ£€æµ‹å›¾åƒçš„è¾¹ç¼˜ ä¹Ÿå°±æ˜¯å›¾åƒå·®å¼‚æ¯”è¾ƒå¤§çš„åœ°æ–¹<br><strong>è½®å»“æå–</strong>æ˜¯æå–å‡ºä½ æƒ³è¦å¾—åˆ°çš„è½®å»“ è½®å»“å¯èƒ½æ˜¯è¾¹ç¼˜çš„ä¸€éƒ¨åˆ†</p>
</blockquote>
<p>è½®å»“æ£€æµ‹ä¸å•æ˜¯æ£€æµ‹è½®å»“ï¼Œè¿˜éœ€è¦å…¶ä»–æ“ä½œï¼š<strong>è®¡ç®—å¤šè¾¹å½¢è¾¹ç•Œã€å½¢çŠ¶é€¼è¿‘å’Œè®¡ç®—æ„Ÿå…´è¶£åŒºåŸŸ</strong><br>ä¸Šè¯‰æ“ä½œå¯ä»¥ç”¨NumPyä¸­çš„æ•°ç»„åˆ‡ç‰‡(slice)æ¥å®šä¹‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ret, thresh = cv2.threshold(img, <span class="number">127</span>, <span class="number">255</span>, <span class="number">0</span>)  <span class="comment">#å¯¹å›¾åƒè¿›è¡ŒäºŒå€¼åŒ–æ“ä½œ</span></span><br><span class="line">contours, hierarchy = cv2.findContours(thresh, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>äºŒå€¼åŒ–æ“ä½œï¼šåœ¨æ•°å­—å›¾åƒå¤„ç†ä¸­ï¼ŒäºŒå€¼å›¾åƒå æœ‰éå¸¸é‡è¦çš„åœ°ä½ï¼Œå›¾åƒçš„äºŒå€¼åŒ–ä½¿å›¾åƒä¸­æ•°æ®é‡å¤§ä¸ºå‡å°‘ï¼Œä»è€Œèƒ½å‡¸æ˜¾å‡ºç›®æ ‡çš„è½®å»“ã€‚</p>
</blockquote>
<p>ä¸Šé¢æ“ä½œå°±æ˜¯å…ˆå¯¹å›¾åƒè¿›è¡ŒäºŒå€¼åŒ–æ“ä½œï¼Œä¹‹å findContourså‡½æ•°å¯¹äºŒå€¼åŒ–åçš„å›¾åƒè¿›è¡Œè½®å»“æ£€æµ‹æ›´å®¹æ˜“æ£€æµ‹åˆ°ï¼Œè™½ç„¶apiæœ‰å˜åŒ–ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>è¿™ä¸ªå‡½æ•°ä¼šä¿®æ”¹å›¾åƒï¼Œç®€æ˜“å¯¹åŸå§‹å›¾åƒæ‹·è´ï¼ˆimg.copy()ï¼‰</li>
<li>å‡½æ•°è¿”å›çš„å±‚æ¬¡æ ‘å¾ˆé‡è¦ï¼šcv2.RETR_TREEå‚æ•°ä¼šå¾—åˆ°å›¾åƒä¸­è½®å»“å±‚æ¬¡çš„æ•´ä½“ç»“æ„ï¼Œä»¥æ­¤æ¥å»ºç«‹è½®å»“ä¹‹é—´çš„â€œå…³ç³»â€ã€‚å¦‚æœåªæƒ³è¦æœ€å¤–å±‚çš„è½®å»“ï¼Œå¯ç”¨cv2.RETR_EXTERNALã€‚è¿™å¯¹æ¶ˆé™¤åŒ…å«åœ¨å…¶ä»–è½®å»“ä¸­çš„è½®å»“å¾ˆæœ‰ç”¨ï¼ˆå¾ˆå¤šæ—¶å€™ä¸éœ€è¦æ£€æµ‹ä¸€ä¸ªç›®æ ‡åœ¨å¦ä¸€ä¸ªä¸ä¹‹ç›¸åŒçš„ç›®æ ‡é‡Œï¼‰</li>
<li>findContours()å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼ï¼šå›¾åƒçš„è½®å»“å’Œå®ƒçš„å±‚æ¬¡ã€‚</li>
</ul>
<p>ä¹‹åä½¿ç”¨è½®å»“ï¼ˆç”»æˆç»¿è‰²ï¼‰æ¥æ˜¾ç¤ºè½®å»“ã€‚<br><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/contours.png" alt="contours"></p>
<h3 id="3-9-è¾¹ç•Œæ¡†ã€æœ€å°çŸ©å½¢åŒºåŸŸå’Œæœ€å°é—­åœ†çš„è½®å»“"><a href="#3-9-è¾¹ç•Œæ¡†ã€æœ€å°çŸ©å½¢åŒºåŸŸå’Œæœ€å°é—­åœ†çš„è½®å»“" class="headerlink" title="3.9 è¾¹ç•Œæ¡†ã€æœ€å°çŸ©å½¢åŒºåŸŸå’Œæœ€å°é—­åœ†çš„è½®å»“"></a>3.9 è¾¹ç•Œæ¡†ã€æœ€å°çŸ©å½¢åŒºåŸŸå’Œæœ€å°é—­åœ†çš„è½®å»“</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.pyrDown(cv2.imread(<span class="string">"hammer.jpg"</span>, cv2.IMREAD_UNCHANGED))</span><br><span class="line"></span><br><span class="line">ret, thresh = cv2.threshold(cv2.cvtColor(img.copy(), cv2.COLOR_BGR2GRAY) , <span class="number">127</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br><span class="line">contours, hier = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> contours:</span><br><span class="line">  <span class="comment"># find bounding box coordinates å°†è½®å»“ä¿¡æ¯è½¬æ¢æˆè¾¹ç•Œåæ ‡ï¼Œå¹¶åŠ ä¸ŠçŸ©å½¢çš„é«˜åº¦å’Œå®½åº¦</span></span><br><span class="line">  x,y,w,h = cv2.boundingRect(c)</span><br><span class="line">  <span class="comment"># ç”»å‡ºçŸ©å½¢</span></span><br><span class="line">  cv2.rectangle(img, (x,y), (x+w, y+h), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># find minimum area è®¡ç®—å‡ºåŒ…å›´ç›®æ ‡çš„æœ€å°çŸ©å½¢åŒºåŸŸ</span></span><br><span class="line">  rect = cv2.minAreaRect(c)</span><br><span class="line">  <span class="comment"># calculate coordinates of the minimum area rectangle ä¸èƒ½ç›´æ¥ä»è½®å»“ä¿¡æ¯å¾—åˆ°æœ€å°çŸ©å½¢å®šç‚¹çš„åæ ‡ï¼Œæ‰€ä»¥éœ€è¦è®¡ç®—å‡ºæœ€å°çŸ©å½¢åŒºåŸŸï¼Œç„¶åè®¡ç®—è¿™ä¸ªçŸ©å½¢çš„å®šç‚¹</span></span><br><span class="line">  box = cv2.boxPoints(rect)</span><br><span class="line">  <span class="comment"># normalize coordinates to integers è®¡ç®—å‡ºæ¥æ˜¯æµ®ç‚¹æ•°ï¼Œéœ€è¦è½¬æ¢æˆæ•´æ•°</span></span><br><span class="line">  box = np.int0(box)</span><br><span class="line">  <span class="comment"># draw contours ç”»å‡ºè¾¹ç•Œï¼Œä¼šä¿®æ”¹å›¾åƒï¼Œ[box]æ•°ç»„åŒ…å«ä¸€ç³»åˆ—è½®å»“ï¼Œä»è€Œåœ¨ä¸€æ¬¡æ“ä½œä¸­ç»˜åˆ¶ä¸€ç³»åˆ—çš„è½®å»“ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ç»˜åˆ¶æ•°ç»„è½®å»“ç´¢å¼•ï¼Œç¬¬å››ç¬¬äº”æ˜¯ç»˜åˆ¶é¢œè‰²å’Œå¯†åº¦</span></span><br><span class="line">  cv2.drawContours(img, [box], <span class="number">0</span>, (<span class="number">0</span>,<span class="number">0</span>, <span class="number">255</span>), <span class="number">3</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># calculate center and radius of minimum enclosing circle æ£€æŸ¥æœ€å°é—­åœ† è¿”å›åœ†ä¸­å¿ƒåæ ‡å’ŒåŠå¾„ å†ç»˜åˆ¶</span></span><br><span class="line">  (x,y),radius = cv2.minEnclosingCircle(c)</span><br><span class="line">  <span class="comment"># cast to integers</span></span><br><span class="line">  center = (int(x),int(y))</span><br><span class="line">  radius = int(radius)</span><br><span class="line">  <span class="comment"># draw the circle</span></span><br><span class="line">  img = cv2.circle(img,center,radius,(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">cv2.drawContours(img, contours, <span class="number">-1</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">1</span>)</span><br><span class="line">cv2.imshow(<span class="string">"contours"</span>, img)</span><br><span class="line"></span><br><span class="line">cv2.waitKey()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

<p><strong><em>è¿™é‡Œæœ€çº ç»“<code>for c in contours</code>æƒ³æ¸…æ¥šæ˜¯forå¾ªç¯å‡ºcontoursé‡Œçš„ä¸œè¥¿ï¼Œcontoursåªæœ‰ä¸€ä¸ªäºŒç»´åæ ‡çš„é›†åˆçš„ä¸€ä¸ªå†…å®¹ï¼Œforå¾ªç¯å‡ºä¸€ä¸ªndarrayçš„c</em></strong></p>
<p><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/contours_2.png" alt="contours_2"></p>
<h3 id="3-10-å‡¸è½®å»“ä¸Douglas-Peucker-ç®—æ³•"><a href="#3-10-å‡¸è½®å»“ä¸Douglas-Peucker-ç®—æ³•" class="headerlink" title="3.10 å‡¸è½®å»“ä¸Douglas-Peucker ç®—æ³•"></a>3.10 å‡¸è½®å»“ä¸Douglas-Peucker ç®—æ³•</h3><p>å¤§å¤šæ•°å¤„ç†è½®å»“çš„æ—¶å€™ï¼Œç‰©ä½“çš„å½¢çŠ¶æ˜¯å˜åŒ–å¤šæ ·çš„ã€‚å‡¸å½¢çŠ¶å†…éƒ¨ä»»æ„ä¸¤ç‚¹çš„è¿çº¿éƒ½åœ¨è¯¥å½¢çŠ¶é‡Œé¢ã€‚<br>cv2.approxPloyDPæ˜¯ä¸€ä¸ªOpenCVå‡½æ•°ï¼Œç”¨æ¥è®¡ç®—è¿‘ä¼¼çš„å¤šè¾¹å½¢æ¡†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">approx = cv2.approxPolyDP(cnt,epsilon,<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªâ€œè½®å»“â€</li>
<li>ç¬¬äºŒä¸ªâ€œğœ€å€¼â€ï¼Œè¡¨ç¤ºæºè½®å»“ä¸è¿‘ä¼¼å¤šè¾¹å½¢çš„æœ€å¤§å·®å€¼ï¼ˆå€¼ä¸ªå€¼è¶Šå°ï¼Œå¤šè¾¹å½¢ä¸æºè½®å»“è¶Šæ¥è¿‘ï¼‰</li>
<li>ç¬¬ä¸‰ä¸ªâ€œå¸ƒå°”æ ‡è®°â€ï¼Œè¡¨ç¤ºè¿™ä¸ªå¤šè¾¹å½¢æ˜¯å¦é—­åˆ</li>
</ul>
<p><em>ğœ€è¿™ä¸ªå€¼éå¸¸é‡è¦ï¼Œå€¼è¶Šå°ï¼Œè¿‘ä¼¼å¤šè¾¹å½¢ä¸æºè½®å»“å°±è¶Šç›¸ä¼¼</em><br><strong>ä¸ºä»€ä¹ˆæœ‰äº†è½®å»“è¿˜éœ€è¦ä¸€ä¸ªè¿‘ä¼¼å¤šè¾¹å½¢å‘¢ï¼Ÿå› ä¸ºä¸€ä¸ªå¤šè¾¹å½¢ç”±ä¸€ç»„ç›´çº¿ç›´çº¿æ„æˆï¼Œèƒ½å¤Ÿå†ä¸€ä¸ªåŒºåŸŸé‡Œå®šä¹‰å¤šè¾¹å½¢ï¼Œä»¥ä¾¿äºä¹‹åè¿›è¡Œæ“ä½œä¸å¤„ç†ï¼Œè¿™åœ¨è®¸å¤šè®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­éå¸¸é‡è¦</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> cnt <span class="keyword">in</span> contours:</span><br><span class="line">  epsilon = <span class="number">0.01</span> * cv2.arcLength(cnt,<span class="literal">True</span>)</span><br><span class="line">  approx = cv2.approxPolyDP(cnt,epsilon,<span class="literal">True</span>)</span><br><span class="line">  hull = cv2.convexHull(cnt)</span><br><span class="line">  cv2.drawContours(black, [cnt], <span class="number">-1</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)  <span class="comment">#è¿™ä¸ªæ˜¯å‡†ç¡®æ£€æµ‹å‡ºæ¥çš„è½®å»“</span></span><br><span class="line">  cv2.drawContours(black, [approx], <span class="number">-1</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)  <span class="comment">#ç”¨å¤šè¾¹å½¢æ‹Ÿåˆçš„å¤šè¾¹å½¢è½®å»“</span></span><br><span class="line">  cv2.drawContours(black, [hull], <span class="number">-1</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)  <span class="comment">#è·å–å¤„ç†è¿‡çš„è½®å»“ä¿¡æ¯ï¼Œè®¡ç®—å‡¸å½¢çŠ¶</span></span><br><span class="line"></span><br><span class="line">cv2.imshow(<span class="string">"hull"</span>, black)   <span class="comment">#å°†è½®å»“æ”¾åœ¨é»‘è‰²å›¾åƒä¸Šï¼Œè¿™æ ·å°±çœ‹ä¸è§æºç›®æ ‡</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>convexhullå‡½æ•°çš„ä½œç”¨ï¼šè®¡ç®—å‡ºå›¾åƒçš„å‡¸åŒ…ï¼Œæ ¹æ®å›¾åƒçš„è½®å»“ç‚¹ï¼Œé€šè¿‡å‡½æ•°convexhullè½¬åŒ–æˆå‡¸åŒ…çš„ç‚¹ç‚¹åæ ‡</p>
</blockquote>
<p><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/contours_hull.png" alt="contours_hull"></p>
<h3 id="3-11-ç›´çº¿å’Œåœ†çš„æ£€æµ‹"><a href="#3-11-ç›´çº¿å’Œåœ†çš„æ£€æµ‹" class="headerlink" title="3.11 ç›´çº¿å’Œåœ†çš„æ£€æµ‹"></a>3.11 ç›´çº¿å’Œåœ†çš„æ£€æµ‹</h3><p>æ£€æµ‹è¾¹ç¼˜å’Œè½®å»“æ˜¯å…¶ä»–å¤æ‚æ“ä½œçš„åŸºç¡€ã€‚ç›´çº¿å’Œå½¢çŠ¶æ£€æµ‹æ˜¯å®ƒä»¬çš„åŸºç¡€ï¼Œä¸æ£€æµ‹è¾¹ç¼˜å’Œè½®å»“æœ‰å¯†åˆ‡çš„å…³ç³»ã€‚<br>Houghæ˜¯ç›´çº¿å’Œå½¢çŠ¶æ£€æµ‹èƒŒåçš„ç†è®ºåŸºç¡€ã€‚</p>
<h4 id="3-11-1-ç›´çº¿æ£€æµ‹"><a href="#3-11-1-ç›´çº¿æ£€æµ‹" class="headerlink" title="3.11.1 ç›´çº¿æ£€æµ‹"></a>3.11.1 ç›´çº¿æ£€æµ‹</h4><p>ä¸¤ç§å‡½æ•°</p>
<ol>
<li>HoughLines() æ ‡å‡†çš„houghå˜æ¢</li>
<li>HoughLinesP() ä½¿ç”¨æ¦‚ç‡Houghå˜æ¢ï¼Œæ˜¯æ ‡å‡†å˜æ¢çš„ä¼˜åŒ–ç‰ˆæœ¬ï¼Œé€šè¿‡åˆ†æç‚¹çš„å­é›†å¹¶ä¼°è®¡è¿™äº›ç‚¹éƒ½å±äºä¸€æ¡ç›´çº¿çš„æ¦‚ç‡ï¼Œæ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lines = cv2.HoughLinesP(edges,<span class="number">1</span>,np.pi/<span class="number">180</span>,<span class="number">20</span>,minLineLength,maxLineGap)</span><br></pre></td></tr></table></figure>

<p><strong><em>HoughtLineså‡½æ•°ï¼š</em></strong><br>| å‚æ•° | åŠŸèƒ½ |<br>| :-: | :-: |<br>| edges | éœ€è¦å¤„ç†çš„å›¾åƒ |<br>| 1 | å‡ ä½•è¡¨ç¤ºrho |<br>| np.pi/180| å‡ ä½•è¡¨ç¤ºtheta|<br>| 20 | é˜€å€¼ã€‚ä½äºé˜€å€¼çš„ç›´çº¿è¢«å¿½ç•¥ã€‚Houghå˜æ¢å¯ä»¥ç†è§£ä¸ºæŠ•ç¥¨å…³ç³»ï¼Œæ¯ä¸ªçº¿ç›¸å½“äºæŠ•ç¥¨ç®±ã€‚|<br>|minLineLength|æœ€å°ç›´çº¿é•¿åº¦ï¼ˆæ›´çŸ­ä¼šè¢«æ¶ˆé™¤ï¼‰|<br>|maxLineGap|æœ€å¤§çº¿æ®µé—´éš™ï¼ˆä¸€æ¡çº¿æ®µé•¿åº¦å¤§äºè¿™ä¸ªå€¼ä¼šè¢«è§†ä¸ºä¸¤æ¡åˆ†å¼€çš„çº¿æ®µï¼‰|<br><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/lines.png" alt="lines"></p>
<h4 id="3-11-2-åœ†æ£€æµ‹"><a href="#3-11-2-åœ†æ£€æµ‹" class="headerlink" title="3.11.2 åœ†æ£€æµ‹"></a>3.11.2 åœ†æ£€æµ‹</h4><p>ç±»ä¼¼ç›´çº¿æ£€æµ‹ï¼Œåœ†æ£€æµ‹æœ‰åœ†å¿ƒé—´çš„æœ€å°è·ç¦»å’Œåœ†çš„æœ€å°åŠæœ€å¤§åŠå¾„å‚æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">circles = cv2.HoughCircles(img,cv2.HOUGH_GRADIENT,<span class="number">1</span>,<span class="number">120</span>,</span><br><span class="line">                            param1=<span class="number">100</span>,param2=<span class="number">30</span>,minRadius=<span class="number">0</span>,maxRadius=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/circles.png" alt="circles"></p>
<h3 id="3-12-æ£€æµ‹å…¶ä»–å½¢çŠ¶"><a href="#3-12-æ£€æµ‹å…¶ä»–å½¢çŠ¶" class="headerlink" title="3.12 æ£€æµ‹å…¶ä»–å½¢çŠ¶"></a>3.12 æ£€æµ‹å…¶ä»–å½¢çŠ¶</h3><p>Houghä»…é™ä¸æ£€æµ‹åœ†ï¼Œä½†ä¹‹å‰æåˆ°çš„approxPloyDPå‡½æ•°å’ŒfindContourså‡½æ•°ç»“åˆèƒ½æ£€æµ‹å‡ºä»»æ„å½¢çŠ¶ã€‚</p>
<h3 id="3-13-æ€»ç»“"><a href="#3-13-æ€»ç»“" class="headerlink" title="3.13 æ€»ç»“"></a>3.13 æ€»ç»“</h3><p>æœ¬ç« èŠ‚ä»‹ç»äº†è‰²å½©ç©ºé—´ã€å‚…ç«‹å¶å˜æ¢å’Œå¤šç§ç”±OpenCVæä¾›çš„å¤„ç†å›¾åƒçš„æ»¤æ³¢å™¨ã€‚è¿˜ä»‹ç»äº†æ£€æµ‹è¾¹ç¼˜ã€ç›´çº¿ã€åœ†å’Œä¸€äº›æ™®é€šæƒ…å†µã€‚å¦è¿˜ä»‹ç»å¦‚ä½•å¯»æ‰¾è½®å»“ï¼Œå¹¶ç”±æ­¤å¾—åˆ°å…³äºå›¾åƒä¸­æ‰€åŒ…å«é¥¿ç›®æ ‡ä¿¡æ¯ï¼Œè¿™äº›éƒ½æ˜¯åç»­ç« èŠ‚çš„åŸºç¡€ã€‚</p>
<h2 id="ç¬¬3ç« -ä½¿ç”¨OpenCV-3-å¤„ç†å›¾åƒ"><a href="#ç¬¬3ç« -ä½¿ç”¨OpenCV-3-å¤„ç†å›¾åƒ" class="headerlink" title="ç¬¬3ç«  ä½¿ç”¨OpenCV 3 å¤„ç†å›¾åƒ"></a>ç¬¬3ç«  ä½¿ç”¨OpenCV 3 å¤„ç†å›¾åƒ</h2><p><img src="/2019/11/03/OpenCV3è®¡ç®—æœºè§†è§‰é˜…è¯»ç¬”è®°/C3.png" alt="C3"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/18/CNNé‡è¯»ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/18/CNNé‡è¯»ç¬”è®°/" class="post-title-link" itemprop="url">CNNé‡è¯»ç¬”è®°</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-18 15:16:55" itemprop="dateCreated datePublished" datetime="2019-10-18T15:16:55+08:00">2019-10-18</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-10-19 15:41:12" itemprop="dateModified" datetime="2019-10-19T15:41:12+08:00">2019-10-19</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="CNNé‡è¯»ç¬”è®°"><a href="#CNNé‡è¯»ç¬”è®°" class="headerlink" title="CNNé‡è¯»ç¬”è®°"></a>CNNé‡è¯»ç¬”è®°</h1><p>å› ä¸ºåç»­å®éªŒé‡ç‚¹è¦æŒæ¡åº”ç”¨å›¾åƒè¯†åˆ«ï¼Œè¿™é‡Œæ·±å…¥å½’çº³ä¸€ä¸‹CNNã€‚</p>
<h2 id="ç« èŠ‚æ¡†æ¶"><a href="#ç« èŠ‚æ¡†æ¶" class="headerlink" title="ç« èŠ‚æ¡†æ¶"></a>ç« èŠ‚æ¡†æ¶</h2><p><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/CNN%E6%A1%86%E6%9E%B6.png" alt="CNNæ¡†æ¶"><br>ç”±ä¸Šå›¾å¯è§è¿™ç« ï¼Œå…ˆä»‹ç»CNNèµ·æºï¼Œå†ä»‹ç»å·ç§¯ç¥ç»ç½‘ç»œçš„ç†è®ºæ¦‚å¿µï¼Œè·Ÿç€PyTorchçš„CNNå®ç°ï¼Œåé¢æ˜¯ä¸¤ä¸ªæ‹“å±•ï¼šå®ç”¨çš„CNNå®ä¾‹ä¸é¡¹ç›®ï¼Œå›¾ç‰‡å¢å¼ºæ–¹æ³•ä¸å®ä¾‹</p>
<h2 id="4-1-ä¸»è¦ä»»åŠ¡åŠèµ·æº"><a href="#4-1-ä¸»è¦ä»»åŠ¡åŠèµ·æº" class="headerlink" title="4.1 ä¸»è¦ä»»åŠ¡åŠèµ·æº"></a>4.1 ä¸»è¦ä»»åŠ¡åŠèµ·æº</h2><p>åœ¨å·ç§¯ç¥ç»ç½‘ç»œæµè¡Œèµ·æ¥ä¹‹å‰ï¼Œå›¾åƒå¤„ç†ä½¿ç”¨çš„éƒ½æ˜¯â†’äº›ä¼ ç»Ÿçš„æ–¹æ³•.æ¯”å¦‚æå–å›¾åƒä¸­çš„è¾¹ç¼˜ã€çº¹ç†ã€çº¿æ¡ã€è¾¹ç•Œç­‰ç‰¹å¾ï¼Œä¾æ®è¿™äº›ç‰¹å¾å†è¿›è¡Œä¸‹ä¸€æ­¥çš„å¤„ç†ï¼Œè¿™æ ·çš„å¤„ç†ä¸ä»…æ•ˆç‡ç‰¹åˆ«ä½ï¼Œå‡†ç¡®ç‡ä¹Ÿä¸é«˜ã€‚ å½’åŠŸäºå·ç§¯ç¥ç»ç½‘ç»œã€‚</p>
<h2 id="4-2-å·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†å’Œç»“æ„"><a href="#4-2-å·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†å’Œç»“æ„" class="headerlink" title="4.2 å·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†å’Œç»“æ„"></a>4.2 å·ç§¯ç¥ç»ç½‘ç»œçš„åŸç†å’Œç»“æ„</h2><h3 id="4-2-0-æ¦‚è¿°"><a href="#4-2-0-æ¦‚è¿°" class="headerlink" title="4.2.0 æ¦‚è¿°"></a>4.2.0 æ¦‚è¿°</h3><p>ä¸‰ä¸ªè§‚ç‚¹è®©å·ç§¯ç¥ç»ç½‘ç»œçœŸæ­£èµ·ä½œç”¨</p>
<ol>
<li>å±€éƒ¨æ€§ï¼šç‰¹å¾ä¸æ˜¯æ•´å¼ å›¾ç‰‡å†³å®šçš„ï¼Œè€Œæ˜¯ä¸€äº›å±€éƒ¨çš„ç‰¹å¾å†³å®šçš„ï¼Œå¦‚çœ‹é¸Ÿçœ‹é¸Ÿå˜´ã€‚</li>
<li>ç›¸åŒæ€§ï¼šç‰¹å¾å‡ºç°åœ¨ä¸åŒä½ç½®ï¼Œä½†æ˜¯å†³å®šç›¸åŒçš„ç‰¹å¾æœºåˆ¶æ˜¯ä¸€æ ·çš„ï¼Œå¦‚ä¸åŒé¸Ÿéƒ½æœ‰é¸Ÿå˜´ã€‚</li>
<li>ä¸å˜æ€§ï¼šä¸€å¼ å¤§å›¾ç‰‡ï¼Œè¿›è¡Œå›¾ç‰‡ç¼©å°ä¹Ÿä¸ä¼šå½±å“å›¾ç‰‡çš„æ€§è´¨ã€‚<hr>
</li>
</ol>
<ul>
<li><strong>å·ç§¯ç¥ç»ç½‘ç»œä¸å…¨è¿æ¥ç¥ç»ç½‘ç»œä¸åŒï¼š</strong><ul>
<li><strong>å…¨è¿æ¥ç½‘ç»œç¥ç»ç½‘ç»œ</strong>ç”±ä¸€ç³»åˆ—éšè—å±‚æ„æˆï¼Œæ¯ä¸ªéšè—å±‚ç”±è‹¥å¹²ç¥ç»å…ƒæ„æˆï¼Œå…¶ä¸­æ¯ä¸ªç¥ç»å…ƒéƒ½å’Œå‰ä¸€å±‚çš„æ‰€æœ‰ç¥ç»å…ƒç›¸å…³è”ï¼Œä½†æ¯ä¸€å±‚çš„ç¥ç»å…ƒæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚<br><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/diff.png" alt="diff"></li>
<li><strong>å·ç§¯ç¥ç»ç½‘ç»œ</strong>ä¸åŒäºä¸€èˆ¬çš„å…¨è¿æ¥ç¥ç»ç½‘ç»œï¼Œå·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ª3Då®¹é‡çš„ç¥ç»å…ƒï¼Œé€šè¿‡å®½åº¦ï¼Œé«˜åº¦å’Œæ·±åº¦æ¥æ’åˆ—ã€‚ä¸»è¦å±‚ç»“æ„æœ‰ä¸‰ä¸ª:å·ç§¯å±‚ã€æ± åŒ–å±‚å’Œå…¨è¿æ¥å±‚ï¼Œé€šè¿‡å †å è¿™äº›å±‚ç»“æ„å½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ã€‚<br><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/CNN%E7%BB%93%E6%9E%84.png" alt="CNNç»“æ„"></li>
</ul>
</li>
</ul>
<h3 id="4-2-1-å·ç§¯å±‚"><a href="#4-2-1-å·ç§¯å±‚" class="headerlink" title="4.2.1 å·ç§¯å±‚"></a>4.2.1 å·ç§¯å±‚</h3><p><strong><em>è¿™é‡Œæ’å…¥é¢˜å¤–æ€è€ƒï¼Œæƒ³äº†åŠå¤©ä¸ç†è§£ä¸ºå•¥å·ç§¯ç¥ç»ç½‘ç»œæ˜¯è¿™ä¸ªæ ·å­ï¼Œå…¶å®å°±æ˜¯é•¿å®½åªæ‰«æ3x3æˆ–è€…5x5å®é™…ä¸Šæœ‰30x30æˆ–è€…æ›´å¤§ï¼Œç„¶åé›¶å±‚å¯ä»¥è®©è¾“å…¥çš„ä¸ªæ•°ç­‰äºè¾“å‡ºçš„ä¸ªæ•°ï¼Œè¿™åªæ˜¯ä¸€å±‚å·ç§¯å±‚ï¼Œè¿™ä¸ªé‡Œé¢åŒ…å«äº†æ»¤æ³¢å™¨å°±æ˜¯ä¸€å°å—ï¼Œæ»¤æ³¢å™¨çš„å‚æ•°æ˜¯å¯ä»¥å­¦ä¹ çš„ï¼Œè€Œå…¨è¿æ¥ç¥ç»ç½‘ç»œå°±æ˜¯å¯ä»¥å°†æ‰€æœ‰çš„è¾“å‡ºéƒ½è¾“å…¥ç»™ä¸‹ä¸€ä¸ªå±‚ï¼Œå½“ç„¶å±‚æ•°è¶Šå¤æ‚ æ¨¡å‹å¯ä»¥å­¦ä¹ çš„å‚æ•°ä¹Ÿè¶Šå¤š æ‹Ÿåˆæ•ˆæœè¶Šå¥½ï¼Œæ—¶é—´è¶Šé•¿ã€‚å·ç§¯ç¥ç»ç½‘ç»œåªæå–éƒ¨åˆ†çš„ï¼Œç„¶ååˆ†æã€‚é˜¿å“ˆ ç»ˆäºæ‡‚äº†</em></strong><br><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/%E5%85%A8%E8%BF%9E%E6%8E%A5.png" alt="å…¨è¿æ¥"></p>
<hr>

<ul>
<li><p>è¦ç‚¹</p>
<ul>
<li>å±€éƒ¨è¿æ¥ åªè·å–å±€éƒ¨çš„å‚æ•°ï¼ˆå›¾åƒå±€éƒ¨æ€§ï¼‰</li>
<li>ç©ºé—´æ’åˆ— è¾“å‡ºæ·±åº¦ã€æ»‘åŠ¨æ­¥é•¿ï¼Œä»¥åŠè¾¹ç•Œå¡«å……æ§åˆ¶ç€å·ç§¯å±‚çš„ç©ºé—´æ’å¸ƒã€‚</li>
<li>é›¶å¡«å……çš„ä½¿ç”¨ æ¥è®©è¾“å…¥å¤§å°ç­‰äºè¾“å‡ºå¤§å°</li>
<li>æ­¥é•¿ é…åˆä¸é›¶å¡«å……ä½¿ç”¨</li>
<li><strong>å‚æ•°å…±äº«</strong>ï¼šå•ä¸ªæ»¤æ³¢å™¨å¯ä»¥æ‰«æåˆ°ç›¸åŒçš„ç‰¹å¾ï¼ˆå›¾åƒç›¸åŒæ€§ï¼‰,å°±å¯ä»¥æŠŠå‚æ•°å‡å°‘ï¼Œå¦‚ä¸‹ã€‚è¿™é‡Œç›¸åŒæ€§ä¹Ÿä¸æ€»æ˜¯æœ‰ç”¨çš„ï¼Œæ¯”å¦‚äººè„¸è¯†åˆ«å°±éœ€è¦æŸä¸ªä½ç½®æœ‰æŸä¸ªç‰¹å¾ä¸ä½ç½®æœ‰å…³äº†ã€‚<hr>
</li>
</ul>
<p> <strong><em>é—®é¢˜</em></strong></p>
<p> <img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/%E6%BB%A4%E6%B3%A2%E5%99%A8.png" alt="æ»¤æ³¢å™¨"></p>
 <hr>

<p> <img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/solution.png" alt="solution"><br> <strong><em>ä¸Šé¢åˆæƒ³åŠå¤©ï¼Œæ»¤æ³¢å™¨å°±æ˜¯æå–æ¿€æ´»å­¦ä¹ çš„å±‚æ•°ï¼Œ32ä¸ªå±‚æ•°æ˜¯è‡ªå·±æŒ‡å®šçš„ï¼Œä½ å¯ä»¥ä»»æ„å¢åŠ æ»¤æ³¢å™¨çš„ä¸ªæ•°ç»“æœè¾“å‡ºå›¾ç‰‡çš„æ·±åº¦ä¼šå¢åŠ ï¼Œç„¶å3x3x10æ˜¯å•ä¸ªæ»¤æ³¢å™¨æ‰«æå¾—åˆ°çš„å‚æ•°ï¼Œè¿™ä¸ª10è¦å’Œè¾“å…¥å›¾ç‰‡çš„æ·±åº¦ä¸€è‡´ï¼Œå¦‚ä¸Šå›¾è¾“å…¥6x6x3ï¼Œè¾“å‡º4x4x2ï¼Œç„¶åå¼€å¤´çš„20x20å°±æ˜¯è¾“å…¥çš„å›¾ç‰‡å¤§å°å¯ä»¥æŒ‡å®š3x3å‚æ•°åˆé€‚è®©è¾“å‡ºä¹Ÿç­‰äº20x20</em></strong></p>
<hr>

</li>
</ul>
<p><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/%E6%80%BB%E7%BB%93.png" alt="æ€»ç»“"></p>
<h3 id="4-2-2-æ± åŒ–å±‚"><a href="#4-2-2-æ± åŒ–å±‚" class="headerlink" title="4.2.2 æ± åŒ–å±‚"></a>4.2.2 æ± åŒ–å±‚</h3><blockquote>
<p>æ± åŒ–å±‚ä½œç”¨æ˜¯é€æ¸é™ä½æ•°æ®ä½“çš„ç©ºé—´å°º å¯¸.è¿™æ ·å°±èƒ½å¤Ÿå‡å°‘ç½‘ç»œä¸­å‚æ•°çš„æ•°é‡ .å‡å°‘è®¡ç®—èµ„æœè€—è´¹ï¼Œ åŒæ—¶ä¹Ÿèƒ½å¤Ÿæœ‰æ•ˆåœ°æ§åˆ¶è¿‡ æ‹Ÿåˆã€‚</p>
</blockquote>
<p>ä¾æ®å›¾ç‰‡çš„ä¸å˜æ€§ï¼Œå°†ä¸€ä¸ªå±‚çš„å¤§å°å˜å°ä¹Ÿä¸ä¼šæ”¹å˜å€¼ã€‚</p>
<p><strong>æ€»ç»“</strong><br><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/pooling.png" alt="pooling"></p>
<h3 id="4-2-3-å…¨è¿æ¥å±‚"><a href="#4-2-3-å…¨è¿æ¥å±‚" class="headerlink" title="4.2.3 å…¨è¿æ¥å±‚"></a>4.2.3 å…¨è¿æ¥å±‚</h3><p>ä¸€èˆ¬ç»è¿‡å·ç§¯å±‚å’Œæ± åŒ–å±‚ä¹‹åå†ç»è¿‡ä¸€ä¸ªå…¨è¿æ¥å±‚ï¼Œå°†3Dçš„ç«‹æ–¹ä½“é‡æ–°æ’åˆ—å˜æˆå…¨å…¨è¿æ¥å±‚ï¼Œå†ç»è¿‡å‡ ä¸ªéšè—å±‚ï¼Œæœ€åå¾—åˆ°ç»“æœã€‚<br>ä¸€èˆ¬ä¼šæ·»åŠ dropouté˜²æ­¢è¿‡æ‹Ÿåˆ</p>
<h3 id="4-2-4-å·ç§¯ç¥ç»ç½‘ç»œçš„åŸºæœ¬å½¢å¼"><a href="#4-2-4-å·ç§¯ç¥ç»ç½‘ç»œçš„åŸºæœ¬å½¢å¼" class="headerlink" title="4.2.4 å·ç§¯ç¥ç»ç½‘ç»œçš„åŸºæœ¬å½¢å¼"></a>4.2.4 å·ç§¯ç¥ç»ç½‘ç»œçš„åŸºæœ¬å½¢å¼</h3><p>åŸºæœ¬ç”±ä»¥ä¸Šä¸‰ä¸ªå±‚æ„æˆï¼Œè¿˜ä¼šæ·»åŠ æ¿€æ´»å‡½æ•°æ¥å¢åŠ éçº¿æ€§ï¼Œä¹Ÿä¼šå¢åŠ æ‰¹æ ‡å‡†åŒ–ç­‰æƒé‡åˆå§‹åŒ–çš„å‡½æ•°ç­‰ç­‰æ¥ç¼©å°å›¾åƒï¼Œæœ€åå…¨è¿æ¥å±‚å±•å¼€ï¼Œä¸€èˆ¬ç»“æ„ï¼š<br><strong><em>å·ç§¯å±‚&rarr;ReLUå±‚&rarr;æ‰¹æ ‡å‡†åŒ–å±‚&rarr;æ± åŒ–å±‚&rarr;â€¦&rarr;å…¨è¿æ¥å±‚</em></strong><br><strong>1ï¼Œå°æ»¤æ³¢å™¨çš„æœ‰æ•ˆæ€§</strong><br><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/77v33.png" alt="77v33"><br>å¤šä¸ªå°å·ç§¯å±‚æ¯”å•ä¸ªå¤§å·ç§¯å±‚æ•ˆæœå¥½ï¼Œä¸Šå›¾åŒæ—¶æ„Ÿå—é‡åŒæ˜¯7x7ï¼Œå¤§çš„æœ‰7x7xCxC=49C<sup>2</sup>ï¼Œå°çš„æœ‰3x(3x3)xCxC=49C<sup>2</sup>ï¼Œå‚æ•°å˜å°ã€‚åŒæ—¶å¤šä¸ªå°å·ç§¯å±‚å¢åŠ äº†å¤æ‚åº¦ã€‚<br><strong>2ï¼Œç½‘ç»œçš„å°ºå¯¸</strong><br>æ ¹æ®ç»éªŒä¼šæœ‰ä¸€äº›è§„åˆ™æ— ä¸¥æ ¼æ•°å­¦è¯æ˜ã€‚<br><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/size.png" alt="size"></p>
<h2 id="4-3-PyTorchå·ç§¯æ¨¡å—"><a href="#4-3-PyTorchå·ç§¯æ¨¡å—" class="headerlink" title="4.3 PyTorchå·ç§¯æ¨¡å—"></a>4.3 PyTorchå·ç§¯æ¨¡å—</h2><p>åœ¨nnè¿™ä¸ªæ¨¡å—åŒ…ä¸­è°ƒç”¨å·ç§¯ç¥ç»çš„å±‚ç»“æ„</p>
<h3 id="4-3-1-å·ç§¯å±‚"><a href="#4-3-1-å·ç§¯å±‚" class="headerlink" title="4.3.1 å·ç§¯å±‚"></a>4.3.1 å·ç§¯å±‚</h3><p><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/nn.Conv2d().png" alt="nn.Conv2d()"></p>
<h3 id="4-3-2-æ± åŒ–å±‚"><a href="#4-3-2-æ± åŒ–å±‚" class="headerlink" title="4.3.2 æ± åŒ–å±‚"></a>4.3.2 æ± åŒ–å±‚</h3><p><img src="/2019/10/18/CNNé‡è¯»ç¬”è®°/nn.MaxPool2d().png" alt="nn.MaxPool2d()"><br>æ„é€ ç®€å•çš„å·ç§¯ç¥ç»ç½‘ç»œ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleCNN</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super(SimpleCNN, self).__init__()</span><br><span class="line">        layer1 = nn.Sequential()</span><br><span class="line">        layer1.add_module(<span class="string">'conv1'</span>, nn.Conv2d(<span class="number">3</span>, <span class="number">32</span>, <span class="number">3</span>, <span class="number">1</span>, padding=<span class="number">1</span>)) <span class="comment"># b, 32, 32, 32</span></span><br><span class="line">        layer1.add_module(<span class="string">'relu1'</span>, nn.ReLU(<span class="literal">True</span>))</span><br><span class="line">        layer1.add_module(<span class="string">'pool1'</span>, nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>)) <span class="comment">#b, 32, 16, 16</span></span><br><span class="line">        self.layer1 = layer1</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        layer2 = nn.Sequential()</span><br><span class="line">        layer2.add_module(<span class="string">'conv2'</span>, nn.Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">3</span>, <span class="number">1</span>, padding=<span class="number">1</span>)) <span class="comment">#b, 64, 16, 16</span></span><br><span class="line">        layer2.add_module(<span class="string">'relu2'</span>, nn.ReLU(<span class="literal">True</span>))</span><br><span class="line">        layer2.add_module(<span class="string">'pool2'</span>, nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>)) <span class="comment">#b, 64, 8, 8</span></span><br><span class="line">        self.layer2 = layer2</span><br><span class="line">        </span><br><span class="line">        layer3 = nn.Sequential()</span><br><span class="line">        layer3.add_module(<span class="string">'conv3'</span>, nn.Conv2d(<span class="number">64</span>, <span class="number">128</span>, <span class="number">3</span>, <span class="number">1</span>, padding=<span class="number">1</span>)) <span class="comment"># 128, 8, 8</span></span><br><span class="line">        layer3.add_module(<span class="string">'relu3'</span>, nn.ReLU(<span class="literal">True</span>))</span><br><span class="line">        layer3.add_module(<span class="string">'pool3'</span>, nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>)) <span class="comment">#b, 128, 4, 4</span></span><br><span class="line">        self.layer3 = layer3</span><br><span class="line">        </span><br><span class="line">        layer4 = nn.Sequential()</span><br><span class="line">        layer4.add_module(<span class="string">'fc1'</span>, nn.Linear(<span class="number">2048</span>, <span class="number">512</span>))</span><br><span class="line">        layer4.add_module(<span class="string">'fc_relu1'</span>, nn.ReLU(<span class="literal">True</span>))</span><br><span class="line">        layer4.add_module(<span class="string">'fc2'</span>, nn.Linear(<span class="number">512</span>, <span class="number">64</span>))</span><br><span class="line">        layer4.add_module(<span class="string">'fc_relu2'</span>, nn.ReLU(<span class="literal">True</span>))</span><br><span class="line">        layer4.add_module(<span class="string">'fc3'</span>, nn.Linear(<span class="number">64</span>, <span class="number">10</span>))</span><br><span class="line">        self.layer4 = layer4</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        conv1 = self.layer1(x)</span><br><span class="line">        conv2 = self.layer2(conv1)</span><br><span class="line">        conv3 = self.layer3(conv2)</span><br><span class="line">        fc_input = conv3.view(conv3.size(<span class="number">0</span>), <span class="number">-1</span>)</span><br><span class="line">        fc_out = self.layer4(fc_input)</span><br><span class="line">        <span class="keyword">return</span> fc_out</span><br><span class="line">model = SimpleCNN()</span><br></pre></td></tr></table></figure>

<p>æ¦‚æ‹¬ä¸Šé¢ï¼šå°†å·ç§¯å±‚ã€æ¿€æ´»å±‚å’Œæ± åŒ–å±‚ç»„åˆä¹˜ä¸€ä¸ªå±‚ç»“æ„ï¼Œå®šä¹‰3ä¸ªè¿™æ ·å±‚ç»“æ„ï¼Œæœ€åå®šä¹‰å…¨è¿æ¥å±‚ï¼Œè¾“å‡º10.<br>ä¹Ÿå¯ä»¥åœ¨forwardæ·»åŠ è¾“å‡ºä¸­é—´å±‚è§‚å¯Ÿä¸­é—´å±‚è¾“å‡ºã€‚<br>è¿˜å¯ä»¥print(model)æ˜¾ç¤ºå“ªäº›å±‚ç»“æ„</p>
<h3 id="4-3-3-æå–å±‚ç»“æ„"><a href="#4-3-3-æå–å±‚ç»“æ„" class="headerlink" title="4.3.3 æå–å±‚ç»“æ„"></a>4.3.3 æå–å±‚ç»“æ„</h3><p>å¯¹äºä¸€ä¸ªç»™å®šçš„æ¨¡å‹ï¼Œå¦‚æœä¸æƒ³è¦æ¨¡å‹ä¸­æ‰€æœ‰çš„å±‚ç»“æ„ï¼Œåªå¸Œæœ›æå–ç½‘ç»œä¸­æŸä¸€å±‚æˆ–è€…å‡ å±‚ã€‚</p>
<ul>
<li>nn.Moduleå‡ ä¸ªé‡è¦å±æ€§<ul>
<li>nn.Module.children() è¿”å›ä¸‹ä¸€çº§æ¨¡å—çš„è¿­ä»£å™¨ï¼Œåªä¼šè¿”å›layer1,2,3,4</li>
<li>nn.Module.modules() è¿”å›æ‰€æœ‰æ¨¡å—çš„è¿­ä»£å™¨ï¼Œå¥½å¤„æ˜¯èƒ½è®¿é—®åˆ°æœ€å†…å±‚ï¼Œæ¯”å¦‚self.layer1.conv1</li>
<li>ä¸ä»¥ä¸Šä¸¤ä¸ªå¯¹åº”çš„ä¸‹é¢ä¸¤ä¸ªï¼Œä¸ä»…ä¼šè¿”å›æ¨¡å—è¿­ä»£å™¨ï¼Œè¿˜ä¼šè¿”å›ç½‘è·¯å±‚çš„åå­—<ul>
<li>nn.Module.named_children()</li>
<li>nn.Module.named_modules()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">new_module = nn.Sequential(*list(model.children())[:<span class="number">2</span>]) <span class="comment">#æå–æ¨¡å‹å‰ä¸¤å±‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> layer <span class="keyword">in</span> model.named_modules():</span><br><span class="line">    <span class="keyword">if</span> isinstance(layer[<span class="number">1</span>], nn.Conv2d): <span class="comment"># isinstanceåˆ¤æ–­æ˜¯ä¸æ˜¯éœ€è¦çš„ç±»å‹å®ä¾‹</span></span><br><span class="line">        conv_model.add_module(layer[<span class="number">0</span>], layer[<span class="number">1</span>])  <span class="comment">#æå–é™¤æ‰€æœ‰çš„å·ç§¯æ¨¡å—(å†…å±‚çš„)</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-3-4-å¦‚ä½•æå–å‚æ•°åŠè‡ªå®šä¹‰åˆå§‹åŒ–"><a href="#4-3-4-å¦‚ä½•æå–å‚æ•°åŠè‡ªå®šä¹‰åˆå§‹åŒ–" class="headerlink" title="4.3.4 å¦‚ä½•æå–å‚æ•°åŠè‡ªå®šä¹‰åˆå§‹åŒ–"></a>4.3.4 å¦‚ä½•æå–å‚æ•°åŠè‡ªå®šä¹‰åˆå§‹åŒ–</h3><p>æå–å±‚ç»“æ„ä¸å¤Ÿè¿˜éœ€è¦å¯¹<strong>å‚æ•°åˆå§‹åŒ–</strong></p>
<ul>
<li>nn.Moduleç‰¹åˆ«é‡è¦å…³äºå‚æ•°çš„å±æ€§<ul>
<li>nn.Module.named_parameters() ç»™å‡ºç½‘ç»œå±‚çš„åå­—å’Œå‚æ•°çš„è¿­ä»£å™¨</li>
<li>nn.Module.parameters() ç»™å‡ºä¸€ä¸ªç½‘ç»œçš„å…¨éƒ¨å‚æ•°çš„è¿­ä»£å™¨<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> model.named_parameters():</span><br><span class="line">    print(param[<span class="number">0</span>]) <span class="comment">#å¾—åˆ°æ¯ä¸€å±‚å‚æ•°çš„åå­—</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<p>å¯¹<strong>æƒé‡åˆå§‹åŒ–</strong>ï¼Œå› ä¸ºæƒé‡æ˜¯ä¸€ä¸ªVariableï¼Œåªéœ€è¦æå–dataå±æ€§å†å¤„ç†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> model.modules():</span><br><span class="line">    <span class="keyword">if</span> isinstane(m, nn.Conv2d):</span><br><span class="line">        init.normal(m.weight.data)</span><br><span class="line">        init.xavier_normal(m.weight.data)</span><br><span class="line">        init.kaiming_normal(m.weight.data)</span><br><span class="line">        m.bias.data.fill_(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">elif</span> isinstane(m, nn.Linear):</span><br><span class="line">        m.weight.data.normal_()</span><br></pre></td></tr></table></figure>

<p><strong>ä¸Šé¢å‚æ•°å°±æ˜¯æƒé‡ï¼Œä¸€ç§æ˜¯parameteræå–å‡ºåå­—ï¼Œå¦ä¸€ç§æ˜¯ç›´æ¥è°ƒç”¨.weightå±æ€§ä¿®æ”¹</strong></p>
<h2 id="4-4-å·ç§¯ç¥ç»ç½‘ç»œæ¡ˆä¾‹åˆ†æ"><a href="#4-4-å·ç§¯ç¥ç»ç½‘ç»œæ¡ˆä¾‹åˆ†æ" class="headerlink" title="4.4 å·ç§¯ç¥ç»ç½‘ç»œæ¡ˆä¾‹åˆ†æ"></a>4.4 å·ç§¯ç¥ç»ç½‘ç»œæ¡ˆä¾‹åˆ†æ</h2><h3 id="4-4-1-LeNeT"><a href="#4-4-1-LeNeT" class="headerlink" title="4.4.1 LeNeT"></a>4.4.1 LeNeT</h3><blockquote>
<p>æ•´ä¸ªå·ç§¯ç¥ç»ç½‘ç»œçš„å¼€å±±ä¹‹ä½œï¼Œ1998å¹´æå‡ºï¼Œç»“æ„ç®€å•ï¼Œä¸€å…±7å±‚ï¼Œå…¶ä¸­2å±‚å·ç§¯å±‚å’Œ2å±‚æ± åŒ–å±‚æ•™å¾’å‡ºç°ï¼Œæœ€åä¸‰å±‚å…¨è¿æ¥å±‚å¾—åˆ°æ•´ä½“çš„ç»“æœã€‚å±‚æ•°å¾ˆæµ…ï¼Œæ²¡æœ‰æ·»åŠ æ¿€æ´»å±‚</p>
</blockquote>
<h3 id="4-4-2-AlexNet"><a href="#4-4-2-AlexNet" class="headerlink" title="4.4.2 AlexNet"></a>4.4.2 AlexNet</h3><blockquote>
<p>2012å¹´åœ¨ImageNetç«èµ›ä¸Šå¤§æ”¾å¼‚å½©çš„AlexNetã€‚ç»“æ„å¤æ‚å› ä¸ºå½“æ—¶GPUæ€§èƒ½ä¸å¥½ç”¨äº†ä¸¤ä¸ªï¼Œç°åœ¨å¯ä»¥ç”¨ä¸€ä¸ªGPUæ›¿ä»£ã€‚AlexNetç½‘ç»œå±‚æ•°æ›´æ·±ï¼Œç¬¬ä¸€æ¬¡å¼•å…¥æ¿€æ´»å±‚ReLu,å…¨è¿æ¥å±‚å¼•å…¥Dropoutå±‚é˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p>
</blockquote>
<h3 id="4-4-3-VGGNet"><a href="#4-4-3-VGGNet" class="headerlink" title="4.4.3 VGGNet"></a>4.4.3 VGGNet</h3><blockquote>
<p>2014å¹´ImageNetç«èµ›äºšå†›ï¼Œæ€»ç»“ç”¨äº†æ›´å°çš„æ»¤æ³¢å™¨ï¼Œæ›´æ·±çš„ç»“æ„ï¼ŒAlexNetåªæœ‰8å±‚ï¼Œè€ŒVGGNetæœ‰16å±‚ï½19å±‚ï¼Œè¿™å°±æ˜¯è¿ç”¨å¤šä¸ªå°æ»¤æ³¢å™¨å‡å°‘å‚æ•°ã€‚</p>
</blockquote>
<h3 id="4-4-4-GoogLeNet"><a href="#4-4-4-GoogLeNet" class="headerlink" title="4.4.4 GoogLeNet"></a>4.4.4 GoogLeNet</h3><blockquote>
<p>2014å¹´æå‡ºï¼Œå¦‚ä»Šè¿›åŒ–åˆ°v4ç‰ˆæœ¬ï¼Œæœ€æ ¸å¿ƒéƒ¨åˆ†é‡‡å–äº†æ¯”VGGNetæ›´æ·±çš„ç»“æ„ï¼Œä¸€å…±æœ‰22å±‚ï¼Œä½†å®ƒçš„å‚æ•°æ¯”AlexNetå°‘äº†12å€ï¼ŒåŒæ—¶æœ‰å¾ˆé«˜çš„è®¡ç®—æ•ˆç‡ï¼Œå› ä¸ºé‡‡ç”¨äº†å¾ˆæœ‰æ•ˆçš„Inceptionæ¨¡å—ï¼Œæ²¡æœ‰å…¨è¿æ¥å±‚ï¼Œæ˜¯2014å¹´æ¯”èµ›å† å†›ã€‚<br>Inceptionæ¨¡å—è®¾è®¡äº†ä¸€ä¸ªå±€éƒ¨çš„ç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼Œç„¶åå°†è¿™äº›æ¨¡å—å¯¹åˆ«ä¸€èµ·å½¢æˆæŠ½è±¡å±‚ç½‘ç»œç»“æ„ï¼Œå…·ä½“æ¥è¯´æ˜¯å‡ ä¸ªå¹¶è¡Œçš„æ»¤æ³¢å™¨å¯¹è¾“å…¥è¿›è¡Œå·ç§¯å’Œæ± åŒ–ï¼Œè¿™äº›æ»¤æ³¢å™¨æœ‰ä¸åŒçš„æ„Ÿå—é‡ï¼Œæœ€åæŒ‰æ·±åº¦æ‹¼æ¥ä¸€èµ·å½¢æˆè¾“å‡ºå±‚ã€‚<br>é—®é¢˜æ˜¯å‚æ•°è¾ƒå¤šï¼Œå¯¹è¿™ä¸ªç‰ˆæœ¬æœ‰äº†Inceptionæ¨¡å—æ–°è®¾è®¡ã€‚</p>
</blockquote>
<h3 id="4-4-5-ResNet"><a href="#4-4-5-ResNet" class="headerlink" title="4.4.5 ResNet"></a>4.4.5 ResNet</h3><ul>
<li>è¯¯å·®:å³è§‚æµ‹å€¼ä¸çœŸå®å€¼çš„åç¦»;</li>
<li>æ®‹å·®:è§‚æµ‹å€¼ä¸æ‹Ÿåˆå€¼çš„åç¦».<blockquote>
<p>2015å¹´ImageNetç«èµ›å† å†›ï¼Œç”±å¾®è½¯ç ”ç©¶é™¢æå‡ºï¼Œé€šè¿‡æ®‹å·®æ¨¡å—èƒ½æ¬§æˆåŠŸåœ°è®­ç»ƒé«˜è¾¾152å±‚æ·±çš„ç¥ç»ç½‘ç»œ<br>æ®‹å·®å­¦ä¹ å•å…ƒç›¸å½“äºå°†å­¦ä¹ è«è¡¨æ”¹å˜äº†ï¼Œä¸å†æ˜¯å­¦ä¹ ä¸€ä¸ªå®Œæ•´çš„è¾“å‡ºh(x)ï¼Œè€Œæ˜¯å­¦ä¹ è¾“å‡ºå’Œè¾“å…¥çš„å·®åˆ«H(x)-xï¼Œå³æ®‹å·®ã€‚</p>
</blockquote>
</li>
</ul>
<p><strong><em>ä»¥ä¸Šçš„æ¨¡å‹éƒ½å®šä¹‰åœ¨torchvisioné‡Œé¢ï¼Œä¹Ÿæœ‰é¢„è®­ç»ƒå¥½çš„å‚æ•°ï¼Œè¿™äº›é¢„è®­ç»ƒå¥½çš„ç½‘ç»œä¸ºåé¢ä»‹ç»çš„å‰ä¸€å­¦ä¹ å’Œå¾®è°ƒåšäº†å¾ˆå¥½çš„é“ºå«ã€‚</em></strong></p>
<h2 id="4-5-å†å®ç°MNISTæ‰‹å†™æ•°å­—åˆ†ç±»"><a href="#4-5-å†å®ç°MNISTæ‰‹å†™æ•°å­—åˆ†ç±»" class="headerlink" title="4.5 å†å®ç°MNISTæ‰‹å†™æ•°å­—åˆ†ç±»"></a>4.5 å†å®ç°MNISTæ‰‹å†™æ•°å­—åˆ†ç±»</h2><p>æˆåŠŸè·‘å‡ºäº†MNISTåˆ†ç±»æ¨¡å‹ï¼ŒæŒºæ¿€åŠ¨çš„ï¼Œå°±æ˜¯ç”µè„‘cpuå¤ªæ…¢äº†ï¼Œè®­ç»ƒåŠå¤©ã€‚</p>
<h2 id="4-6-å›¾åƒå¢å¼ºçš„æ–¹æ³•"><a href="#4-6-å›¾åƒå¢å¼ºçš„æ–¹æ³•" class="headerlink" title="4.6 å›¾åƒå¢å¼ºçš„æ–¹æ³•"></a>4.6 å›¾åƒå¢å¼ºçš„æ–¹æ³•</h2><p>å‰é¢ä¸“æ³¨äºCNNçš„å±‚ç»“æ„ï¼Œç°åœ¨ä»å¦å¤–çš„è§’åº¦â€”â€”å›¾åƒå¢å¼ºçš„æ–¹é¢å…¥æ‰‹ï¼Œæé«˜æ¨¡å‹çš„å‡†ç¡®ç‡å’Œæ³›åŒ–èƒ½åŠ›ã€‚</p>
<ul>
<li>å½±å“å›¾åƒçš„å› ç´ <ul>
<li>æ‹æ‘„çš„å…‰ç…§å¼ºåº¦</li>
<li>ç‰©ä½“çš„å§¿åŠ¿</li>
<li>æ˜¯å¦æœ‰é®è”½ç‰©</li>
</ul>
</li>
</ul>
<p><strong><em>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒTorchvision.transformsåŒ…æ‹¬æ‰€æœ‰å›¾åƒå¢å¼ºçš„æ–¹æ³•</em></strong></p>
<ul>
<li>torchvision.transformså›¾åƒå¢å¼ºçš„æ–¹æ³•.<ol>
<li>Scaleï¼Œå¯¹å›¾ç‰‡çš„å°ºåº¦è¿›è¡Œç¼©å°å’Œæ”¾å¤§ï¼›</li>
<li>CenterCropï¼Œå¯¹å›¾ç‰‡æ­£ä¸­å¿ƒè¿›è¡Œç»™å®šå¤§å°çš„è£å‰ªï¼›</li>
<li>RandomCropï¼Œå¯¹å›¾ç‰‡è¿›è¡Œç»™å®šå¤§å°çš„éšæœºè£å‰ªï¼›</li>
<li>RandomHorizaontalFlipï¼Œå¯¹å›¾ç‰‡è¿›è¡Œæ¦‚ç‡ä¸º0.5çš„éšæœºæ°´å¹³åè½¬ï¼›</li>
<li>RandomSizedCropï¼Œé¦–å…ˆå¯¹å›¾ç‰‡è¿›è¡Œéšæœºå°ºå¯¸çš„è£å‰ªï¼Œç„¶åå¯¹è£å‰ªçš„å›¾ç‰‡è¿›è¡Œä¸€ä¸ªéšæœºæ¯”ä¾‹çš„ç¼©æ”¾ï¼Œæœ€åå°†å›¾ç‰‡è¾¹å°˜ç»™å®šçš„å¤§å°ï¼Œåœ¨InceptionNetä¸­æ¯”è¾ƒæµè¡Œ</li>
<li>padå¯¹å›¾ç‰‡è¿›è¡Œè¾¹ç•Œé›¶å¡«å……<br>è¿˜æœ‰å…¶ä»–æ–¹æ³•ï¼Œå¯ä»¥ç”¨OpenCVæˆ–è€…PILç­‰ç¬¬ä¸‰æ–¹å›¾å½¢åº“å®ç°ã€‚<h2 id="4-7-å®ç°cifar10åˆ†ç±»"><a href="#4-7-å®ç°cifar10åˆ†ç±»" class="headerlink" title="4.7 å®ç°cifar10åˆ†ç±»"></a>4.7 å®ç°cifar10åˆ†ç±»</h2></li>
</ol>
</li>
</ul>
<p><strong><em>ä¸‹ä¸ªæ˜ŸæœŸå†é‡ç‚¹å­¦ä¹ ï¼Œå…ˆå¤ä¹ è€ƒè¯•ã€‚</em></strong></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/13/Pytorchæ–‡æ¡£é˜…è¯»ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/13/Pytorchæ–‡æ¡£é˜…è¯»ç¬”è®°/" class="post-title-link" itemprop="url">Pytorchæ–‡æ¡£é˜…è¯»ç¬”è®°</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-13 23:09:35" itemprop="dateCreated datePublished" datetime="2019-10-13T23:09:35+08:00">2019-10-13</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-10-16 14:39:43" itemprop="dateModified" datetime="2019-10-16T14:39:43+08:00">2019-10-16</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="PYTORCH-DOCUMENTATION"><a href="#PYTORCH-DOCUMENTATION" class="headerlink" title="PYTORCH DOCUMENTATION"></a>PYTORCH DOCUMENTATION</h1><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><h3 id="Autograd-mechanics"><a href="#Autograd-mechanics" class="headerlink" title="Autograd mechanics"></a>Autograd mechanics</h3><ul>
<li><p><strong>è‡ªåŠ¨çš„æ¢¯åº¦ä¼ é€’è¿‡ç¨‹ï¼Œä¸»è¦ä»‹ç»requires_grad</strong></p>
<p>  å¯ä»¥ç”¨requires_gradæ¥â€™freeze part of your modelâ€™<br>  åº•ä¸‹model.fcå°±æ˜¯æœ€åä¸€å±‚çš„æ¨¡å‹ è¿™é‡Œå°†å‰é¢çš„å†»ç»“(æ¢¯åº¦å˜ä¸ºé›¶ï¼Œæ–°çš„æœ€åä¸€å±‚æ¢¯åº¦ä¸ºæ­£)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">model = torchvision.models.resnet18(pretrained=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> model.parameters():</span><br><span class="line">    param.requires_grad = <span class="literal">False</span></span><br><span class="line"><span class="comment"># Replace the last fully-connected layer</span></span><br><span class="line"><span class="comment"># Parameters of newly constructed modules have requires_grad=True by default </span></span><br><span class="line">model.fc = nn.Linear(<span class="number">512</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Optimize only the classifier</span></span><br><span class="line">optimizer = optim.SGD(model.fc.parameters(), lr=<span class="number">1e-2</span>, momentum=<span class="number">0.9</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªåŠ¨æ±‚é“å¦‚ä½•ç¼–ç å†å²</p>
</li>
<li><p>ä¸å»ºè®®ä½¿ç”¨in-placeæ“ä½œ<br><img src="/2019/10/13/Pytorchæ–‡æ¡£é˜…è¯»ç¬”è®°/in-place.png" alt="in-place"></p>
</li>
<li><p>å¯ä»¥ç”¨self.faved_tensorsæ¥æ£€æµ‹æ˜¯å¦æ­£ç¡®ï¼š</p>
<blockquote>
<p>Once you access self.saved_tensors it is checked, and if it is greater than the saved value an error is raised. </p>
</blockquote>
</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/" class="post-title-link" itemprop="url">æ·±åº¦å­¦ä¹ æ€»ç»“</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-10 22:48:42" itemprop="dateCreated datePublished" datetime="2019-10-10T22:48:42+08:00">2019-10-10</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-10-11 22:42:15" itemprop="dateModified" datetime="2019-10-11T22:42:15+08:00">2019-10-11</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ·±åº¦å­¦ä¹ æ€»ç»“"><a href="#æ·±åº¦å­¦ä¹ æ€»ç»“" class="headerlink" title="æ·±åº¦å­¦ä¹ æ€»ç»“"></a>æ·±åº¦å­¦ä¹ æ€»ç»“</h1><blockquote>
<p>ä¸ç®¡æ€ä¹ˆè¯´ä¹Ÿå¿«æŒºé•¿æ—¶é—´çš„äººå·¥æ™ºèƒ½ï¼Œæœ‰å›°éš¾çš„åœ°æ–¹ä¹Ÿæœ‰å®¹æ˜“çš„åœ°æ–¹ï¼Œæ€»ç»“å½’çº³ä¸‹ä¹Ÿè®¸æ›´åˆ©äºæå‡ã€‚</p>
</blockquote>
<h2 id="1-æ·±åº¦å­¦ä¹ çš„å†å²å‘å±•"><a href="#1-æ·±åº¦å­¦ä¹ çš„å†å²å‘å±•" class="headerlink" title="1.æ·±åº¦å­¦ä¹ çš„å†å²å‘å±•"></a>1.æ·±åº¦å­¦ä¹ çš„å†å²å‘å±•</h2><p><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.png" alt="Ai"></p>
<ul>
<li>æ•°æ®æŒ–æ˜å°±æ˜¯åœ¨å¤§å‹çš„æ•°æ®åº“ä¸­å‘ç°æœ‰æ•ˆä¿¡æ¯çš„æ•°æ®å¤„ç†çš„è¿‡ç¨‹ã€‚</li>
<li>æœºå™¨å­¦ä¹ æ˜¯å®ç°äººå·¥æ™ºèƒ½çš„ä¸€ç§é€”å¾„ï¼Œå’Œæ•°æ®æŒ–æ˜æœ‰ç›¸ä¼¼æ€§ã€‚ä¸»è¦æ˜¯é€šè¿‡ç®—æ³•çš„è®¾è®¡ï¼Œè®©è®¡ç®—æœºèƒ½å¤Ÿè‡ªåŠ¨åœ°ä»æ•°æ®ä¸­â€œå­¦ä¹ è§„å¾‹â€ï¼Œåˆ©ç”¨è§„å¾‹è¿›è¡Œé¢„æµ‹ã€‚</li>
<li>æ·±åº¦å­¦ä¹ æœ€åˆç‰ˆæœ¬æ˜¯äººå·¥ç¥ç»ç½‘ç»œï¼ˆæœºå™¨å­¦ä¹ çš„ä¸€ä¸ªåˆ†æ”¯ï¼‰ï¼Œè¯•å›¾é€šè¿‡æ¨¡æ‹Ÿäººè„‘ï¼Œé€šè¿‡å¤æ‚çš„ç»“æ„è‡ªåŠ¨æå–æ•°æ®ç‰¹å¾ã€‚</li>
</ul>
<p>è€Œç°åœ¨ä¸»è¦å…´èµ·çš„æ˜¯æ·±åº¦å­¦ä¹ ï¼Œå¾—ç›Šäºå¤§æ•°æ®çš„å…´èµ·å’Œé«˜æ€§èƒ½GPUçš„å‡ºç°ï¼Œä½¿å¤æ‚çš„ç½‘ç»œæ¨¡å‹æˆä¸ºå¯èƒ½<br><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/DL%E5%8F%91%E5%B1%95.png" alt="Dl"></p>
<h2 id="2-æœºå™¨å­¦ä¹ æ€»ç»“"><a href="#2-æœºå™¨å­¦ä¹ æ€»ç»“" class="headerlink" title="2.æœºå™¨å­¦ä¹ æ€»ç»“"></a>2.æœºå™¨å­¦ä¹ æ€»ç»“</h2><blockquote>
<p>æœºå™¨å­¦ä¹ æ˜¯åŸºç¡€ã€‚é¦–å…ˆç†è§£æ¸…æ¥šæœºå™¨å­¦ä¹ ä¸­çš„ä¸€äº›æ¦‚å¿µç®—æ³•ã€‚å¾ˆå¤šæ¨¡å‹çš„å»ºç«‹éƒ½æ˜¯æ ¹æ®å¤æ‚çš„æ•°å­¦æ¨¡å‹å¾—æ¥çš„ã€‚</p>
</blockquote>
<h3 id="1ã€ä¸»è¦æ¦‚å¿µç†è§£"><a href="#1ã€ä¸»è¦æ¦‚å¿µç†è§£" class="headerlink" title="1ã€ä¸»è¦æ¦‚å¿µç†è§£"></a>1ã€ä¸»è¦æ¦‚å¿µç†è§£</h3><p><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/map.png" alt="map"></p>
<p>é‡è¦éš¾ç†è§£çš„ï¼š</p>
<ul>
<li>KNNé‚»è¿‘ç®—æ³•ï¼Œè·ç¦»ç®—æ³• æ‰¾æœ€è¿‘çš„é‚»å±…åˆ¤æ–­ å±äºä»€ä¹ˆç±»åˆ« ä¹Ÿå¯ä»¥åšå›å½’é—®é¢˜ï¼ˆå¤šç§åˆ¤æ–­ï¼‰ kæ˜¯å–çš„é‚»å±…æ•°ï¼Œè·ç¦»ç®—æ³•çš„é€‰æ‹© ï¼š æ¬§å¼è·ç¦» ä½™å¼¦è·ç¦» é©¬æ–¯è·ç¦» æ±‰æ°‘è·ç¦» åˆ¤æ–­å¯¹æ–°æ ·æœ¬å¦‚ä½•åˆ†ç±»ï¼Œå¯èƒ½å¿…é¡»ç¼©æ”¾å±æ€§ä»¥é˜²æ­¢è·ç¦»åº¦é‡è¢«å…¶ä¸­ä¸€ä¸ªå±æ€§æ”¯é…ã€‚</li>
<li>æ”¯æŒå‘é‡æœºï¼šé€šè¿‡è®­ç»ƒæ¨¡å‹å‚æ•°æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„åˆ†ç¦»ç•Œé¢å°†æ•°æ®åˆ†ç¦»å¼€ã€‚æœ‰æ¾å¼›å˜é‡ï¼Œæƒ©ç½šå‡½æ•°ï¼Œmarginï¼Œå¤šç§èŒƒæ•°è·ç¦»ï¼Œå¦æœ‰ç§¯åˆ†å˜æ¢å°†å¤šç»´é™çº¬ã€‚</li>
<li>å†³ç­–æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªå†…éƒ¨ç»“ç‚¹è¡¨ç¤ºåœ¨ä¸€ä¸ªå±æ€§ä¸Šçš„æµ‹è¯•å¯¹æœªçŸ¥æ•°æ®è¿›è¡Œåˆ†ç±»ï¼Œæ¯ä¸ªåˆ†æ”¯ä»£è¡¨ä¸€ä¸ªå±æ€§è¾“å‡ºï¼Œæ¯ä¸ªæ ‘å¶ç»“ç‚¹ä»£è¡¨ç±»æˆ–ç±»åˆ†å¸ƒã€‚æ ¹æ®åˆ†ç±»æœ€åå¶å­å¾—åˆ°ä¸€ä¸ªç±»ã€‚å‘å‰å‘åå‰ªæï¼Œä¿¡æ¯ç†µå¢ç›Šï¼Œéšæœºæ£®æ—</li>
<li>é›†æˆæ–¹æ³• é›†æˆæ–¹æ³• å°±æ˜¯ç”¨å¾ˆå¤š ç®€å•åˆ†ç±»å™¨ æ¥æ„é€ å¤æ‚çš„åˆ†ç±»å‡½æ•°ï¼ŒåŸå§‹æ ·æœ¬çš„æŠ½æ ·ï¼šbagging æŠ½äº†ä¹‹åæ”¾ï¼ŒBosting æŠ½äº†ä¹‹å ä¸‹ä¸€æ¬¡å†æŠ½ å°±åŠ æƒã€‚å¤šä¸ªå¼±åˆ†ç±»å™¨åˆ†å‡ºå¥½çš„ç»“æœåƒç›²äººæ‘¸è±¡ã€‚<h3 id="2ã€å®æˆ˜ï¼ˆpythonï¼‰"><a href="#2ã€å®æˆ˜ï¼ˆpythonï¼‰" class="headerlink" title="2ã€å®æˆ˜ï¼ˆpythonï¼‰"></a>2ã€å®æˆ˜ï¼ˆpythonï¼‰</h3><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/Ku.png" alt="ku"></li>
<li>numpy åŒ…å«çŸ©é˜µè¿ç®—ï¼Œå‘é‡è¿ç®—çš„åŒ…ï¼Œæ‰©å±•pythonçš„è¿ç®—</li>
<li>Scipy ä¸–ç•Œä¸Šè‘—åçš„Pythonå¼€æºç§‘å­¦è®¡ç®—åº“ï¼Œå»ºç«‹åœ¨Numpyä¸Šï¼Œå®ƒå¢åŠ çš„åŠŸèƒ½åŒ…æ‹¬æ•°å€¼ç§¯åˆ†ã€æœ€ä¼˜åŒ–ã€ç»Ÿè®¡å’Œä¸€äº›ä¸“ç”¨å‡½æ•°ã€‚</li>
<li>pandas æ•°æ®é›†å¤„ç†åŒ…ï¼Œå­¦ä¹ çš„æ•°æ®å­˜åœ¨æ•°æ®é›†ä¸­ï¼Œéœ€è¦pandaså¤„ç†</li>
<li>matplotlib ç»˜å›¾ç”¨çš„åŒ…ï¼Œæ•°æ®å¯è§†åŒ–</li>
<li>seaborn åŸºäºmatplotlibçš„å›¾å½¢å¯è§†åŒ–pythonåŒ…ã€‚å®ƒæä¾›äº†ä¸€ç§é«˜åº¦äº¤äº’å¼ç•Œé¢,ä¾¿äºç”¨æˆ·èƒ½å¤Ÿåšå‡ºå„ç§æœ‰å¸å¼•åŠ›çš„ç»Ÿè®¡å›¾è¡¨</li>
<li>scikit-learn æœºå™¨å­¦ä¹ çš„åŒ…ï¼ŒåŒ…å«äº†å¾ˆå¤šæœºå™¨å­¦ä¹ çš„æ¨¡å‹ä¸æ–¹æ³•å‡½æ•°</li>
<li>OpenCv å›¾åƒå¤„ç†çš„åŒ…ï¼Œå¯¹å›¾åƒçš„æ“ä½œ</li>
<li>TensorFlowä¸Pytorch æ·±åº¦å­¦ä¹ çš„æ¡†æ¶</li>
</ul>
<p><strong><em>ä»¥ä¸Šæ¯ä¸ªåŒ…éƒ½éœ€è¦å­¦ä¹ çš„å¤§é‡çš„èµ„æ–™æ‰èƒ½æŒæ¡</em></strong></p>
<h3 id="3ã€ä»£ç å®ç°-åŸºç¡€æ¡†æ¶"><a href="#3ã€ä»£ç å®ç°-åŸºç¡€æ¡†æ¶" class="headerlink" title="3ã€ä»£ç å®ç°(åŸºç¡€æ¡†æ¶)"></a>3ã€ä»£ç å®ç°(åŸºç¡€æ¡†æ¶)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np   <span class="comment">#å¯¼å…¥numpy</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt     <span class="comment">#å¯¼å…¥ç”»å›¾åŒ…</span></span><br><span class="line">x_data = np.array([<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>])     <span class="comment">#æ‰‹åŠ¨åˆ›å»ºä¸‰ä¸ªæ•°æ®</span></span><br><span class="line">y_data = np.array([<span class="number">1.968</span>, <span class="number">4.125</span>, <span class="number">5.671</span>])    </span><br><span class="line">plt.scatter(x_data,y_data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#define linear model </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x * w</span><br><span class="line">    <span class="comment"># Loss function </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loss</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    y_pred = forward(x)</span><br><span class="line">    <span class="keyword">return</span> (y_pred - y) * (y_pred - y)</span><br><span class="line">    <span class="comment"># gradient function  </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradient</span><span class="params">(x, y)</span>:</span>  <span class="comment"># d_loss/d_w</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * x * (x * w - y)</span><br><span class="line">    <span class="comment">#define parameters  </span></span><br><span class="line">w = <span class="number">1.0</span>  <span class="comment"># start points</span></span><br><span class="line">lr = <span class="number">0.001</span> <span class="comment">#learning rate</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Training loop </span></span><br><span class="line">i=<span class="number">1</span></span><br><span class="line">epochs=<span class="number">500</span></span><br><span class="line">weights=[]</span><br><span class="line">losses=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> np.arange(epochs):</span><br><span class="line">    <span class="keyword">for</span> x_val, y_val <span class="keyword">in</span> zip(x_data, y_data):  <span class="comment">#zip() å‡½æ•°ç”¨äºå°†å¯è¿­ä»£çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†å¯¹è±¡ä¸­å¯¹åº”çš„å…ƒç´ æ‰“åŒ…æˆä¸€ä¸ªä¸ªå…ƒç»„ï¼Œç„¶åè¿”å›ç”±è¿™äº›å…ƒç»„ç»„æˆçš„åˆ—è¡¨ã€‚</span></span><br><span class="line">        grad = gradient(x_val, y_val)</span><br><span class="line">        w = w - lr * grad</span><br><span class="line">        l = loss(x_val, y_val)</span><br><span class="line">    <span class="keyword">if</span> i%<span class="number">10</span>==<span class="number">0</span>:</span><br><span class="line">        weights+=[w]         </span><br><span class="line">        losses+=[l]          </span><br><span class="line">        print(<span class="string">"progress:"</span>, i, <span class="string">"w="</span>, round(w, <span class="number">2</span>), <span class="string">"loss="</span>, round(l, <span class="number">2</span>))   </span><br><span class="line">    <span class="keyword">if</span> np.linalg.norm(grad)&lt;=<span class="number">1e-6</span>: </span><br><span class="line">        <span class="keyword">break</span>  </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># After training</span></span><br><span class="line">print(weights)</span><br><span class="line">print(losses)</span><br><span class="line">plt.plot(weights,losses) </span><br><span class="line">plt.plot(x_data,y_predict) </span><br><span class="line">plt.scatter(x_data,y_data)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/simp1.png" alt="simp1"></p>
<h2 id="3-æ·±åº¦å­¦ä¹ æ€»ç»“"><a href="#3-æ·±åº¦å­¦ä¹ æ€»ç»“" class="headerlink" title="3.æ·±åº¦å­¦ä¹ æ€»ç»“"></a>3.æ·±åº¦å­¦ä¹ æ€»ç»“</h2><p>æ·±åº¦å­¦ä¹ æ˜¯ç°åœ¨ä¸»æµçš„äººå·¥æ™ºèƒ½æ–¹å‘ï¼Œæ˜¯ä¸€ç§åŸºäºå¤§æ•°æ®å’Œé«˜æ€§èƒ½Gpuçš„æ–¹æ³•ï¼Œæœ‰Pytorchå’ŒTensorFlowä¸¤ç§ä¸»æµæ¡†æ¶ï¼Œç°åœ¨å­¦çš„æ˜¯Pytorch</p>
<blockquote>
<p>PyTorch æ˜¯ Torch7 å›¢é˜Ÿå¼€å‘çš„ï¼Œä»å®ƒçš„åå­—å°±å¯ä»¥çœ‹å‡ºï¼Œå…¶ ä¸ Torch çš„ä¸åŒä¹‹å¤„ åœ¨äº PyTorch ä½¿ç”¨äº† Python ä½œä¸ºå¼€å‘è¯­è¨€ Î¶ æ‰€è°“ â€œPython firstâ€ ï¼ŒåŒæ ·è¯´æ˜å®ƒæ˜¯ ä¸€ ä¸ªä»¥ Python ä¼˜å…ˆçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œä¸ä»…èƒ½å¤Ÿå®ç°å¼ºå¤§çš„ GPU åŠ é€Ÿï¼ŒåŒæ—¶è¿˜æ”¯æŒåŠŸæ€ç¥ç»ç½‘ ç»œï¼Œè¿™æ˜¯ç°åœ¨å¾ˆå¤šä¸»æµæ¡†æ¶æ¯”å¦‚ Tensorflow ç­‰éƒ½ä¸æ”¯æŒçš„ã€‚</p>
</blockquote>
<h3 id="1-å¤šå±‚å…¨è¿æ¥ç¥ç»ç½‘ç»œ"><a href="#1-å¤šå±‚å…¨è¿æ¥ç¥ç»ç½‘ç»œ" class="headerlink" title="1. å¤šå±‚å…¨è¿æ¥ç¥ç»ç½‘ç»œ"></a>1. å¤šå±‚å…¨è¿æ¥ç¥ç»ç½‘ç»œ</h3><p><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/ptha.png" alt="ptha"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å›å½’é—®é¢˜ çº¿æ€§å›å½’ </span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn,optim</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯¼å…¥æ•°æ®é›†</span></span><br><span class="line">x_train=np.array([[<span class="number">3.3</span>], [<span class="number">4.4</span>], [<span class="number">5.5</span>], [<span class="number">6.71</span>], [<span class="number">6.93</span>], [<span class="number">4.168</span>], [<span class="number">9.779</span>], [<span class="number">6.182</span>], [<span class="number">7.59</span>], [<span class="number">2.167</span>], [<span class="number">7.042</span>], [<span class="number">10.791</span>], [<span class="number">5.313</span>], [<span class="number">7.997</span>], [<span class="number">3.1</span>]], dtype=np.float32)</span><br><span class="line">y_train=np.array([[<span class="number">1.7</span>], [<span class="number">2.76</span>], [<span class="number">2.09</span>], [<span class="number">3.19</span>], [<span class="number">1.694</span>], [<span class="number">1.573</span>], [<span class="number">3.366</span>], [<span class="number">2.596</span>], [<span class="number">2.53</span>], [<span class="number">1.221</span>], [<span class="number">2.827</span>], [<span class="number">3.465</span>], [<span class="number">1.65</span>], [<span class="number">2.904</span>], [<span class="number">1.3</span>]], dtype=np.float32)</span><br><span class="line">plt.plot(x_train,y_train, <span class="string">'ro'</span>)</span><br><span class="line">x_train = torch.from_numpy(x_train)</span><br><span class="line">y_train = torch.from_numpy(y_train)</span><br></pre></td></tr></table></figure>

<p><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/p1.png" alt="p1"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰æ¨¡å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinearRegression</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super(LinearRegression, self).__init__()</span><br><span class="line">        self.linear = nn.Linear(<span class="number">1</span>,<span class="number">1</span>)  <span class="comment">#è¾“å…¥è¾“å‡ºéƒ½æ˜¯ä¸€ç»´</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        out = self.linear(x)</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line">criterion = nn.MSELoss()</span><br><span class="line">optimizer = optim.SGD(model.parameters(), lr=<span class="number">1e-2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®­ç»ƒæ¨¡å‹</span></span><br><span class="line">num_epochs = <span class="number">1000</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(num_epochs):</span><br><span class="line">    inputs = Variable(x_train)</span><br><span class="line">    target = Variable(y_train)</span><br><span class="line">    <span class="comment">#forward</span></span><br><span class="line">    out=model(inputs)</span><br><span class="line">    loss=criterion(out, target)</span><br><span class="line">    <span class="comment">#backward</span></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    loss.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line">    <span class="keyword">if</span> (epoch+<span class="number">1</span>) % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">'Epoch[&#123;&#125;/&#123;&#125;], loss:&#123;:.6f&#125;'</span>.format(epoch+<span class="number">1</span>, num_epochs, loss.item()))</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯„ä¼°æ¨¡å‹</span></span><br><span class="line">model.eval()  <span class="comment">#è½¬å˜æˆevalçš„æµ‹è¯•æ¨¡å¼</span></span><br><span class="line">predict = model(Variable(x_train))</span><br><span class="line">predict = predict.data.numpy()  <span class="comment">#è½¬numpy</span></span><br><span class="line">plt.plot(x_train.numpy(), y_train.numpy(), <span class="string">'ro'</span>, label=<span class="string">'Original data'</span>)</span><br><span class="line">plt.plot(x_train.numpy(), predict, label=<span class="string">'Fitting Line'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="/2019/10/10/æ·±åº¦å­¦ä¹ æ€»ç»“/p2.png" alt="p2"></p>
<h3 id="2-å…¶ä»–æµè¡Œç½‘ç»œ"><a href="#2-å…¶ä»–æµè¡Œç½‘ç»œ" class="headerlink" title="2.å…¶ä»–æµè¡Œç½‘ç»œ"></a>2.å…¶ä»–æµè¡Œç½‘ç»œ</h3><ul>
<li>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆè®¡ç®—æœºè§†è§‰ï¼‰</li>
<li>å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆåŸºäºè®°å¿†çš„ç½‘ç»œæ¨¡å‹â€”â€”åºåˆ—é¢„æµ‹ï¼‰</li>
<li>ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆå¯¹æŠ—ç½‘ç»œå°±æ˜¯è®©ä¸¤ä¸ªç½‘ç»œç›¸äº’ç«äº‰ï¼Œé€šè¿‡ç”Ÿæˆç½‘ç»œæ¥ç”Ÿæˆå‡çš„æ•°æ®ï¼Œå¯¹æŠ—ç½‘ç»œé€šè¿‡åˆ¤åˆ«å™¨åˆ¤åˆ«çœŸä¼ªï¼Œæœ€åå¸Œæœ› ç”Ÿæˆç½‘ç»œç”Ÿæˆçš„æ•°æ®èƒ½å¤Ÿä»¥å‡ä¹±çœŸéª—è¿‡åˆ¤åˆ«å™¨ ã€‚ï¼‰</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/" class="post-title-link" itemprop="url">Eloquent JavaScriptå­¦ä¹ ç¬”è®°</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-06 19:37:22" itemprop="dateCreated datePublished" datetime="2019-10-06T19:37:22+08:00">2019-10-06</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-10-11 23:22:45" itemprop="dateModified" datetime="2019-10-11T23:22:45+08:00">2019-10-11</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ç¥ä½œEloquent-JavaScripté˜…è¯»ç¬”è®°"><a href="#ç¥ä½œEloquent-JavaScripté˜…è¯»ç¬”è®°" class="headerlink" title="ç¥ä½œEloquent JavaScripté˜…è¯»ç¬”è®°"></a>ç¥ä½œEloquent JavaScripté˜…è¯»ç¬”è®°</h1><h2 id="Chapter-1-Values-Types-and-Operators"><a href="#Chapter-1-Values-Types-and-Operators" class="headerlink" title="Chapter 1 Values, Types, and Operators"></a>Chapter 1 Values, Types, and Operators</h2><p>ä¸»è¦è®²çš„jsä¸­æ•°æ®çš„ç±»å‹ï¼ŒåŒæ—¶æœ‰è®¸å¤šåº•å±‚ç»†èŠ‚çš„åœ°æ–¹å€¼å¾—æ³¨æ„ã€‚</p>
<ul>
<li><p>Numbersï¼š</p>
<ul>
<li>èŒƒå›´å°äº2<sup>64<sup></sup></sup></li>
<li>ä½†æ˜¯æœ‰äº†è´Ÿæ•°å’Œå°æ•°ç‚¹ï¼Œæ•°æ®åªèƒ½å°äº15ä¸ª0</li>
<li>å¯ä»¥ç”¨ç§‘å­¦è®¡æ•°æ³• 2.998e8</li>
</ul>
</li>
<li><p>Special numbersï¼š</p>
<ul>
<li>ä¸‰ä¸ªç‰¹æ®Šçš„æ•°:Infinity,-Infinity,NaN.</li>
<li>Infinity,-Infinityè¡¨ç¤ºæ­£æ— ç©·å’Œè´Ÿæ— ç©·ï¼Œä½†ä¸è¦å¤ªç›¸ä¿¡ï¼Œå¾ˆå®¹æ˜“è®¡ç®—è½¬åŒ–ä¸ºNaN</li>
<li>NaNè¡¨ç¤ºâ€œä¸æ˜¯ä¸€ä¸ªæ•°å­—â€ï¼Œå½“ä½ æ“ä½œ0/0ï¼Œâˆ-âˆï¼Œæˆ–è€…æ²¡æœ‰æ„ä¹‰çš„è¿ç®—å°±ä¼šå¾—åˆ°NaN</li>
</ul>
</li>
<li><p>Strings:</p>
<ul>
<li>æœ‰ä¸‰ç§æ ¼å¼ å•å¼•å·â€™â€™ï¼ŒåŒå¼•å·â€â€ å’Œåå¼•å· ``</li>
<li>é¦–å…ˆæ³¨æ„åå¼•å·ï¼š<ul>
<li>ç”¨åå¼•å·åœˆèµ·æ¥é‡Œé¢å¯ä»¥ç”¨å›è½¦ä¸è¢«è½¬ä¹‰<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/s1.png" alt="s1"></li>
<li>åå¼•å·é‡Œé¢èƒ½åŒ…å«å˜é‡<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/s2.png" alt="s2"></li>
</ul>
</li>
<li>å†å°±æ˜¯è½¬ä¹‰å­—ç¬¦ï¼š<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/s3.png" alt="s3"></li>
</ul>
</li>
<li><p>Comparisonï¼š</p>
<ul>
<li><code>console.log(NaN == NaN)</code>ç»“æœæ˜¯å‡ï¼Œå› ä¸ºNaNåº”è¯¥è¡¨ç¤ºæ— æ„ä¹‰è®¡ç®—çš„ç»“æœï¼Œå› æ­¤ï¼Œå®ƒä¸ç­‰äºä»»ä½•å…¶ä»–æ— æ„ä¹‰è®¡ç®—çš„ç»“æœã€‚</li>
</ul>
</li>
<li><p>Logical operators<br> -æ³¨æ„ä¼˜å…ˆçº§ï¼š<br> -|| has the lowest precedence, then comes &amp;&amp;, then the comparison operators (&gt;, ==, and so on), and then the rest.</p>
</li>
<li><p>Empty values:</p>
<ul>
<li>ç©ºå€¼ï¼Œæœ‰ä¸¤ä¸ªundefinedå’Œnull å¤§éƒ¨åˆ†æ—¶é—´ä¸åŒºåˆ† å¯çœ‹ä½œå¯ä»¥äº¤æ¢çš„ï¼Œè¡¨ç¤ºæ²¡æœ‰å€¼ï¼Œä½†å¿…é¡»å­˜åœ¨</li>
</ul>
</li>
<li><p>Automatic type conversion:<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/a1.png" alt="a1"></p>
<ul>
<li>ä¸Šè¿°ï¼Œç±»å‹è½¬æ¢ï¼Œå€¼å¾—æ³¨æ„çš„ï¼š<ul>
<li>å½“å·¦å³è¾¹æœ‰nullæˆ–è€…undefined å¿…é¡»ä¸¤è¾¹éƒ½æ˜¯æ‰èƒ½çœŸ å¦åˆ™ä¸ºå‡<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/a2.png" alt="a2"></li>
</ul>
</li>
<li>åŒæ—¶ä½ è¦ä¸¥æ ¼ä¸€ç‚¹å°±ä½¿ç”¨=== å’Œ !==,é™¤éæ¯”è¾ƒçš„ç±»å‹æ˜¯ä¸€æ ·çš„ï¼Œå¦åˆ™å»ºè®®ä½¿ç”¨ä¸‰å…ƒçš„</li>
</ul>
</li>
<li><p>Short-circuiting of logical operators</p>
<ul>
<li>è¿™ä¸ªå¾ˆå‰å®³ï¼ˆé€»è¾‘è¿ç®—ç¬¦çŸ­è·¯ï¼‰<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/sc1.png" alt="sc1"></li>
<li>ç®€å•è¯´å°±æ˜¯ä¸Šè¿°ï¼Œå½“ä½ è¿™æ ·å­å¹¶èµ·æ¥ä½ å·¦è¾¹çš„å€¼ä¸ºç©ºçš„è¯å¯ä»¥æŠŠå³è¾¹çš„å€¼å½“å¤‡é€‰ï¼Œå®ç”¨</li>
<li>è¿˜æœ‰æ˜¯åŒcè¯­è¨€å½“&amp;&amp;çš„å·¦è¾¹ä¸ºå‡å³è¾¹ä¸çœ‹ï¼Œå½“||çš„å·¦è¾¹ä¸ºçœŸå³è¾¹ä¸çœ‹ï¼ŒçŸ­è·¯<h2 id="Chapter-2-Program-Structure"><a href="#Chapter-2-Program-Structure" class="headerlink" title="Chapter 2 Program Structure"></a>Chapter 2 Program Structure</h2>ç¬¬ä¸€ç« æ˜¯åŸºç¡€æ•°å€¼ï¼Œè¿™é‡Œè¯´æ˜ç¼–ç¨‹çš„ç»“æ„</li>
</ul>
</li>
<li><p>Bindings</p>
<ul>
<li>ç»‘å®šçš„æ¦‚å¿µï¼Œç”¨å…³é”®å­—let,const,var</li>
<li>å½¢è±¡çš„æ¦‚å¿µï¼šæ‚¨ä¼šé•¿å‡ºä¸€ä¸ªè§¦æ‰‹æ¥æŠ“ä½å®ƒï¼Œæˆ–è€…å°†ç°æœ‰çš„è§¦æ‰‹é‡æ–°è¿æ¥åˆ°å®ƒä¸Šã€‚æœ‰å¯èƒ½åŒæ—¶ç»‘å®šåˆ°åŒä¸€ä¸ªå€¼</li>
<li>å‘½åè§„åˆ™ï¼š<ul>
<li>å¯ä»¥æœ‰æ•°å­—å’Œå­—æ¯ï¼Œä¸èƒ½æ•°å­—å¼€å¤´</li>
<li>A binding name may include dollar signs ($) or underscores (_) but no other punctuation or special characters.</li>
<li>ä¸èƒ½å…³é”®å­—</li>
</ul>
</li>
</ul>
</li>
<li><p>The Environment </p>
<ul>
<li>ç¯å¢ƒçš„æ¦‚å¿µ:</li>
<li>åœ¨ç»™å®šæ—¶é—´å­˜åœ¨çš„ç»‘å®šåŠå…¶å€¼çš„é›†åˆç§°ä¸ºç¯å¢ƒã€‚ ç¨‹åºå¯åŠ¨æ—¶ï¼Œæ­¤ç¯å¢ƒä¸ä¸ºç©ºã€‚ å®ƒå§‹ç»ˆåŒ…å«ä½œä¸ºè¯­è¨€æ ‡å‡†ä¸€éƒ¨åˆ†çš„ç»‘å®šï¼Œå¹¶ä¸”åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒè¿˜å…·æœ‰æä¾›ä¸å‘¨å›´ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„æ–¹å¼çš„ç»‘å®šã€‚ ä¾‹å¦‚ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œå…·æœ‰ä¸å½“å‰åŠ è½½çš„ç½‘ç«™è¿›è¡Œäº¤äº’ä»¥åŠè¯»å–é¼ æ ‡å’Œé”®ç›˜è¾“å…¥çš„åŠŸèƒ½ã€‚</li>
<li>ç†è§£æ˜¯ä¸ç¯å¢ƒæœ‰å…³çš„ç»‘å®šé›†åˆï¼šç»‘å®šå¯ç”¨äºä»¥åç§°å‘½åæ–‡ä»¶æ•°æ®ï¼Œå®ƒä»¬å¯¹äºè·Ÿè¸ªç¨‹åºä¸­çš„çŠ¶æ€å¾ˆæœ‰ç”¨ã€‚ ç¯å¢ƒæ˜¯å®šä¹‰çš„ç»‘å®šé›†ã€‚ JavaScriptç³»ç»Ÿå§‹ç»ˆåœ¨æ‚¨çš„ç¯å¢ƒä¸­æ”¾ç½®è®¸å¤šæœ‰ç”¨çš„æ ‡å‡†ç»‘å®šã€‚</li>
</ul>
</li>
<li><p>The console.log function</p>
<ul>
<li>ä¸å¯»å¸¸çš„ç»‘å®šï¼Œæ˜¯ä¸€ä¸ªconsoleæ§åˆ¶å°çš„ç»‘å®š</li>
<li>This is because console.log isnâ€™t a simple binding. It is actually an expression that retrieves the log property from the value held by the console binding.</li>
<li>æ­£å¸¸çš„ç»‘å®šæ— .</li>
</ul>
</li>
<li><p>Return values</p>
<ul>
<li>è¿™ç§ä¸çŸ¥é“æ€ä¹ˆè¯´ï¼Œå°±æ˜¯è¯´ä¸æ˜¯return è€Œç”¨console.logæ¥å®ç°çš„å«åšside effect</li>
<li>æ˜¾ç¤ºå¯¹è¯æ¡†æˆ–åœ¨å±å¹•ä¸Šå†™æ–‡æœ¬æ˜¯ä¸€ç§å‰¯ä½œç”¨ã€‚ ç”±äºå®ƒä»¬äº§ç”Ÿçš„å‰¯ä½œç”¨ï¼Œè®¸å¤šåŠŸèƒ½å¾ˆæœ‰ç”¨ã€‚ å‡½æ•°ä¹Ÿå¯ä»¥äº§ç”Ÿå€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä¸éœ€è¦äº§ç”Ÿå‰¯ä½œç”¨å³å¯ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œå‡½æ•°Math.maxæ¥å—ä»»æ„æ•°é‡çš„æ•°å­—å‚æ•°å¹¶è¿”å›æœ€å¤§å€¼ã€‚</li>
<li>â¬†ï¸ç¿»è¯‘æ˜¯å‰¯ä½œç”¨ï¼Œå°±æ˜¯ä¸æ˜¯è¿”å›çš„å€¼</li>
</ul>
</li>
<li><p>Capitalizationï¼š</p>
<ul>
<li>å‘½åæ–¹æ³•<br>â€” æ¨èæ˜¯å°é©¼å³°ï¼Œå¼€å¤´æ˜¯å°å†™</li>
<li>jsé‡Œé¢æ²¡æœ‰å…¶ä»–é¢å‘å¯¹è±¡è¯­è¨€çš„ç±»æ¦‚å¿µï¼Œè€Œæ˜¯constructor æ„é€ å‡½æ•°çš„æ¦‚å¿µï¼Œæ„é€ å‡½æ•°å‘½åè¦å¤§å†™<h2 id="Chapter-3-Functions"><a href="#Chapter-3-Functions" class="headerlink" title="Chapter 3 Functions"></a>Chapter 3 Functions</h2></li>
</ul>
</li>
<li><p>Bindings and scopes</p>
<ul>
<li>ç»‘å®šå’Œä½œç”¨åŸŸ</li>
<li>letå’Œconst(ä¸€ç›´å­˜åœ¨åœ¨ç¨‹åºè¿è¡Œçš„)ä¼šæ˜¯ä¸¥æ ¼çš„å±€éƒ¨ä½œç”¨åŸŸï¼Œvarä¼šæ˜¯å…¨å±€çš„å¯¼è‡´é—®é¢˜<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/c1.png" alt="c1"></li>
</ul>
</li>
<li><p>Nested scope</p>
<ul>
<li>åµŒå¥—ä½œç”¨åŸŸ<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/n1.png" alt="n1"></li>
<li>å—å†…éƒ¨å¯è§çš„ç»‘å®šé›†ç”±è¯¥å—åœ¨ç¨‹åºæ–‡æœ¬ä¸­çš„ä½ç½®ç¡®å®šã€‚ æ¯ä¸ªæœ¬åœ°èŒƒå›´ä¹Ÿå¯ä»¥çœ‹åˆ°åŒ…å«å®ƒçš„æ‰€æœ‰æœ¬åœ°èŒƒå›´ï¼Œå¹¶ä¸”æ‰€æœ‰èŒƒå›´éƒ½å¯ä»¥çœ‹åˆ°å…¨å±€èŒƒå›´ã€‚ è¿™ç§ç»‘å®šå¯è§æ€§çš„æ–¹æ³•ç§°ä¸ºè¯æ³•ä½œç”¨åŸŸã€‚</li>
</ul>
</li>
<li><p>Functions as values</p>
<ul>
<li>å‡½æ•°å’Œå€¼ï¼Œä½ å¯ä»¥æŠŠå‡½æ•°å®šä¹‰æˆä¸€ä¸ªå€¼ï¼Œæœ‰æ—¶å€™ä¼šæ··æ·†ï¼Œä½†æ˜¯å‡½æ•°çš„æ¦‚å¿µæ˜¯å¯ä»¥ä¼ å…¥å€¼æ¥æ‰§è¡Œä¸€ä¸ªæ“ä½œçš„</li>
</ul>
</li>
<li><p>Declaration notation</p>
<ul>
<li>jsé‡Œé¢å«ç³Šä¸æ˜¯ä»ä¸Šè€Œä¸‹çš„ï¼Œå¯ä»¥å…ˆä½¿ç”¨å†å®šä¹‰</li>
</ul>
</li>
<li><p>Arrow functions</p>
<ul>
<li>ç®­å¤´å‡½æ•°ï¼šå››ç§å®šä¹‰ä½¿ç”¨æ–¹æ³•</li>
<li>ä¸€ç§æ­£å¸¸ï¼Œå‚æ•°å¤šï¼Œè¡¨è¾¾å¼å¤š<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/ar1.png" alt="ar1"></li>
<li>ä¸¤ç§çœç•¥å½¢å¼ï¼Œå‚æ•°ä¸€ä¸ªæˆ–è€…è¡¨è¾¾å¼ç®€å•ï¼ˆç›´æ¥è¿”å›ï¼‰<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/ar2.png" alt="ar2"></li>
<li>ä¸€ç§ï¼Œæ²¡æœ‰å‚æ•°ï¼Œè¦å†™ç©ºæ‹¬å·<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/ar3.png" alt="ar3"></li>
</ul>
</li>
<li><p>The call stack</p>
<ul>
<li>è¯´æ˜è°ƒç”¨å’Œè°ƒç”¨è¿”å›çš„åŸç†</li>
<li>å­˜å‚¨è¯¥å †æ ˆéœ€è¦è®¡ç®—æœºå†…å­˜ä¸­çš„ç©ºé—´ã€‚ å½“å †æ ˆå¤ªå¤§æ—¶ï¼Œè®¡ç®—æœºå°†å¤±è´¥ï¼Œå¹¶æ˜¾ç¤ºè¯¸å¦‚â€œå †æ ˆç©ºé—´ä¸è¶³â€æˆ–â€œé€’å½’è¿‡å¤šâ€ä¹‹ç±»çš„æ¶ˆæ¯ã€‚ ä¸‹é¢çš„ä»£ç é€šè¿‡å‘è®¡ç®—æœºæå‡ºä¸€ä¸ªéå¸¸æ£˜æ‰‹çš„é—®é¢˜æ¥è¯´æ˜è¿™ä¸€ç‚¹ï¼Œè¯¥é—®é¢˜ä¼šå¯¼è‡´ä¸¤ä¸ªå‡½æ•°ä¹‹é—´çš„æ— é™å¾€è¿”ã€‚ ç›¸åï¼Œå¦‚æœè®¡ç®—æœºå…·æœ‰æ— é™çš„å †æ ˆï¼Œé‚£å°†æ˜¯æ— é™çš„ã€‚ ç…§åŸæ ·ï¼Œæˆ‘ä»¬å°†ç”¨å®Œç©ºé—´ï¼Œæˆ–â€œç ´åå †æ ˆâ€ã€‚</li>
</ul>
</li>
<li><p>Optional Arguments</p>
<ul>
<li>å®ç”¨çš„ï¼Œç›¸å½“äºå‡½æ•°é‡è½½ï¼Œæ›´åŠ æ–¹ä¾¿</li>
<li>jså‡½æ•°å¯¹å‚æ•°çš„åŸåˆ™ï¼šå¦‚æœé€šè¿‡å¤ªå¤šï¼Œå¤šä½™çš„å°†è¢«å¿½ç•¥ã€‚ å¦‚æœä¼ é€’çš„å‚æ•°å¤ªå°‘ï¼Œåˆ™ä¼šä¸ºç¼ºå¤±çš„å‚æ•°åˆ†é…æœªå®šä¹‰çš„å€¼ã€‚</li>
<li>ä¸‹é¢ä¸¤ç§å°±æ˜¯å…·ä½“çš„ç”¨æ³•<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minus</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (b === <span class="literal">undefined</span>) <span class="keyword">return</span> -a;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power</span>(<span class="params">base, exponent = <span class="number">2</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> count = <span class="number">0</span>; count &lt; exponent; count++) &#123;</span><br><span class="line">    result *= base;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(power(<span class="number">4</span>));</span><br><span class="line"><span class="comment">// â†’ 16</span></span><br><span class="line"><span class="built_in">console</span>.log(power(<span class="number">2</span>, <span class="number">6</span>));</span><br><span class="line"><span class="comment">// â†’ 64</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Closure</p>
<ul>
<li>å°è£…çš„é—®é¢˜ï¼Œå½“ä½ å†æ¬¡ç»‘å®šæ—¶ä¼šæ›´æ–°å±€éƒ¨å˜é‡ç»‘å®šï¼Œæ‰€ä»¥ä¸å¿…è¦æ‹…å¿ƒç»‘å®šçš„ç”Ÿå‘½å‘¨æœŸ<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/cl1.png" alt="cl1"></li>
<li>é«˜çº§æ˜¯ï¼šè€ƒè™‘è¿™æ ·çš„ç¨‹åºéœ€è¦ä¸€äº›ç»ƒä¹ ã€‚ ä¸€ä¸ªå¥½çš„æ€ç»´æ¨¡å‹æ˜¯å°†å‡½æ•°å€¼è§†ä¸ºåŒ…å«å…¶ä¸»ä½“ä»£ç å’Œåˆ›å»ºå®ƒä»¬çš„ç¯å¢ƒçš„ä»£ç ã€‚ è°ƒç”¨å‡½æ•°ä½“æ—¶ï¼Œå®ƒä¼šçœ‹åˆ°åœ¨å…¶ä¸­åˆ›å»ºå®ƒçš„ç¯å¢ƒï¼Œè€Œä¸æ˜¯åœ¨å…¶ä¸­çœ‹åˆ°å®ƒçš„ç¯å¢ƒã€‚<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/cl2.png" alt="cl2"></li>
</ul>
</li>
<li><p>Recursion</p>
<ul>
<li>å›è°ƒå‡½æ•°ï¼Œå®šä¹‰ç±»ä¼¼ï¼Œå¯ä»¥è®©ä»£ç æ›´ä¼˜é›…ï¼Œä½†æ˜¯ä»£ä»·å¯èƒ½æ¯”å¾ªç¯è·‘çš„æ›´æ…¢ï¼Œä½†æ˜¯ä½œè€…å»ºè®®ç”¨å›è°ƒä¾¿äºä»£ç é˜…è¯»ã€‚<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/r1.png" alt="r1"></li>
<li>è¿™ç§å°±å¾ˆä¼˜é›…å¾ˆå¼ºå¤§<h2 id="Chapter-4-Data-Structures-Objects-and-Arrays"><a href="#Chapter-4-Data-Structures-Objects-and-Arrays" class="headerlink" title="Chapter 4 Data Structures: Objects and Arrays"></a>Chapter 4 Data Structures: Objects and Arrays</h2>è¿™ä¸€ç« ä¸»è¦è®²äº†å¯¹è±¡å’Œæ•°ç»„ï¼Œæ˜¯ç”¨ä¸€ä¸ªå®é™…çš„ä¸€ä¸ªäººä¼šå› ä¸ºåšé‚£äº›äº‹æƒ…å¯¼è‡´å˜æˆæ¾é¼ çš„ä¾‹å­æ¥è§£é‡Šçš„ï¼Œæœ€åæ‰¾åˆ°æ˜¯å› ä¸ºåƒäº†åšæœä¸åˆ·ç‰™ä¼šå˜æˆæ¾é¼ ï¼Œæœ‰å¾ˆå¤šæ•°ç»„çš„æ“ä½œå’Œå¯¹è±¡çš„å¤„ç†æ–¹æ³•ï¼Œåªå¯æ„ä¼šä¸å¯è¨€ä¼ ã€‚</li>
</ul>
</li>
<li><p>Properties</p>
<ul>
<li>ç¿»è¯‘æ˜¯å±æ€§ï¼Œè¿™é‡Œæ³¨æ„ä¸¤ç§ä½¿ç”¨æ–¹æ³•ï¼Œå®ƒä»¬éƒ½å¯ä»¥ç»‘å®šåˆ°valueå¯¹è±¡çš„å±æ€§æ‹…æœ‰ä¸åŒï¼š<ul>
<li>value.xï¼ˆåªèƒ½æ˜¯æ˜¾å¼çš„å·²ç»å­˜åœ¨çš„æ–¹æ³•ï¼‰</li>
<li>value[x]ï¼ˆè¿™ä¸ªxæ˜¯å¯ä»¥æ˜¯è¡¨è¾¾å¼æˆ–è€…å˜é‡å¯ä»¥å˜åŒ–çš„å€¼ï¼‰</li>
<li>æ•°ç»„ä¸­çš„å…ƒç´ å­˜å‚¨ä¸ºæ•°ç»„çš„å±æ€§ï¼Œä½¿ç”¨æ•°å­—ä½œä¸ºå±æ€§åç§°ã€‚ å› ä¸ºæ‚¨ä¸èƒ½å°†ç‚¹ç¬¦å·ä¸æ•°å­—ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶ä¸”é€šå¸¸å¸Œæœ›ä½¿ç”¨æ— è®ºå¦‚ä½•éƒ½å¯å®¹çº³ç´¢å¼•çš„ç»‘å®šï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨æ–¹æ‹¬å·ç¬¦å·æ¥è·å–å®ƒä»¬ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>Methods</p>
<ul>
<li>æ–¹æ³•<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/m1.png" alt="m1"></li>
<li>æœ‰è¶£çš„æ˜¯ï¼Œå³ä½¿å¯¹toUpperCaseçš„è°ƒç”¨æœªä¼ é€’ä»»ä½•å‚æ•°ï¼Œè¯¥å‡½æ•°ä»å¯ä»¥è®¿é—®å­—ç¬¦ä¸²â€œ Dohâ€ï¼Œå³æˆ‘ä»¬è°ƒç”¨å…¶å±æ€§çš„å€¼ã€‚ ç¬¬6ç« ä»‹ç»äº†å®ƒçš„å·¥ä½œæ–¹å¼ã€‚</li>
</ul>
</li>
<li><p>Objects</p>
<ul>
<li>ç±»å‹å¯¹è±¡çš„å€¼æ˜¯å±æ€§çš„ä»»æ„é›†åˆã€‚ åˆ›å»ºå¯¹è±¡çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å¤§æ‹¬å·ä½œä¸ºè¡¨è¾¾å¼ã€‚</li>
<li>åœ¨å¤§æ‹¬å·å†…ï¼Œæœ‰ä¸€ä¸ªç”±é€—å·åˆ†éš”çš„å±æ€§åˆ—è¡¨ã€‚ æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªåç§°ï¼Œåè·Ÿä¸€ä¸ªå†’å·å’Œä¸€ä¸ªå€¼ã€‚ å½“å¯¹è±¡è¢«å†™åœ¨å¤šè¡Œä¸Šæ—¶ï¼Œåƒç¤ºä¾‹ä¸­é‚£æ ·ç¼©è¿›å¯ä»¥æé«˜å¯è¯»æ€§ã€‚ åç§°ä¸æ˜¯æœ‰æ•ˆç»‘å®šåç§°æˆ–æœ‰æ•ˆæ•°å­—çš„å±æ€§å¿…é¡»åŠ å¼•å·ã€‚</li>
</ul>
</li>
<li><p>Mutability</p>
<ul>
<li>å‰é¢æ™®é€šç±»å‹çš„å€¼ä¸èƒ½å˜ï¼Œå¯¹è±¡çš„å€¼æ˜¯å¯ä»¥å˜çš„</li>
<li>ç»‘å®šä¹Ÿå¯ä»¥æ˜¯å¯å˜çš„æˆ–æ’å®šçš„ï¼Œä½†è¿™ä¸å®ƒä»¬çš„å€¼çš„è¡Œä¸ºæ–¹å¼æ˜¯åˆ†å¼€çš„ã€‚ å³ä½¿æ•°å­—å€¼ä¸å˜ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨letç»‘å®šé€šè¿‡æ›´æ”¹ç»‘å®šç‚¹æ‰€æŒ‡å‘çš„å€¼æ¥è·Ÿè¸ªå˜åŒ–çš„æ•°å­—ã€‚ åŒæ ·ï¼Œå°½ç®¡ç»‘å®šåˆ°å¯¹è±¡çš„constæœ¬èº«ä¸èƒ½æ›´æ”¹ï¼Œå¹¶ä¸”å°†ç»§ç»­æŒ‡å‘åŒä¸€å¯¹è±¡ï¼Œä½†æ˜¯è¯¥å¯¹è±¡çš„å†…å®¹å¯èƒ½ä¼šæ›´æ”¹ã€‚<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/mu1.png" alt="mu1"></li>
</ul>
</li>
<li><p>The lycanthropeâ€™s log</p>
<ul>
<li>ä¸€ç§ç®€å†™å¯¹è±¡çš„æ–¹å¼<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/t1.png" alt="t1"></li>
</ul>
</li>
<li><p>Array loops</p>
<ul>
<li>ç®€å•ä¸ç”¨forå¾ªç¯çš„æ–¹æ³• ç”¨ let of<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/arr1.png" alt="arr1"></li>
</ul>
</li>
<li><p>Further arrayology</p>
<ul>
<li>ç®€å•çš„è¯´æ˜äº†å¤šç§arrayçš„æ–¹æ³•<ul>
<li>shift</li>
<li>unshift</li>
<li>indexOf</li>
<li>lastIndexof</li>
<li>slice</li>
<li>contact</li>
</ul>
</li>
</ul>
</li>
<li><p>Strings and their properties</p>
<ul>
<li>å­—ç¬¦ä¸²è™½ç„¶å¯ä»¥çœ‹æˆå¯¹è±¡ï¼Œä½†ä»–ä»¬ä¸èƒ½éšä¾¿ä¹±ç»™å±æ€§å’Œæ–¹æ³•ï¼Œå¸¸ç”¨å¯è¡Œçš„æ–¹æ³•æ˜¯indexå’Œslice<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/sl1.png" alt="sl1"></li>
<li>The trim method removes whitespace (spaces, newlines, tabs, and similar characters) from the start and end of a string. å»é™¤ç©ºæ ¼æ¢è¡Œtabå’Œç±»ä¼¼çš„ä¸œè¥¿</li>
<li>You can split a string on every occurrence of another string with split and join it again with join.æ‹†åˆ†å’Œåˆå¹¶</li>
<li>æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å­—ç¬¦ä¸²ç±»å‹çš„lengthå±æ€§ã€‚ è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å„ä¸ªå­—ç¬¦çœ‹èµ·æ¥å°±åƒè®¿é—®æ•°ç»„å…ƒç´ ï¼ˆæœ‰å…³è­¦å‘Šï¼Œæˆ‘ä»¬å°†åœ¨ç¬¬5ç« ä¸­è¿›è¡Œè®¨è®ºï¼‰ã€‚è™½ç„¶ç”¨ä¸‹æ ‡å¯ä»¥è®¿é—®ä½†æœ‰æ½œåœ¨è­¦å‘Š</li>
</ul>
</li>
<li><p>Rest parameters</p>
<ul>
<li>æ¥å—ä»»æ„çš„å‚æ•°å€¼ å¾ˆæœ‰ç”¨<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/re1.png" alt="re1"></li>
<li>let words = [â€œneverâ€, â€œfullyâ€];<br>console.log([â€œwillâ€, â€¦words, â€œunderstandâ€]);<br>// â†’ [â€œwillâ€, â€œneverâ€, â€œfullyâ€, â€œunderstandâ€]</li>
<li>è¿™ä¼šå°†æ•°ç»„â€œæ‰©å±•â€åˆ°å‡½æ•°è°ƒç”¨ä¸­ï¼Œå¹¶å°†å…¶å…ƒç´ ä½œä¸ºå•ç‹¬çš„å‚æ•°ä¼ é€’ã€‚<h2 id="Chapter-5-Higher-Order-Functions"><a href="#Chapter-5-Higher-Order-Functions" class="headerlink" title="Chapter 5 Higher-Order Functions"></a>Chapter 5 Higher-Order Functions</h2>è®²è§£å¦‚ä½•å†™å‡ºé«˜é˜¶çš„å‡½æ•°ï¼Œå°±æ˜¯è¯´ä¸ä»…ä»…æ˜¯ç»™ä¸€ä¸ªå‚æ•°è¿”å›ä¸€ä¸ªå€¼</li>
</ul>
</li>
<li><p>Higher-order functions</p>
<ul>
<li>we can have functions that create new functions.<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/51.png" alt="51"></li>
<li>we can have functions that change other functions.<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/52.png" alt="52"></li>
<li>We can even write functions that provide new types of control flow.<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/53.png" alt="53"></li>
<li>There is a built-in array method, forEach, that provides something like a for/of loop as a higher-order function.<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/54.png" alt="54"></li>
</ul>
</li>
<li><p>Script data set</p>
<ul>
<li>SCRIPTæ•°æ®é›† åŒ…å«äº†å¤šå›½çš„ä¸åŒunicode<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">name: <span class="string">"Coptic"</span>,</span><br><span class="line">ranges: [[<span class="number">994</span>, <span class="number">1008</span>], [<span class="number">11392</span>, <span class="number">11508</span>], [<span class="number">11513</span>, <span class="number">11520</span>]],</span><br><span class="line">direction: <span class="string">"ltr"</span>,</span><br><span class="line">year: <span class="number">-200</span>,</span><br><span class="line">living: <span class="literal">false</span>,</span><br><span class="line">link: <span class="string">"https://en.wikipedia.org/wiki/Coptic_alphabet"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Filtering arrays</p>
<ul>
<li>filteråªè¯»ä¸ä¼šæ”¹å˜ ï¼Œ mapå¯ä»¥æ”¹å˜arrayçš„å€¼</li>
</ul>
</li>
<li><p>Summarizing with reduce</p>
<ul>
<li>redueceé€šè¿‡é‡å¤ä»æ•°ç»„ä¸­è·å–å•ä¸ªå…ƒç´ å¹¶å°†å…¶ä¸å½“å‰å€¼ç»„åˆæ¥æ„å»ºå€¼ã€‚åœ¨å¯¹æ•°å­—æ±‚å’Œæ—¶ï¼Œæ‚¨å°†ä»æ•°å­—é›¶å¼€å§‹ï¼Œç„¶åå°†æ¯ä¸ªå…ƒç´ åŠ åˆ°æ€»å’Œä¸­ã€‚<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/re.png" alt="re"></li>
</ul>
</li>
<li><p>Composability</p>
<ul>
<li>é€šå¸¸ï¼Œæ‚¨å¯ä»¥è´Ÿæ‹…å¾—èµ·å¯è¯»çš„æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœæ‚¨è¦å¤„ç†å¤§é‡æ•°ç»„å¹¶ä¸”è¿›è¡Œå¤šæ¬¡ï¼Œé‚£ä¹ˆæŠ½è±¡åº¦è¾ƒä½çš„æ ·å¼å¯èƒ½å€¼å¾—å¢åŠ é€Ÿåº¦ã€‚<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/func1.png" alt="func1"><br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/func2.png" alt="func2"></li>
</ul>
</li>
</ul>
<h2 id="Chapter-6-The-Secret-Life-of-Objects"><a href="#Chapter-6-The-Secret-Life-of-Objects" class="headerlink" title="Chapter 6 The Secret Life of Objects"></a>Chapter 6 The Secret Life of Objects</h2><p>è®²è§£jsé‡Œå¯¹è±¡çš„æ¦‚å¿µï¼Œç”±äºjsæœ€å¼€å§‹æ²¡æœ‰å†…ç½®è¿™ç§ä¸œè¥¿ï¼Œå°±è¡ç”Ÿå‡ºè®¸å¤šæ–¹æ³•æ¥ä½¿ç”¨å¯¹è±¡ï¼Œä¹‹åæ‰æ·»åŠ å®Œå–„</p>
<ul>
<li>Encapsulation<ul>
<li>å°è£…</li>
<li>ä¸€ä¸ªç±»åŒ…å«ç§æœ‰çš„å’Œå…¬å…±çš„ï¼ŒåŒ…å«å±æ€§ä¸æ–¹æ³•ï¼Œå°†æ•´ä½“å°è£…èµ·æ¥ï¼Œå¤–ç•Œä¸éœ€è¦çŸ¥é“å†…éƒ¨çš„ç»“æ„å°±å¯ä»¥ç›´æ¥è°ƒç”¨æ–¹æ³•ä½¿ç”¨ä¸€äº›åŠŸèƒ½</li>
</ul>
</li>
<li>Prototypes<ul>
<li>jsé‡Œé¢å¾ˆé‡è¦çš„ç»§æ‰¿äº†åŸç”Ÿç±»ï¼Œå°±æ˜¯å½“ä½ ç±»æ²¡æœ‰è°ƒç”¨çš„æ–¹æ³•å°±ä¼šåˆ°åŸç”Ÿç±»ä¸­å»æœç´¢ä½¿ç”¨ï¼ŒåŸå‹æ˜¯å¦ä¸€ä¸ªç”¨ä½œå±æ€§çš„å¤‡ç”¨æºçš„å¯¹è±¡ã€‚<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/p1.png" alt="p1"></li>
</ul>
</li>
<li>Methods<ul>
<li>æ³¨æ„functioné‡Œé¢thisçš„ä½¿ç”¨</li>
<li>thiså°±ç›¸å½“äºé¢å¤–ä¼ é€’äº†å‚æ•°ï¼ˆé›†æˆäº†ç±»ï¼‰ï¼Œè€Œä¸ä»…ä»…æ‹¬å·ä¼ é€’çš„ï¼Œå› æ­¤æ¯ä¸ªfunctionè°ƒç”¨çš„æ—¶å€™å°±å¿…é¡»æŒ‡å®šä¸€this(bind)</li>
<li>å½“ä½ ä¸€ä¸ªå‡½æ•°é‡Œé¢è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œå¦å¤–å‡½æ•°å°±å°±ä¸èƒ½ç”¨thisä¼šæŠ¥é”™ï¼Œä½†æ˜¯ç®­å¤´å‡½æ•°å¯ä»¥ï¼ˆé»˜è®¤ç»‘å®šé™„è¿‘ä½œç”¨åŸŸçš„thisï¼‰<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/ab.png" alt="ab"></li>
</ul>
</li>
<li>Class Notion<ul>
<li>å› æ­¤ï¼ŒJavaScriptç±»æ˜¯å…·æœ‰åŸå‹å±æ€§çš„æ„é€ å‡½æ•°ã€‚ å®ƒä»¬å°±æ˜¯è¿™æ ·å·¥ä½œçš„ï¼Œç›´åˆ°2015å¹´ï¼Œæ‚¨æ‰å¿…é¡»ç¼–å†™å®ƒä»¬ã€‚ è¿™äº›å¤©ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªä¸å¤ªå°´å°¬çš„è¡¨ç¤ºæ³•ã€‚<br><img src="/2019/10/06/Eloquent-JavaScriptå­¦ä¹ ç¬”è®°/clas.png" alt="clas"></li>
</ul>
</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/04/hexoåšå®¢æ­å»ºçš„å‘/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/04/hexoåšå®¢æ­å»ºçš„å‘/" class="post-title-link" itemprop="url">hexoåšå®¢æ­å»ºçš„å‘</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-04 21:20:02 / ä¿®æ”¹æ—¶é—´ï¼š21:59:59" itemprop="dateCreated datePublished" datetime="2019-10-04T21:20:02+08:00">2019-10-04</time>
            </span>
          
            

            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>hexoæ˜¯ä¸€ä¸ªæŒºå¥½çš„åŸºç¡€åšå®¢æ­å»ºæ–¹æ³•ï¼Œä½†æ“ä½œè¿‡ç¨‹ä¸­é‡åˆ°æŒºå¤šå‘ï¼Œè¿™é‡Œå¡«èµ·æ¥ï¼Œå¸®åŠ©ä»¥åçš„å°èœé¸Ÿä»¬ã€‚</p>
<h2 id="å‘ä¸€ï¼š"><a href="#å‘ä¸€ï¼š" class="headerlink" title="å‘ä¸€ï¼š"></a>å‘ä¸€ï¼š</h2><p>æ‰¾åˆ°åˆé€‚çš„æ­å»ºæ•™ç¨‹ç½‘ç«™ï¼ˆè¯¦ç»†çš„å¥½çš„ï¼‰æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºä¹‹å‰çš„ç½‘ç«™ä¸æ˜¯å¤ªè¯¦ç»†è¿˜æœ‰å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ï¼Œå¯¼è‡´remoteå¤±è´¥å¾ˆæ˜¯å—æŒ«ï¼Œä¹‹åæ‰¾åˆ°ä¸€ç¯‡å¥½æ–‡ç« ï¼Œè·Ÿç€æ•™ç¨‹é¡ºåˆ©æ­å»ºã€‚</p>
<p>æ¨èæ•™ç¨‹ï¼š<a href="https://blog.csdn.net/qq_36759224/article/details/82121420" target="_blank" rel="noopener">ä½¿ç”¨ Github Pages å’Œ Hexo æ­å»ºè‡ªå·±çš„ç‹¬ç«‹åšå®¢ã€è¶…çº§è¯¦ç»†çš„å°ç™½æ•™ç¨‹ã€‘</a></p>
<h2 id="å‘äºŒï¼š"><a href="#å‘äºŒï¼š" class="headerlink" title="å‘äºŒï¼š"></a>å‘äºŒï¼š</h2><p>æ ¹æ®æ•™ç¨‹é¡ºåˆ©çš„æ­å»ºæ•™ç¨‹äº†ï¼Œè¿›ä¸€æ­¥æ˜¯æ›´æ”¹è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œè¿™é‡Œå…ˆæ˜¯åœ¨<a href="https://hexo.io/themes/" target="_blank" rel="noopener">Hexoå®˜æ–¹ä¸»é¢˜</a>æ‰¾åˆ°æŒºç®€å•æ¸…æ–°çš„ä¸»é¢˜ï¼Œä¸‹è½½åå´æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæœ‰çš„æ˜¯å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥ï¼Œå°è¯•äº†hexo clean -&gt; hexo gç­‰ç­‰æ“ä½œè¿˜æ˜¯ä¸€å›¢ç³Ÿï¼Œæœ€åé€‰æ‹©äº†<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">NexTä¸»é¢˜</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§å®¶ç”¨æˆ·æ’è¡Œæœ€é«˜çš„ä¸»é¢˜ï¼ŒåŒ…ä¹Ÿæ¯”ä¹‹å‰çš„å¤§ï¼Œå°±ç›¸å½“äºå¤§å‚ä¸å±±å¯¨çš„åŒºåˆ«ï¼ŒåŒæ—¶è¿˜æœ‰å¾ˆå¤šè¿›é˜¶æ–¹æ³•ï¼Œæ¨èä½¿ç”¨NextTè€Œä¸é‡‡ç”¨æ°‘é—´è‡ªåˆ¶çš„ä¸»é¢˜ã€‚<br><img src="/2019/10/04/hexoåšå®¢æ­å»ºçš„å‘/next.png" alt="Next"></p>
<p><strong>åŒæ—¶<a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">hexo</a>æœ‰ä¿®æ”¹åŸŸåç­‰ï¼Œ<a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">NexT</a>æœ‰è¿›é˜¶è®¾å®šç­‰è¿›é˜¶æ–¹æ³•ï¼Œæƒ³è®©è‡ªå·±çš„åšå®¢èŠ±é‡Œèƒ¡å“¨å¯ä»¥è‡ªå·±åœ¨å®˜ç½‘å»å°è¯•</strong></p>
<h2 id="å‘ä¸‰ï¼š"><a href="#å‘ä¸‰ï¼š" class="headerlink" title="å‘ä¸‰ï¼š"></a>å‘ä¸‰ï¼š</h2><p>æœ€å¸¸ç”¨ä¹Ÿæœ€å‘çš„å‘ğŸ˜‚â€”â€”åœ¨åšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼š<br>å½“ä½ ç›´æ¥åœ¨mdæ–‡ä»¶é‡Œé¢ç¼–å†™åšå®¢çš„æ—¶å€™é‡‡ç”¨æ ¼å¼æ¥æ’å…¥å›¾ç‰‡ï¼Œä½†æ˜¯å½“éƒ¨ç½²åˆ°åšå®¢ä¸Šå°±ä¼šå‡ºç°é—®é¢˜ï¼Œç™¾åº¦å¾ˆå®¹æ˜“å¾—åˆ°è§£å†³æ–¹æ¡ˆ<br><img src="/2019/10/04/hexoåšå®¢æ­å»ºçš„å‘/solution.png" alt="solution"><br>è¿™ç§çƒ‚å¤§è¡—çš„æ–¹æ³•åœ¨å¾ˆå¤šåšå®¢ä¸­éƒ½é‡å¤å‡ºç°ï¼Œä¸çŸ¥é“è°æŠ„è°çš„å§‹ç»ˆæ²¡æœ‰è§£å†³ï¼Œä¹Ÿè®¸æ˜¯åšå®¢å†™çš„æ—¶é—´æ¯”è¾ƒæ—©çš„é—®é¢˜ï¼ŒçŸ¥é“åŠä¸ªå°æ—¶çš„è‹¦è‹¦æœç´¢æ‰¾åˆ°ä¸€ç¯‡<a href="https://blog.csdn.net/Strong997/article/details/97767929" target="_blank" rel="noopener">è‰¯å¿ƒåšå®¢</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ç”¨ä¸Šè¿°æ–¹æ³•å®‰è£…å›¾ç‰‡ä¸Šä¼ æ ¼å¼æ‰èƒ½æœ‰æ•ˆï¼Œç»ˆäºè§£å†³äº†ğŸ˜­ã€‚</p>
<p>å¸Œæœ›ä¸Šè¿°ä¸‰ç‚¹èƒ½å¸®åŠ©å¤§å®¶æ­å»ºä¸€ä¸ªåŸºç¡€çš„åšå®¢ï¼Œå†é€æ­¥è¿›é˜¶æˆå¤§ç¥æŠŠï¼</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/04/Webpackå­¦ä¹ è¿‡ç¨‹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
      <meta itemprop="description" content="You are my JavaSript in my HTML.">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/04/Webpackå­¦ä¹ è¿‡ç¨‹/" class="post-title-link" itemprop="url">Webpackå­¦ä¹ è¿‡ç¨‹</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-04 20:34:32" itemprop="dateCreated datePublished" datetime="2019-10-04T20:34:32+08:00">2019-10-04</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-10-06 19:58:40" itemprop="dateModified" datetime="2019-10-06T19:58:40+08:00">2019-10-06</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ›²æŠ˜çš„Webpackå­¦ä¹ "><a href="#æ›²æŠ˜çš„Webpackå­¦ä¹ " class="headerlink" title="æ›²æŠ˜çš„Webpackå­¦ä¹ "></a>æ›²æŠ˜çš„Webpackå­¦ä¹ </h1><p>é¦–å…ˆæ˜ç™½Webpackæ˜¯å¹²å•¥çš„:</p>
<blockquote>
<p><strong>Webpack</strong> æ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºåŠ è½½å’Œæ‰“åŒ…å·¥å…·ã€‚æ‰€è°“çš„æ¨¡å—å°±æ˜¯åœ¨å¹³æ—¶çš„å‰ç«¯å¼€å‘ä¸­ï¼Œç”¨åˆ°ä¸€äº›é™æ€èµ„æºï¼Œå¦‚JavaScriptã€CSSã€å›¾ç‰‡ç­‰æ–‡ä»¶ï¼Œwebpackå°±å°†è¿™äº›é™æ€èµ„æºæ–‡ä»¶ç§°ä¹‹ä¸ºæ¨¡å—ã€‚ webpackæ”¯æŒAMDå’ŒCommonJSï¼Œä»¥åŠå…¶ä»–çš„ä¸€äº›æ¨¡å—ç³»ç»Ÿï¼Œå¹¶ä¸”å…¼å®¹å¤šç§JSä¹¦å†™è§„èŒƒï¼Œå¯ä»¥å¤„ç†æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥å…·æœ‰æ›´å¼ºå¤§çš„JSæ¨¡å—åŒ–çš„åŠŸèƒ½ï¼Œå®ƒèƒ½å¯¹é™æ€èµ„æºè¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ä»¥åŠæ‰“åŒ…å‘å¸ƒã€‚</p>
</blockquote>
<p>æˆ‘çš„ç†è§£å°±æ˜¯å°†å¤šç§æ ¼å¼çš„å‰ç«¯è®¾è®¡ç´ ææ‰“åŒ…æˆæ›´è§„èŒƒæ›´æ¸…æ™°çš„æ ¼å¼ä¾¿äºä½¿ç”¨å’Œäº¤æµã€‚</p>
<h2 id="ä¸€ã€è‰°éš¾çš„Webpackå®‰è£…"><a href="#ä¸€ã€è‰°éš¾çš„Webpackå®‰è£…" class="headerlink" title="ä¸€ã€è‰°éš¾çš„Webpackå®‰è£…"></a>ä¸€ã€è‰°éš¾çš„Webpackå®‰è£…</h2><h3 id="é—®é¢˜ä¸€ï¼šWebpackå…¨å±€å®‰è£…"><a href="#é—®é¢˜ä¸€ï¼šWebpackå…¨å±€å®‰è£…" class="headerlink" title="é—®é¢˜ä¸€ï¼šWebpackå…¨å±€å®‰è£…"></a>é—®é¢˜ä¸€ï¼šWebpackå…¨å±€å®‰è£…</h3><p>é¦–å…ˆè¦æ˜ç™½çš„æ˜¯ï¼Œwebpackå¯ä»¥é’ˆå¯¹æŸä¸€ä¸ªå‰ç«¯é¡¹ç›®æ¥ä½¿ç”¨ï¼Œè¿™æ—¶å€™åœ¨é¡¹ç›®æ–‡ä»¶å¤¹æ‰§è¡Œ:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack</span><br></pre></td></tr></table></figure>

<p>åªä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹èƒ½å¤Ÿä½¿ç”¨webpackæŒ‡ä»¤ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨å…¨å±€å®‰è£…,æ‰èƒ½åœ¨æ‰€æœ‰é¡¹ç›®ä½¿ç”¨Webpack</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack -g</span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜äºŒï¼šWebpack-cliå®‰è£…"><a href="#é—®é¢˜äºŒï¼šWebpack-cliå®‰è£…" class="headerlink" title="é—®é¢˜äºŒï¼šWebpack-cliå®‰è£…"></a>é—®é¢˜äºŒï¼šWebpack-cliå®‰è£…</h3><p>å½“ä½ å®‰è£…å®ŒWebpackä¹‹åï¼Œä½¿ç”¨å®ƒè¿˜éœ€è¦å®‰è£…Webpack-cli,æç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The CLI moved into a separate package: webpack-cli</span><br><span class="line">Would you like to install webpack-cli? (That will run npm install -D webpack-cli) (yes/NO</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ä¸ªå°´å°¬çš„é—®é¢˜ğŸ˜‚ï¼Œå½“ä½ å®‰è£…å®Œcliå¥¹è¦ä½ åå¤çš„å®‰è£…Webpack-cli!å› ä¸ºWebpack-cliä¹Ÿéœ€è¦å…¨å±€å®‰è£…ï¼ï¼<br>æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-cli -g</span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜ä¸‰ï¼šnpmä¸‹è½½æ…¢"><a href="#é—®é¢˜ä¸‰ï¼šnpmä¸‹è½½æ…¢" class="headerlink" title="é—®é¢˜ä¸‰ï¼šnpmä¸‹è½½æ…¢"></a>é—®é¢˜ä¸‰ï¼šnpmä¸‹è½½æ…¢</h3><p>ç”±äº npm å®‰è£…é€Ÿåº¦æ…¢ï¼Œæœ¬æ•™ç¨‹ä½¿ç”¨äº†æ·˜å®çš„é•œåƒåŠå…¶å‘½ä»¤ cnpmï¼Œå®‰è£…ä½¿ç”¨ä»‹ç»å‚ç…§ï¼š<a href="https://www.runoob.com/nodejs/nodejs-npm.html" target="_blank" rel="noopener">ä½¿ç”¨æ·˜å® NPM é•œåƒ</a>ã€‚<br><strong><em>åŒæ—¶æ³¨æ„npmå’Œcnpmä¸èƒ½æ··ç”¨ï¼Œå¦åˆ™ä¹Ÿä¼šæœ‰é”™è¯¯ï¼Œè¦å®‰è£…Webpackç»Ÿä¸€ä½¿ç”¨cnpm</em></strong></p>
<h3 id="é—®é¢˜å››ï¼šWebpackæ‰§è¡Œæ‰“åŒ…å‘½ä»¤å‡ºç°é—®é¢˜"><a href="#é—®é¢˜å››ï¼šWebpackæ‰§è¡Œæ‰“åŒ…å‘½ä»¤å‡ºç°é—®é¢˜" class="headerlink" title="é—®é¢˜å››ï¼šWebpackæ‰§è¡Œæ‰“åŒ…å‘½ä»¤å‡ºç°é—®é¢˜"></a>é—®é¢˜å››ï¼šWebpackæ‰§è¡Œæ‰“åŒ…å‘½ä»¤å‡ºç°é—®é¢˜</h3><p>å¥½ä¸å®¹æ˜“å®‰è£…å®Œäº†ï¼Œè¦æ‰“åŒ…é¡¹ç›®åˆå‡ºç°é—®é¢˜ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack runoob1.js boundle.js</span><br></pre></td></tr></table></figure>

<p><img src="/2019/10/04/Webpackå­¦ä¹ è¿‡ç¨‹/error.png" alt="error"><br>è¿™ä¸ªä»£ç å®é™…ä¸Šæ˜¯ä»¥å‰çš„ä»£ç ï¼Œç°åœ¨éœ€è¦æ›´ä¸¥æ ¼çš„ä»£ç è¯´æ˜</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack runoob1.js --output-filename bundle.js --output-path . --mode development</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç å°±ä¸ä¼šæŠ¥é”™ï¼Œè¿›ä¸€æ­¥å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œé…ç½®modeå’Œè¾“å‡ºè·¯å¾„ä¸è¾“å‡ºæ–‡ä»¶åå°±ä¸ä¼šæŠ¥é”™ã€‚</p>
<h2 id="äºŒã€Webpackç³»ç»Ÿå­¦ä¹ -é˜®ä¸€å³°æ•™ç¨‹"><a href="#äºŒã€Webpackç³»ç»Ÿå­¦ä¹ -é˜®ä¸€å³°æ•™ç¨‹" class="headerlink" title="äºŒã€Webpackç³»ç»Ÿå­¦ä¹ (é˜®ä¸€å³°æ•™ç¨‹)"></a>äºŒã€Webpackç³»ç»Ÿå­¦ä¹ (<a href="https://github.com/ruanyf/webpack-demos" target="_blank" rel="noopener">é˜®ä¸€å³°æ•™ç¨‹</a>)</h2><blockquote>
<p>è¿™é‡Œéœ€è¯´æ˜å…ˆå…¨å±€å®‰è£…npm i -g webpack webpack-dev-serveræ‰èƒ½è·‘é˜®ä¸€å³°çš„é¡¹ç›®</p>
</blockquote>
<h4 id="foreword"><a href="#foreword" class="headerlink" title="foreword"></a>foreword</h4><p>ä»‹ç»å•¥æ˜¯webpackï¼Œéœ€è¦ä¸€ä¸ªwebpack.config.jsæ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨webpackä¸å¸¦å…¶ä»–å‚æ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>webpackçš„å‚æ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">webpack <span class="comment">// building for development</span></span><br><span class="line">webpack -p <span class="comment">// building for production (minification)</span></span><br><span class="line">webpack --watch <span class="comment">// for continuous incremental building</span></span><br><span class="line">webpack -d <span class="comment">// including source maps</span></span><br><span class="line">webpack --colors <span class="comment">// making building output pretty</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥å®šä¹‰package.json æ¥ä½¿ç”¨npm run devæ–¹æ³•</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// ...</span><br><span class="line"> "scripts": &#123;</span><br><span class="line">   "dev": "webpack-dev-server --devtool eval --progress --colors",</span><br><span class="line">   "deploy": "NODE_ENV=production webpack -p"</span><br><span class="line"> &#125;,</span><br><span class="line"> // ...</span><br></pre></td></tr></table></figure>

<h4 id="demo01"><a href="#demo01" class="headerlink" title="demo01"></a>demo01</h4><p>webpackæœ‰ä¸ªå…¥å£æ–‡ä»¶main.jsç”¨æ¥æ‰“åŒ…<br>webpackä¾ç…§webpack.config.jsæ–¹æ³•æ¥æ‰“åŒ…</p>
<h4 id="demo02"><a href="#demo02" class="headerlink" title="demo02"></a>demo02</h4><p>å¯ä»¥æœ‰å¤šä¸ªæ‰“åŒ…å…¥å£æ–‡ä»¶ï¼Œåˆ™åœ¨configä¸­è®¾å®šï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    bundle1: <span class="string">'./main1.js'</span>,</span><br><span class="line">    bundle2: <span class="string">'./main2.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].js'</span> <span class="comment">//è¿™é‡Œè¾“å‡ºåç§°å¯ä»¥é»˜è®¤</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="Demo03-Babel-loader"><a href="#Demo03-Babel-loader" class="headerlink" title="Demo03: Babel-loader"></a>Demo03: Babel-loader</h4><p>é¢„å¤„ç†å™¨ï¼Œå°†jsxè¯­è¨€è½¬æˆå°±æ˜¯è¯­è¨€Babel-loaderï¼Œè¿˜æœ‰å…¶ä»–ç§ç±»çš„<br>jsx:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.jsx</span></span><br><span class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</span><br><span class="line"><span class="keyword">const</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;h1&gt;Hello, world!&lt;/h1&gt;,</span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'#wrapper'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>webpack.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./main.jsx'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123; <span class="comment">//è¦å¤šå®šä¹‰æ¨¡å—</span></span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            presets: [<span class="string">'es2015'</span>, <span class="string">'react'</span>]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="Demo04-CSS-loader"><a href="#Demo04-CSS-loader" class="headerlink" title="Demo04: CSS-loader"></a>Demo04: CSS-loader</h4><p>å¦‚æœåœ¨JSæ–‡ä»¶åŒ…å«CSSï¼Œä¹Ÿå¯ä»¥æ‰“åŒ…css<br>webpack.config.jsï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules:[</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [ <span class="string">'style-loader'</span>, <span class="string">'css-loader'</span> ]</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶å°±ä¼šæ–¹ä¾¿å¾—å¤šã€‚åŒæ—¶æ³¨æ„è¿™é‡Œéœ€è¦â€™style-loaderâ€™, â€˜css-loaderâ€™ä¸¤ä¸ªloader</p>
<h4 id="Demo05-Image-loader"><a href="#Demo05-Image-loader" class="headerlink" title="Demo05: Image loader"></a>Demo05: Image loader</h4><p>æ‰“åŒ…å›¾ç‰‡<br>webpack.config.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  entry: &apos;./main.js&apos;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &apos;bundle.js&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules:[</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.(png|jpg)$/,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: &apos;url-loader&apos;,</span><br><span class="line">            options: &#123;</span><br><span class="line">              limit: 8192</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®å›¾ç‰‡å¤§å¤§å°ä¸åŒä¼šæœ‰ä¸åŒçš„è½¬åŒ–æ–¹æ³•<br><img src="/2019/10/04/Webpackå­¦ä¹ è¿‡ç¨‹/diff.png" alt="diff"></p>
<h4 id="Demo06-CSS-Module"><a href="#Demo06-CSS-Module" class="headerlink" title="Demo06: CSS Module"></a>Demo06: CSS Module</h4><p>css-loader?modules çš„ CSS Module åŠŸèƒ½å¯ä»¥ç»™ JS æ¨¡å—çš„ CSS è®¾ç½®ä¸€ä¸ªå±€éƒ¨ä½œç”¨åŸŸã€‚ä½ å¯ä»¥ç”¨ :global(selector) (æ›´å¤š) å…³æ‰å®ƒï¼Œä½¿æ ·å¼å˜æˆå…¨å±€çš„ã€‚<br>webpack.config.js</p>
<h4 id="Demo07-UglifyJs-Plugin"><a href="#Demo07-UglifyJs-Plugin" class="headerlink" title="Demo07: UglifyJs Plugin"></a>Demo07: UglifyJs Plugin</h4><p>Webpack ç”¨ä¸€å¥—æ’ä»¶ç³»ç»Ÿæ‰©å±•äº†å®ƒçš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼ŒUglifyJs Plugin å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªæµè¡Œçš„æ’ä»¶ï¼Œå®ƒå¯ä»¥å‹ç¼©æ··æ·†è¾“å‡ºçš„ js ä»£ç ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">var</span> UglifyJsPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨æ’ä»¶</span></span><br><span class="line">  plugins: [<span class="keyword">new</span> UglifyJsPlugin()]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Demo08-HTML-Webpack-Plugin-and-Open-Browser-Webpack-Plugin"><a href="#Demo08-HTML-Webpack-Plugin-and-Open-Browser-Webpack-Plugin" class="headerlink" title="Demo08: HTML Webpack Plugin and Open Browser Webpack Plugin"></a>Demo08: HTML Webpack Plugin and Open Browser Webpack Plugin</h4><p>è¿™ä¸ªä¾‹å­å°†è®²è®²æ€ä¹ˆè½½å…¥ç¬¬ä¸‰æ–¹çš„æ’ä»¶ã€‚</p>
<p>html-webpack-plugin å°†ä¼š<br>ä¸ºä½ åˆ›å»ºä¸€ä¸ª index.html æ–‡ä»¶ã€‚ open-browser-webpack-plugin å¯ä»¥åœ¨ Webpack ç¼–è¯‘å®Œæˆåæ‰“å¼€ä¸€ä¸ªæ–°çª—å£ã€‚</p>
<p>ç°åœ¨ä½ ä¸ä»…ä¸éœ€è¦æ‰‹åŠ¨çš„å†™ index.html æ–‡ä»¶ï¼Œè€Œä¸”ä¹Ÿä¸ç”¨æ‰‹åŠ¨çš„æ‰“å¼€æµè§ˆå™¨äº†ã€‚Webpack éƒ½å¸®ä½ å®Œæˆäº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> HtmlwebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="keyword">var</span> OpenBrowserPlugin = <span class="built_in">require</span>(<span class="string">'open-browser-webpack-plugin'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Demo09-Environment-flags"><a href="#Demo09-Environment-flags" class="headerlink" title="Demo09: Environment flags"></a>Demo09: Environment flags</h4><p>ä½ å¯ä»¥ç”¨ç¯å¢ƒå˜é‡æ¥åŒºåˆ†å¼€å‘ç¯å¢ƒã€‚<br><img src="/2019/10/04/Webpackå­¦ä¹ è¿‡ç¨‹/envir.png" alt="envir"></p>
<h4 id="Demo10-Code-splitting"><a href="#Demo10-Code-splitting" class="headerlink" title="Demo10: Code splitting"></a>Demo10: Code splitting</h4><p>å¯¹äºä¸€ä¸ªå¤§å‹ appï¼ŒæŠŠæ‰€æœ‰ä»£ç å¡åˆ°ä¸€ä¸ªæ–‡ä»¶å¯èƒ½ä¸æ˜¯å¾ˆå¥½ç»´æŠ¤ã€‚Webpack å¯ä»¥æŠŠä¸€ä¸ªåºå¤§çš„ JS æ–‡ä»¶æ‹†åˆ†æˆå‡ å—ã€‚å°¤å…¶ï¼Œæœ‰äº›ä»£ç åªæœ‰ç”¨çš„æ—¶å€™æ‰å¼•å…¥å¯ä»¥æŒ‰éœ€åŠ è½½ã€‚</p>
<p>Webpack ç”¨ require.ensure æ¥å®šä¹‰ä¸€ä¸ªä»£ç ç‚¹ã€‚</p>
<p>require.ensure å‘Šè¯‰ Webpack ./a.js åº”è¯¥ä» bundle.js ä¸­æ‹†åˆ†å‡ºæ¥ï¼Œå•ç‹¬ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p>ç°åœ¨ Webpack æ¥è´Ÿè´£ä¾èµ–ã€è¾“å‡ºå’Œè¿è¡Œæ—¶éœ€è¦çš„ä¸€äº›ä¸œè¥¿ã€‚ä½ ä¸å¿…åœ¨æŠ•å…¥è¿‡å¤šçš„ç²¾åŠ›åœ¨ index.html å’Œ webpack.config.js ä¸Šäº†ã€‚</p>
<p>è¡¨é¢ä¸Šï¼Œä½ ä¸ä¼šæ„Ÿåˆ°ä»€ä¹ˆå˜åŒ–ã€‚ç„¶è€Œï¼ŒWebpack å·²ç»æŠŠ main.js å’Œ a.js æ„å»ºæˆä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ï¼ˆbundle.js and 0.bundle.jsï¼‰ï¼Œå¹¶ä¸”æŒ‰ä¾èµ–å…³ç³»ä¾æ¬¡å¼•å…¥ã€‚</p>
<h4 id="Demo11-Code-splitting-with-bundle-loader"><a href="#Demo11-Code-splitting-with-bundle-loader" class="headerlink" title="Demo11: Code splitting with bundle-loader"></a>Demo11: Code splitting with bundle-loader</h4><p>å¦ä¸€ç§è¿›è¡Œä»£ç åˆ†ç¦»çš„æ–¹æ³•æ˜¯ç”¨ bundle-loaderã€‚</p>
<p>require(â€˜bundle-loader!./a.jsâ€™) å‘Šè¯‰ Webpack ä»å¦ä¸€ä¸ªåŒ…é‡ŒåŠ è½½ a.jsã€‚</p>
<p>ç°åœ¨ Webpack å°†ä¼šæ„å»º main.js åˆ° bundle.js ä¸­, a.js åˆ° 0.bundle.js ä¸­ã€‚</p>
<h4 id="Demo12-Common-chunk"><a href="#Demo12-Common-chunk" class="headerlink" title="Demo12: Common chunk"></a>Demo12: Common chunk</h4><p>å½“å¤šä¸ª Js æ–‡ä»¶æœ‰å…±åŒçš„ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥ CommonsChunkPlugin æŠŠå…¬å…±çš„éƒ¨åˆ†æå–å‡ºæ¥ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚è¿™å¯¹æµè§ˆå™¨ç¼“å­˜å’ŒèŠ‚çœå¸¦å®½æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
<p>ä¸Šé¢çš„ commons.js å°±æ˜¯ main1.jsx å’Œ main2.jsx çš„å…¬å…±éƒ¨åˆ†ã€‚ä¹Ÿå°±æ˜¯åŒ…å«äº† react å’Œ react-domã€‚</p>
<h4 id="Demo13-Vendor-chunk"><a href="#Demo13-Vendor-chunk" class="headerlink" title="Demo13: Vendor chunk"></a>Demo13: Vendor chunk</h4><p>ä½ ä¹Ÿå¯ä»¥ç”¨ CommonsChunkPlugin æå–ç¬¬ä¸‰æ–¹çš„ Js ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ã€‚</p>
<p>ä¸Šé¢çš„ä»£ç ï¼Œentry.vendor: [â€˜jqueryâ€™] å‘Šè¯‰ Webpack jeuery åº”è¯¥è¢«æ‰“åŒ…åˆ°ä¸€ä¸ªå…¬å…± vendor.js åŒ…ä¸­å»ã€‚</p>
<p>å¦‚æœä½ æƒ³è®©ä¸€ä¸ªå…¨å±€çš„å˜é‡åœ¨æ¯ä¸€ä¸ªæ¨¡å—å¯ç”¨ï¼Œæ¯”å¦‚ $ å’Œ jQuery ä¸ç”¨ require(â€œjqueryâ€) å°±å¯ä»¥ç›´æ¥ç”¨ã€‚é‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨ ProvidePlugin (Official doc) è¿™ä¸ªæ’ä»¶ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨çš„è½½å…¥æ¨¡å—ï¼Œè€Œä¸éœ€è¦åˆ°å¤„ import æˆ–è€… requireã€‚</p>
<p>å½“ç„¶ï¼Œè¿™ç§æƒ…å†µï¼Œä½ è¿˜éœ€è¦æ‰‹åŠ¨çš„å…¨å±€çš„è½½å…¥ jquery.js</p>
<p><strong><em>ä»¥ä¸Šæ˜¯ä¸»è¦çš„æ–¹æ³•ä¸­æ–‡ç¿»è¯‘ï¼Œå®é™…ä½¿ç”¨å®Œå…¨å¯ä»¥ç¿»é˜…<a href="https://blog.csdn.net/userkang/article/details/83504048#demo06-css-module-source" target="_blank" rel="noopener">é˜®ä¸€å³°</a>çš„æ‰‹å†Œ</em></strong></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570163730249&di=dcd36b04d1066a90ddb1f132ae3a6bcc&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Ffe60497fd762440686b6d5702c2c9f19df71fb9911009-LVWEJj_fw658"
      alt="æœ›æ˜Ÿçš„å¤ªé˜³èŠ±">
  <p class="site-author-name" itemprop="name">æœ›æ˜Ÿçš„å¤ªé˜³èŠ±</p>
  <div class="site-description" itemprop="description">You are my JavaSript in my HTML.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
    
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">æœ›æ˜Ÿçš„å¤ªé˜³èŠ±</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.1</div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>

<script src="/js/next-boot.js?v=7.4.1"></script>



  





















  

  

  

</body>
</html>
